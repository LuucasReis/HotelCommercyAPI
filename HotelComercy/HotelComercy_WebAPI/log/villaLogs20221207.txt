2022-12-07 09:18:30.132 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:18:31.087 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:31.117 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:31.179 -03:00 [DBG] Created DbConnection. (59ms).
2022-12-07 09:18:31.190 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.639 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.647 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:18:32.653 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-07 09:18:32.655 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-07 09:18:32.662 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:32.688 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:32.691 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.700 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 09:18:32.704 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:18:32.704 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:32.704 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:32.704 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.705 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.706 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:32.725 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:32.725 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.725 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:32.744 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:32.744 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:32.744 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:32.744 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.745 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.745 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:32.750 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:32.754 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.756 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:18:32.756 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.756 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:32.802 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:18:32.988 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:18:33.019 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:33.019 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:33.019 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:33.019 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.019 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.019 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:33.021 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:33.023 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.023 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:18:33.023 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.023 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:33.025 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:33.027 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.028 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:33.099 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:18:33.149 -03:00 [DBG] Hosting starting
2022-12-07 09:18:33.163 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:18:33.165 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:18:33.169 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:18:33.175 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:18:33.177 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:33.177 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:18:33.178 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:33.179 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:18:33.180 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:18:33.181 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:18:33.182 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:18:33.271 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:18:33.291 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:18:33.291 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:18:33.291 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:18:33.291 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:18:33.291 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:18:33.291 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:18:33.291 -03:00 [INF] Hosting environment: Development
2022-12-07 09:18:33.291 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:18:33.291 -03:00 [DBG] Hosting started
2022-12-07 09:18:33.688 -03:00 [DBG] Connection id "0HMMO9KKEKCBJ" accepted.
2022-12-07 09:18:33.689 -03:00 [DBG] Connection id "0HMMO9KKEKCBJ" started.
2022-12-07 09:18:33.722 -03:00 [DBG] Connection id "0HMMO9KKEKCBK" accepted.
2022-12-07 09:18:33.722 -03:00 [DBG] Connection id "0HMMO9KKEKCBK" started.
2022-12-07 09:18:33.752 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" accepted.
2022-12-07 09:18:33.752 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" started.
2022-12-07 09:18:33.797 -03:00 [DBG] Connection 0HMMO9KKEKCBL established using the following protocol: "Tls12"
2022-12-07 09:18:33.846 -03:00 [DBG] Connection id "0HMMO9KKEKCBM" accepted.
2022-12-07 09:18:33.846 -03:00 [DBG] Connection id "0HMMO9KKEKCBM" started.
2022-12-07 09:18:33.847 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" accepted.
2022-12-07 09:18:33.848 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" started.
2022-12-07 09:18:33.867 -03:00 [DBG] Connection 0HMMO9KKEKCBM established using the following protocol: "Tls12"
2022-12-07 09:18:33.870 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:18:33.871 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" received FIN.
2022-12-07 09:18:33.873 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:18:33.883 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:18:33.897 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:18:33.903 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" stopped.
2022-12-07 09:18:33.904 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:18:33.928 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:18:33.929 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:33.933 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:18:33.940 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:18:33.945 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:33.950 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:18:34.022 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:18:34.024 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:34.048 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:18:34.049 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:34.051 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:34.132 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:34.134 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:18:34.145 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.146 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:34.147 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.147 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.147 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.147 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.147 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:18:34.149 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:34.149 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:34.149 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.150 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.150 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.150 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.153 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:18:34.174 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 09:18:34.215 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:18:34.232 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:34.232 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:34.233 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:18:34.233 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:34.233 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:34.240 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.244 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.245 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:34.269 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:34.278 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:18:34.283 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 385.7848ms
2022-12-07 09:18:34.298 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:18:34.301 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.301 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 31ms reading results.
2022-12-07 09:18:34.303 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 5.3609ms
2022-12-07 09:18:34.307 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.307 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 09:18:34.333 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:18:34.337 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:18:34.338 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:18:34.338 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:18:34.373 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:18:34.444 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.4262ms
2022-12-07 09:18:34.493 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 439.8279ms
2022-12-07 09:18:34.494 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:34.495 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" completed keep alive response.
2022-12-07 09:18:34.497 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:34.505 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.506 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:34.506 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 660.8485ms
2022-12-07 09:18:34.549 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:18:34.549 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:18:34.549 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:34.732 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.4681ms
2022-12-07 09:18:39.445 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" received FIN.
2022-12-07 09:18:39.445 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" disconnecting.
2022-12-07 09:18:47.754 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:18:48.976 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:49.001 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:49.058 -03:00 [DBG] Created DbConnection. (53ms).
2022-12-07 09:18:49.069 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.382 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.390 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:18:50.397 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 09:18:50.399 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 09:18:50.407 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:50.437 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:50.441 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.452 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-07 09:18:50.456 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:18:50.456 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:50.456 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:50.456 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.457 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.458 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:50.477 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:50.477 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.477 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:50.497 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:50.497 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.497 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.498 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.498 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.499 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:50.504 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:50.508 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.510 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:18:50.510 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.510 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:50.558 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:18:50.770 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:18:50.802 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:50.802 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.802 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.802 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.802 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.802 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:50.804 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:50.805 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.805 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:18:50.805 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.805 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:50.807 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:50.809 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.811 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:50.881 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:18:50.946 -03:00 [DBG] Hosting starting
2022-12-07 09:18:50.967 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:18:50.973 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:18:50.978 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:18:50.986 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:18:50.988 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:50.988 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:18:50.989 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:50.990 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:18:50.991 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:18:50.993 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:18:50.993 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:18:51.092 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:18:51.114 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:18:51.114 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:18:51.114 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:18:51.114 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:18:51.114 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:18:51.115 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:18:51.115 -03:00 [INF] Hosting environment: Development
2022-12-07 09:18:51.115 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:18:51.115 -03:00 [DBG] Hosting started
2022-12-07 09:18:51.310 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" received FIN.
2022-12-07 09:18:51.317 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" accepted.
2022-12-07 09:18:51.318 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" started.
2022-12-07 09:18:51.332 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:18:51.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" stopped.
2022-12-07 09:18:51.359 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:18:51.477 -03:00 [DBG] Connection id "0HMMO9KPMMOG1" accepted.
2022-12-07 09:18:51.480 -03:00 [DBG] Connection id "0HMMO9KPMMOG1" started.
2022-12-07 09:18:51.520 -03:00 [DBG] Connection 0HMMO9KPMMOG1 established using the following protocol: "Tls12"
2022-12-07 09:18:51.537 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" accepted.
2022-12-07 09:18:51.537 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" started.
2022-12-07 09:18:51.549 -03:00 [DBG] Connection 0HMMO9KPMMOG2 established using the following protocol: "Tls12"
2022-12-07 09:18:51.579 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:18:51.582 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:18:51.595 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:18:51.628 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:18:51.628 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:51.633 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:18:51.642 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:18:51.647 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:51.650 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:18:51.728 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:18:51.731 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:51.771 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:18:51.772 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:18:51.772 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:18:51.772 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:18:51.773 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:18:51.773 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:18:51.773 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:51.815 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:51.911 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:51.913 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:18:51.921 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.923 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:51.923 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.923 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.923 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.923 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.924 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.925 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:18:51.925 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:18:51.925 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.925 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.925 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.925 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:51.926 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:51.926 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.929 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:18:51.945 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 09:18:52.000 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:18:52.016 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:52.016 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:52.017 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:18:52.017 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:52.017 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 09:18:52.025 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.030 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.031 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:52.060 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:52.069 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:18:52.075 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 497.8753ms
2022-12-07 09:18:52.082 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:18:52.086 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:18:52.090 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 6.5510ms
2022-12-07 09:18:52.101 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.102 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 41ms reading results.
2022-12-07 09:18:52.109 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.110 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 09:18:52.137 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.4369ms
2022-12-07 09:18:52.147 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:18:52.151 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:18:52.152 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:18:52.152 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:18:52.245 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:18:52.245 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:18:52.245 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:52.301 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 523.7844ms
2022-12-07 09:18:52.303 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:52.304 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" completed keep alive response.
2022-12-07 09:18:52.306 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:52.312 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.315 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:52.316 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 733.8241ms
2022-12-07 09:18:52.428 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.4807ms
2022-12-07 09:20:04.035 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" received FIN.
2022-12-07 09:20:04.045 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" disconnecting.
2022-12-07 09:20:04.045 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" sending FIN because: "The client closed the connection."
2022-12-07 09:20:04.047 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" stopped.
2022-12-07 09:20:17.682 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" accepted.
2022-12-07 09:20:17.683 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" started.
2022-12-07 09:20:17.684 -03:00 [DBG] Connection 0HMMO9KPMMOG3 established using the following protocol: "Tls12"
2022-12-07 09:20:17.687 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38
2022-12-07 09:20:17.688 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 09:20:17.688 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 09:20:17.688 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:20:17.688 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:17.688 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:20:17.688 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:20:17.691 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:17.691 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:20:17.691 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:20:17.692 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:20:17.693 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 09:20:17.693 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 09:20:17.693 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 09:20:17.701 -03:00 [DBG] Connection id "0HMMO9KPMMOG3", Request id "0HMMO9KPMMOG3:00000002": started reading request body.
2022-12-07 09:20:17.701 -03:00 [DBG] Connection id "0HMMO9KPMMOG3", Request id "0HMMO9KPMMOG3:00000002": done reading request body.
2022-12-07 09:20:17.775 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:20:17.775 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:20:17.775 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:20:17.781 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:20:17.824 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:17.833 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-07 09:20:17.913 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 09:20:17.931 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:17.931 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:17.931 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:17.931 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:17.936 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2022-12-07 09:20:17.936 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:17.937 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:17.944 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:20:18.006 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:20:18.048 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 09:20:18.076 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.077 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 70ms reading results.
2022-12-07 09:20:18.077 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.077 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:18.297 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:18.297 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:18.297 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:18.297 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:18.299 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 608.1981ms
2022-12-07 09:20:18.299 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:20:18.299 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:18.300 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:18.300 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.300 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:18.300 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 612.6340ms
2022-12-07 09:20:18.317 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:20:18.317 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:20:18.317 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:20:18.317 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:18.317 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:18.398 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:20:18.399 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:20:18.399 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:18.399 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:18.400 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:18.400 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:18.400 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:18.400 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.400 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:20:18.400 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:18.401 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:18.401 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:20:18.402 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:18.402 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:18.402 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:18.402 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:18.402 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:18.402 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.402 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.402 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:18.406 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:18.406 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.406 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:20:18.406 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.406 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:18.406 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:18.406 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:18.406 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:18.406 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:18.406 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 6.7153ms
2022-12-07 09:20:18.406 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:18.406 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:18.406 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:18.406 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.407 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:18.407 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 89.7468ms
2022-12-07 09:20:19.698 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - -
2022-12-07 09:20:19.698 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaNumberApi'
2022-12-07 09:20:19.699 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/villaNumberApi'
2022-12-07 09:20:19.699 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 09:20:19.699 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:19.699 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:20:19.699 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:20:19.704 -03:00 [DBG] Authorization was successful.
2022-12-07 09:20:19.705 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 09:20:19.707 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:19.707 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 09:20:19.709 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:19.709 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 09:20:19.710 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-07 09:20:19.712 -03:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .AsNoTracking()
    .Include("Villa")'
2022-12-07 09:20:19.738 -03:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2022-12-07 09:20:19.801 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string) Required, 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string) Required, 8], [Property: Villa.ImageUrl (string) Required, 9], [Property: Villa.Name (string) Required MaxLength(30), 10], [Property: Villa.Occupancy (int) Required, 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqtf (int) Required, 13], [Property: Villa.UpdatedDate (DateTime) Required, 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqtf, v0.UpdatedDate
        FROM VillasNumber AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:20:19.804 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:19.804 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:19.804 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:19.804 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:19.804 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:19.804 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.804 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.804 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-07 09:20:19.808 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-07 09:20:19.810 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.810 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 09:20:19.810 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.811 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:19.818 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:19.818 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:19.818 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:19.818 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:19.822 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 114.4223ms
2022-12-07 09:20:19.822 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 09:20:19.823 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:19.823 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:19.823 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.823 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:19.823 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 124.8050ms
2022-12-07 09:20:21.167 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:20:21.167 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:20:21.167 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:20:21.167 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:21.168 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:21.168 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:20:21.168 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:20:21.168 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:21.168 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:21.168 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:21.168 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:21.168 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:20:21.169 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:21.169 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:21.169 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:21.169 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:21.169 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:21.169 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.169 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.169 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:21.171 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:21.171 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.171 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:20:21.171 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.171 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:21.171 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:21.171 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:21.171 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:21.171 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:21.171 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3.222ms
2022-12-07 09:20:21.171 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:21.171 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:21.171 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:21.171 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.171 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:21.171 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.1316ms
2022-12-07 09:20:23.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" received FIN.
2022-12-07 09:20:23.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" disconnecting.
2022-12-07 09:20:23.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" sending FIN because: "The client closed the connection."
2022-12-07 09:21:28.819 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:21:29.519 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:21:29.536 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:21:29.575 -03:00 [DBG] Created DbConnection. (37ms).
2022-12-07 09:21:29.582 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.849 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.857 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:21:30.864 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 09:21:30.866 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 09:21:30.871 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:21:30.896 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:21:30.899 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.908 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 09:21:30.912 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:21:30.912 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:21:30.912 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:21:30.912 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.913 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.913 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:21:30.932 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:21:30.932 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.933 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:30.951 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:21:30.951 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:30.951 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:30.951 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.951 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.952 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:21:30.955 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:21:30.958 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.960 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:21:30.960 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.960 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:30.999 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:21:31.179 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:21:31.206 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:21:31.207 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:31.207 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:31.207 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.207 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.207 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:21:31.208 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:21:31.210 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.210 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:21:31.210 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.210 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:31.211 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:21:31.213 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.214 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:21:31.282 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:21:31.335 -03:00 [DBG] Hosting starting
2022-12-07 09:21:31.352 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:21:31.354 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:21:31.358 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:21:31.364 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:21:31.366 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:21:31.366 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:21:31.367 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:21:31.367 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:21:31.368 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:21:31.370 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:21:31.370 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:21:31.461 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:21:31.483 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:21:31.483 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:21:31.483 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:21:31.483 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:21:31.483 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:21:31.484 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:21:31.484 -03:00 [INF] Hosting environment: Development
2022-12-07 09:21:31.484 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:21:31.484 -03:00 [DBG] Hosting started
2022-12-07 09:21:31.811 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" accepted.
2022-12-07 09:21:31.811 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" accepted.
2022-12-07 09:21:31.812 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" started.
2022-12-07 09:21:31.812 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" started.
2022-12-07 09:21:31.850 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" received FIN.
2022-12-07 09:21:31.850 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" received FIN.
2022-12-07 09:21:31.867 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:21:31.867 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:21:31.891 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" stopped.
2022-12-07 09:21:31.891 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" stopped.
2022-12-07 09:21:31.893 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:21:31.893 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:21:32.010 -03:00 [DBG] Connection id "0HMMO9M9HB8LA" accepted.
2022-12-07 09:21:32.012 -03:00 [DBG] Connection id "0HMMO9M9HB8LA" started.
2022-12-07 09:21:32.048 -03:00 [DBG] Connection 0HMMO9M9HB8LA established using the following protocol: "Tls12"
2022-12-07 09:21:32.083 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:21:32.109 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:21:32.129 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:21:32.130 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:21:32.301 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:21:32.413 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:21:32.417 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 335.1234ms
2022-12-07 09:21:32.434 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:21:32.434 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:21:32.444 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 9.3695ms
2022-12-07 09:21:32.786 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 351.6041ms
2022-12-07 09:21:32.865 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:21:32.865 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:21:32.865 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:21:33.016 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.7489ms
2022-12-07 09:21:48.883 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47
2022-12-07 09:21:48.893 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 09:21:48.902 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 09:21:48.908 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:21:48.909 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:21:48.980 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:21:48.982 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:21:49.010 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:21:49.012 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:21:49.013 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:21:49.027 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:21:49.028 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 09:21:49.029 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 09:21:49.029 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 09:21:49.048 -03:00 [DBG] Connection id "0HMMO9M9HB8LA", Request id "0HMMO9M9HB8LA:00000009": started reading request body.
2022-12-07 09:21:49.049 -03:00 [DBG] Connection id "0HMMO9M9HB8LA", Request id "0HMMO9M9HB8LA:00000009": done reading request body.
2022-12-07 09:21:49.173 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:21:49.173 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:21:49.173 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:21:49.187 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:21:49.205 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:21:49.229 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-07 09:21:49.406 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 09:21:49.435 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:21:49.435 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:21:49.435 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:21:49.435 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:49.440 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2022-12-07 09:21:49.440 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.440 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.445 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:21:49.480 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:21:49.528 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 09:21:49.550 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.551 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 71ms reading results.
2022-12-07 09:21:49.551 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.551 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:49.700 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:21:49.705 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 09:21:49.705 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:21:49.705 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:21:49.706 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:21:49.706 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:21:49.779 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 764.0017ms
2022-12-07 09:21:49.780 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:21:49.782 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:21:49.789 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.789 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:21:49.790 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 906.1782ms
2022-12-07 09:22:19.280 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=2 - -
2022-12-07 09:22:19.282 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:22:19.282 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:22:19.282 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:19.282 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:22:19.369 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:22:19.371 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:22:19.372 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:19.380 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:22:19.380 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:22:19.381 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:19.449 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:22:19.612 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:19.618 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.619 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'Occupancy' in request data ...
2022-12-07 09:22:19.620 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.620 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.620 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.620 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.620 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:22:19.620 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:22:19.621 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:19.621 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:19.621 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.625 -03:00 [INF] Retornando vilas com base em um filtro.
2022-12-07 09:22:19.635 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Where(x => (int?)x.Occupancy == __Occupancy_0)'
2022-12-07 09:22:19.648 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        WHERE v.Occupancy == @__Occupancy_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:22:19.682 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:22:19.682 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:22:19.682 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:22:19.682 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:19.682 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:19.691 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.702 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.705 -03:00 [DBG] Executing DbCommand [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:19.772 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:19.795 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.795 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 23ms reading results.
2022-12-07 09:22:19.801 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.803 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:22:19.831 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:22:19.833 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:22:19.833 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:22:19.833 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:22:19.833 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:22:19.833 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:22:19.833 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:22:19.836 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 455.2955ms
2022-12-07 09:22:19.837 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:19.838 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:22:19.838 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.838 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:22:19.839 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=2 - - - 200 65 application/json;+charset=utf-8 558.1930ms
2022-12-07 09:22:30.965 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4 - -
2022-12-07 09:22:30.965 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:22:30.965 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:22:30.965 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:30.965 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:22:30.968 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:22:30.968 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:22:30.968 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:30.969 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:22:30.970 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:30.972 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:22:30.973 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:30.973 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.973 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'Occupancy' in request data ...
2022-12-07 09:22:30.973 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.974 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.974 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.977 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.978 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:22:30.979 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:30.979 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:30.979 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [INF] Retornando vilas com base em um filtro.
2022-12-07 09:22:30.982 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:22:30.982 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:22:30.982 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:22:30.982 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:30.982 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:30.982 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.982 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.983 -03:00 [DBG] Executing DbCommand [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:30.984 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:30.989 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.989 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 09:22:30.990 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.990 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:22:30.991 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:22:30.991 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:22:30.991 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:22:30.991 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:22:30.991 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:22:30.991 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:22:30.991 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:22:30.994 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 24.4264ms
2022-12-07 09:22:30.994 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:30.994 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:22:30.995 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.995 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:22:30.995 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4 - - - 200 1694 application/json;+charset=utf-8 29.8446ms
2022-12-07 09:22:55.654 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4&name=pool - -
2022-12-07 09:22:55.656 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:22:55.657 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:22:55.657 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:55.657 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:22:55.658 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:22:55.658 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:22:55.659 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:55.659 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:22:55.659 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:55.663 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:22:55.663 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'Occupancy' in request data ...
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:55.664 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:55.664 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [INF] Retornando vilas com base em um filtro.
2022-12-07 09:22:55.664 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:22:55.664 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:22:55.664 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:22:55.664 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:55.664 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:55.664 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.664 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.664 -03:00 [DBG] Executing DbCommand [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:55.666 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:55.671 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.671 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 09:22:55.671 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.671 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:22:55.678 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:22:55.678 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:22:55.678 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:22:55.678 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:22:55.678 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:22:55.678 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:22:55.678 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:22:55.678 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 19.1018ms
2022-12-07 09:22:55.678 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:55.678 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:22:55.679 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.679 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:22:55.679 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4&name=pool - - - 200 1049 application/json;+charset=utf-8 25.5058ms
2022-12-07 09:23:06.872 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=pool - -
2022-12-07 09:23:06.873 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:23:06.873 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:23:06.873 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:06.873 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:23:06.873 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:23:06.873 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:23:06.873 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:06.873 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:23:06.874 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:23:06.874 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:06.874 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:23:06.874 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:06.875 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:06.876 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:06.876 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:23:06.876 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 09:23:06.882 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:23:06.882 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:23:06.882 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:23:06.882 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:23:06.882 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:06.882 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:06.882 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.883 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.883 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:06.885 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:06.885 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.885 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:23:06.885 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.885 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:23:06.885 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:23:06.885 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:23:06.885 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:23:06.885 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:23:06.885 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:23:06.885 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:23:06.886 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:23:06.886 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 12.2368ms
2022-12-07 09:23:06.886 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:06.886 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:23:06.886 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.886 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:23:06.886 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=pool - - - 200 1049 application/json;+charset=utf-8 13.9616ms
2022-12-07 09:23:14.797 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=royal - -
2022-12-07 09:23:14.797 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:23:14.797 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:23:14.797 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:14.797 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:23:14.797 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:23:14.798 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:23:14.798 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:14.798 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:23:14.798 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:14.798 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:23:14.798 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:14.798 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.798 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:14.798 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.798 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.798 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.798 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:14.799 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:14.799 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:23:14.799 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:23:14.799 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:23:14.799 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:23:14.799 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:14.799 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:14.800 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.800 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.800 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:14.802 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:14.802 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.802 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:23:14.802 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.802 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:23:14.802 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:23:14.802 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:23:14.802 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:23:14.802 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:23:14.802 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:23:14.802 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:23:14.802 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:23:14.803 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 4.7232ms
2022-12-07 09:23:14.803 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:14.803 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:23:14.803 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.803 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:23:14.803 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=royal - - - 200 385 application/json;+charset=utf-8 5.6979ms
2022-12-07 09:23:26.992 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:23:26.992 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:23:26.993 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:23:26.993 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:26.993 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:23:26.993 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:23:26.993 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:23:26.993 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:26.993 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:23:26.993 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:26.994 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:23:26.994 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:26.994 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:23:26.994 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.996 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:23:26.996 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:23:26.996 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:23:26.996 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:23:26.996 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:26.996 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:26.996 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.996 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.996 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:26.998 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:26.998 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.998 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:23:26.998 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.998 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:23:26.999 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:23:26.999 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:23:26.999 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:23:26.999 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:23:26.999 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:23:26.999 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:23:26.999 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:23:26.999 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 5.8745ms
2022-12-07 09:23:26.999 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:26.999 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:23:26.999 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.999 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:23:27.000 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 1818 application/json;+charset=utf-8 7.1467ms
2022-12-07 09:24:01.249 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:24:01.249 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:24:01.249 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:24:01.249 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:01.249 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:24:01.249 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:24:01.249 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:24:01.249 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:01.249 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:24:01.249 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:24:01.249 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:24:01.249 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:24:01.250 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:24:01.250 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:24:01.250 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:01.250 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:24:01.250 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:01.250 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.250 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:19.332 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:24:19.737 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:24:19.737 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:24:19.737 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:24:19.737 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:24:19.737 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:24:19.737 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.737 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.737 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:24:19.759 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:24:19.761 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.763 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 09:24:19.764 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.764 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:24:45.267 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:24:45.272 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:24:45.273 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:24:45.274 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:24:45.275 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:24:45.276 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:24:45.276 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:24:45.279 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 44029.8107ms
2022-12-07 09:24:45.279 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:45.279 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:24:45.280 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:45.280 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:24:45.280 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 1818 application/json;+charset=utf-8 44032.1607ms
2022-12-07 09:24:48.141 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:24:48.141 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:24:48.141 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:24:48.141 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:48.141 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:24:48.141 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:24:48.141 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:24:48.141 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:48.141 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:24:48.141 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:24:48.141 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:24:48.141 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:24:48.142 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:24:48.142 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:24:48.142 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:48.143 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:24:48.143 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:48.144 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.144 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:24:48.144 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.144 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.144 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:24:48.145 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.146 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.146 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:52.908 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:25:03.513 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:03.513 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:25:03.513 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:25:03.513 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:03.513 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:03.513 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.513 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.513 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:25:03.527 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:25:03.527 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.527 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:25:03.528 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.528 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:23.346 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:25:24.168 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:25:24.185 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:25:24.224 -03:00 [DBG] Created DbConnection. (36ms).
2022-12-07 09:25:24.231 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.528 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.536 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:25:25.544 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 09:25:25.546 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 09:25:25.554 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:25:25.584 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:25:25.587 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.598 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 09:25:25.603 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:25:25.603 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:25:25.603 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:25:25.603 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.604 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.605 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:25:25.625 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:25:25.625 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.625 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:25.648 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:25.648 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.648 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.648 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.648 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.649 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:25:25.652 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:25:25.656 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.657 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:25:25.658 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.658 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:25.702 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:25:25.924 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:25:25.954 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:25.954 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.954 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.954 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.954 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.954 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:25:25.955 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:25:25.957 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.957 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:25:25.957 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.957 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:25.959 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:25:25.961 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.962 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:25:26.028 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:25:26.077 -03:00 [DBG] Hosting starting
2022-12-07 09:25:26.093 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:25:26.095 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:25:26.100 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:25:26.105 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:25:26.107 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:25:26.107 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:25:26.108 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:25:26.109 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:25:26.110 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:25:26.111 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:25:26.112 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:25:26.200 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:25:26.220 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:25:26.220 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:25:26.220 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:25:26.220 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:25:26.220 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:25:26.220 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:25:26.220 -03:00 [INF] Hosting environment: Development
2022-12-07 09:25:26.220 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:25:26.220 -03:00 [DBG] Hosting started
2022-12-07 09:25:26.516 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" received FIN.
2022-12-07 09:25:26.524 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" accepted.
2022-12-07 09:25:26.525 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" started.
2022-12-07 09:25:26.536 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:25:26.556 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" stopped.
2022-12-07 09:25:26.559 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:25:26.674 -03:00 [DBG] Connection id "0HMMO9OFFM5K3" accepted.
2022-12-07 09:25:26.675 -03:00 [DBG] Connection id "0HMMO9OFFM5K3" started.
2022-12-07 09:25:26.716 -03:00 [DBG] Connection 0HMMO9OFFM5K3 established using the following protocol: "Tls12"
2022-12-07 09:25:26.759 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:25:26.784 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:25:26.804 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:25:26.805 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:25:26.992 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:25:27.116 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:25:27.121 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 364.0225ms
2022-12-07 09:25:27.142 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:25:27.143 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:25:27.154 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 10.6446ms
2022-12-07 09:25:27.194 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.0426ms
2022-12-07 09:25:27.266 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:25:27.266 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:25:27.266 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:25:27.469 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.2959ms
2022-12-07 09:25:40.459 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:25:40.469 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:25:40.482 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:25:40.489 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:25:40.490 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:25:40.894 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:25:40.895 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:25:40.897 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:25:40.951 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:25:40.952 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:25:40.953 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:25:40.953 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:25:40.953 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:25:40.954 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:25:40.955 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:25:40.969 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:25:41.115 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:25:41.139 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.143 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:25:41.145 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.145 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.145 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.145 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.147 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.150 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:25:41.150 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:25:41.150 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:25:41.151 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.152 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:25:41.152 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.152 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.152 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.154 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.154 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.155 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:25:41.155 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.155 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.155 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.155 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:43.799 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:25:44.778 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 09:25:44.791 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:25:44.792 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:25:44.821 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:25:44.838 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:44.838 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:25:44.838 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:25:44.838 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:44.842 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-07 09:25:44.848 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.853 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.860 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:25:44.932 -03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:25:44.958 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.959 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 26ms reading results.
2022-12-07 09:25:44.964 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.964 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:45.004 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:25:45.010 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:25:45.010 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:25:45.010 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:25:45.011 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:25:45.011 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:25:45.011 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:25:45.205 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 4246.7869ms
2022-12-07 09:25:45.206 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:25:45.209 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:25:45.216 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:45.216 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:25:45.216 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 4757.6652ms
2022-12-07 09:26:03.925 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=2&pageSize=2 - -
2022-12-07 09:26:03.925 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:26:03.925 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:26:03.926 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:03.926 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:26:03.926 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:26:03.926 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:26:03.931 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:03.931 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:26:03.932 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:03.977 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:26:03.977 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:26:03.977 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:26:03.977 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.978 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:26:03.978 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.978 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:26:03.979 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_0)'
2022-12-07 09:26:03.979 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:26:03.979 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:26:03.981 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:26:03.981 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:26:03.981 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:26:03.981 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:26:03.981 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:03.981 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:03.981 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.981 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.981 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2022-12-07 09:26:03.985 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2022-12-07 09:26:03.985 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.985 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:26:03.985 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.985 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:26:03.985 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:26:03.985 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:26:03.985 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:26:03.985 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:26:03.985 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:26:03.985 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:26:03.985 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:26:03.986 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 53.7785ms
2022-12-07 09:26:03.986 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:03.986 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:26:03.986 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.986 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:26:03.986 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=2&pageSize=2 - - - 200 715 application/json;+charset=utf-8 61.2163ms
2022-12-07 09:26:07.961 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - -
2022-12-07 09:26:07.962 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:26:07.962 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:26:07.962 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:07.962 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:26:07.963 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:26:07.963 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:26:07.963 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:07.963 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:26:07.964 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:07.965 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:26:07.966 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:26:07.966 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:26:07.966 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:26:07.970 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:26:07.970 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:26:07.970 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:26:07.970 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:07.970 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:07.970 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.970 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.970 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:26:07.972 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:26:07.973 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.973 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:26:07.973 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.973 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:26:07.973 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:26:07.973 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:26:07.973 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:26:07.973 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:26:07.973 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:26:07.973 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:26:07.973 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:26:07.973 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 9.6608ms
2022-12-07 09:26:07.974 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:07.974 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:26:07.974 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.974 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:26:07.974 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - - - 200 518 application/json;+charset=utf-8 12.4324ms
2022-12-07 09:31:55.019 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:31:55.019 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:31:55.019 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:31:55.019 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:31:55.019 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:31:55.019 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:31:55.019 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:31:55.020 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:31:55.020 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:31:55.020 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:31:55.023 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:31:55.023 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:31:55.024 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.024 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:31:55.024 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.024 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.024 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:31:55.025 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.027 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.027 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.027 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:31:55.028 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:31:55.028 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:31:55.028 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:31:55.028 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:31:55.029 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:31:55.029 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.058 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.060 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:31:56.065 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:31:56.065 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.065 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:31:56.065 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.066 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:31:56.066 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:31:56.066 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:31:56.066 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:31:56.066 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:31:56.066 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:31:56.066 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:31:56.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:31:56.066 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1046.3626ms
2022-12-07 09:31:56.067 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:31:56.067 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:31:56.067 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.067 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:31:56.067 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 1048.0847ms
2022-12-07 09:36:18.899 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:36:19.700 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:36:19.718 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:36:19.758 -03:00 [DBG] Created DbConnection. (37ms).
2022-12-07 09:36:19.765 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.042 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.049 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:36:21.055 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-07 09:36:21.056 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 09:36:21.062 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:36:21.087 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:36:21.089 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.099 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 09:36:21.103 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:36:21.103 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:36:21.103 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:36:21.103 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.104 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.104 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:36:21.123 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:36:21.123 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.124 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:21.145 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:36:21.145 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.145 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.145 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.145 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.146 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:36:21.149 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:36:21.152 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.154 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:36:21.154 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.154 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:21.195 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:36:21.373 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:36:21.400 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:36:21.400 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.400 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.400 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.400 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.400 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:36:21.401 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:36:21.403 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.403 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:36:21.403 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.403 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:21.404 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:36:21.406 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.408 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:36:21.470 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:36:21.519 -03:00 [DBG] Hosting starting
2022-12-07 09:36:21.535 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:36:21.537 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:36:21.541 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:36:21.548 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:36:21.550 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:36:21.550 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:36:21.551 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:36:21.552 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:36:21.553 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:36:21.555 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:36:21.555 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:36:21.638 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:36:21.665 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:36:21.665 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:36:21.665 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:36:21.665 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:36:21.665 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:36:21.665 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:36:21.665 -03:00 [INF] Hosting environment: Development
2022-12-07 09:36:21.665 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:36:21.665 -03:00 [DBG] Hosting started
2022-12-07 09:36:21.989 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" accepted.
2022-12-07 09:36:21.990 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" started.
2022-12-07 09:36:22.006 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" received FIN.
2022-12-07 09:36:22.007 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" accepted.
2022-12-07 09:36:22.007 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" started.
2022-12-07 09:36:22.007 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" received FIN.
2022-12-07 09:36:22.010 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:36:22.012 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:36:22.029 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" stopped.
2022-12-07 09:36:22.029 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" stopped.
2022-12-07 09:36:22.031 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:36:22.031 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:36:22.173 -03:00 [DBG] Connection id "0HMMO9UIQNNQI" accepted.
2022-12-07 09:36:22.174 -03:00 [DBG] Connection id "0HMMO9UIQNNQI" started.
2022-12-07 09:36:22.210 -03:00 [DBG] Connection 0HMMO9UIQNNQI established using the following protocol: "Tls12"
2022-12-07 09:36:22.258 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:36:22.289 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:36:22.309 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:36:22.309 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:36:22.465 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:36:22.569 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:36:22.572 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 318.3148ms
2022-12-07 09:36:22.590 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:36:22.591 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:36:22.595 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 4.6698ms
2022-12-07 09:36:22.632 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.2581ms
2022-12-07 09:36:22.689 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:36:22.690 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:36:22.690 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:36:22.856 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.4379ms
2022-12-07 09:36:49.113 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 09:36:49.120 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:36:49.125 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:36:49.128 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:36:49.129 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:36:49.336 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:36:49.337 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:36:49.339 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:36:49.360 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:36:49.362 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:36:49.379 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:36:49.464 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:36:49.477 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.478 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:36:49.478 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.478 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.478 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.478 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.479 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:36:49.480 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:36:49.480 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:36:49.481 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:36:49.481 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.484 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:36:49.509 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 09:36:49.525 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:36:49.525 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:36:49.556 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:36:49.572 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:36:49.572 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:36:49.573 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:36:49.573 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:49.576 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-07 09:36:49.583 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.590 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.595 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:36:49.653 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:36:49.678 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.679 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 25ms reading results.
2022-12-07 09:36:49.683 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.683 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:49.711 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:36:49.713 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:36:49.714 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:36:49.714 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:36:49.714 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:36:49.714 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:36:49.714 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:36:49.814 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 449.2433ms
2022-12-07 09:36:49.815 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:36:49.818 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:36:49.824 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.825 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:36:49.825 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 711.9418ms
2022-12-07 11:13:16.259 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:13:17.206 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:13:17.230 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:13:17.280 -03:00 [DBG] Created DbConnection. (48ms).
2022-12-07 11:13:17.289 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.688 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.695 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:13:18.705 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:13:18.709 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2022-12-07 11:13:18.717 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:13:18.747 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:13:18.751 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.763 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-07 11:13:18.767 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:13:18.767 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:13:18.767 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:13:18.767 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.768 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.769 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:13:18.787 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:13:18.787 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.788 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:18.807 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:13:18.808 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:18.808 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:18.808 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.808 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.810 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:13:18.818 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:13:18.825 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.828 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 11:13:18.828 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.828 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:18.870 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:13:19.088 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:13:19.131 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:13:19.131 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:19.131 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:19.131 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.131 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.131 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:13:19.134 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:13:19.137 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.137 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:13:19.137 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.137 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:19.138 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:13:19.141 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.142 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:13:19.228 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:13:19.300 -03:00 [DBG] Hosting starting
2022-12-07 11:13:19.323 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:13:19.325 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:13:19.330 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:13:19.339 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:13:19.342 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:13:19.342 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:13:19.344 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:13:19.345 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:13:19.347 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:13:19.350 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:13:19.350 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:13:19.490 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:13:19.515 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:13:19.515 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:13:19.515 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:13:19.515 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:13:19.515 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:13:19.515 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:13:19.515 -03:00 [INF] Hosting environment: Development
2022-12-07 11:13:19.515 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:13:19.516 -03:00 [DBG] Hosting started
2022-12-07 11:13:19.760 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" accepted.
2022-12-07 11:13:19.761 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" started.
2022-12-07 11:13:19.789 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" received FIN.
2022-12-07 11:13:19.798 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:13:19.828 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" stopped.
2022-12-07 11:13:19.831 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:13:19.987 -03:00 [DBG] Connection id "0HMMOBKOLAFV1" accepted.
2022-12-07 11:13:19.987 -03:00 [DBG] Connection id "0HMMOBKOLAFV1" started.
2022-12-07 11:13:20.029 -03:00 [DBG] Connection 0HMMOBKOLAFV1 established using the following protocol: "Tls12"
2022-12-07 11:13:20.081 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:13:20.110 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:13:20.138 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:13:20.138 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:13:20.425 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:13:20.587 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:13:20.592 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 514.7399ms
2022-12-07 11:13:20.623 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:13:20.623 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:13:20.640 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 16.5604ms
2022-12-07 11:13:20.709 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 86.0059ms
2022-12-07 11:13:20.835 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:13:20.835 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:13:20.835 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:13:21.083 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.1356ms
2022-12-07 11:13:46.834 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47
2022-12-07 11:13:46.860 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 11:13:46.869 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 11:13:46.871 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 11:13:46.872 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:13:46.986 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:13:46.988 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 11:13:47.023 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 11:13:47.024 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:13:47.024 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:13:47.025 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:13:47.025 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:13:47.025 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:13:47.025 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 11:13:47.028 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 11:13:47.050 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 11:13:47.052 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 11:13:47.053 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 11:13:47.053 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 11:13:47.078 -03:00 [DBG] Connection id "0HMMOBKOLAFV1", Request id "0HMMOBKOLAFV1:00000009": started reading request body.
2022-12-07 11:13:47.079 -03:00 [DBG] Connection id "0HMMOBKOLAFV1", Request id "0HMMOBKOLAFV1:00000009": done reading request body.
2022-12-07 11:13:47.204 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 11:13:47.204 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 11:13:47.204 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 11:13:47.209 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 11:13:47.248 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:13:47.260 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-07 11:13:47.420 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 11:13:47.449 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:13:47.449 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:13:47.450 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:13:47.450 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:47.457 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:13:47.458 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.458 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.469 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 11:13:47.538 -03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 11:13:47.589 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 11:13:47.619 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.621 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 82ms reading results.
2022-12-07 11:13:47.621 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.621 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:47.749 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:13:47.751 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 11:13:47.751 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:13:47.751 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:13:47.752 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:13:47.752 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:13:47.805 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 775.2445ms
2022-12-07 11:13:47.805 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 11:13:47.808 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:13:47.816 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.817 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:13:47.817 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 982.7867ms
2022-12-07 11:14:10.471 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 11:14:10.474 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:14:10.475 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:14:10.475 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:14:10.475 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:14:10.560 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:14:10.560 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:14:10.561 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:14:10.564 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:14:10.564 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:14:10.564 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:14:10.565 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:14:10.565 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:14:10.565 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:14:10.565 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:14:10.599 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:14:10.698 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:14:10.702 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.702 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:14:10.703 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:14:10.703 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.704 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.704 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.704 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.708 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:14:10.717 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:14:10.724 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:14:10.726 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:14:10.733 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:14:10.758 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:14:10.758 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:14:10.758 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:14:10.758 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:14:10.759 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:14:10.769 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.777 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.780 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:14:10.817 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:14:10.850 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.850 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 33ms reading results.
2022-12-07 11:14:10.854 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.855 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:14:10.903 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:14:10.904 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:14:10.904 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:14:10.904 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:14:10.904 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:14:10.904 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:14:10.904 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:14:10.912 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 347.7425ms
2022-12-07 11:14:10.914 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:14:10.915 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:14:10.915 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.915 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:14:10.915 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 444.3194ms
2022-12-07 11:15:37.972 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:15:38.656 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:15:38.677 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:15:38.730 -03:00 [DBG] Created DbConnection. (52ms).
2022-12-07 11:15:38.737 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.113 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.122 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:15:40.129 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 11:15:40.131 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 11:15:40.137 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:15:40.166 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:15:40.168 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.178 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 11:15:40.182 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:15:40.182 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:15:40.182 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:15:40.182 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.183 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.184 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:15:40.201 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:15:40.201 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.202 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:15:40.232 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:15:40.232 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.232 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.232 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.232 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.233 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:15:40.237 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:15:40.242 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.245 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 11:15:40.245 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.245 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:15:40.288 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:15:40.514 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:15:40.542 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:15:40.542 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.542 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.542 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.542 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.542 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:15:40.544 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:15:40.547 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.547 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:15:40.547 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.547 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:15:40.549 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:15:40.552 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.554 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:15:40.641 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:15:40.703 -03:00 [DBG] Hosting starting
2022-12-07 11:15:40.726 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:15:40.729 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:15:40.733 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:15:40.739 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:15:40.740 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:15:40.741 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:15:40.742 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:15:40.743 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:15:40.744 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:15:40.745 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:15:40.746 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:15:40.869 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:15:40.904 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:15:40.904 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:15:40.904 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:15:40.904 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:15:40.904 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:15:40.905 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:15:40.905 -03:00 [INF] Hosting environment: Development
2022-12-07 11:15:40.905 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:15:40.905 -03:00 [DBG] Hosting started
2022-12-07 11:15:41.245 -03:00 [DBG] Connection id "0HMMOBM2QL608" received FIN.
2022-12-07 11:15:41.248 -03:00 [DBG] Connection id "0HMMOBM2QL609" received FIN.
2022-12-07 11:15:41.253 -03:00 [DBG] Connection id "0HMMOBM2QL608" accepted.
2022-12-07 11:15:41.253 -03:00 [DBG] Connection id "0HMMOBM2QL609" accepted.
2022-12-07 11:15:41.255 -03:00 [DBG] Connection id "0HMMOBM2QL609" started.
2022-12-07 11:15:41.255 -03:00 [DBG] Connection id "0HMMOBM2QL608" started.
2022-12-07 11:15:41.268 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:15:41.268 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:15:41.297 -03:00 [DBG] Connection id "0HMMOBM2QL608" stopped.
2022-12-07 11:15:41.297 -03:00 [DBG] Connection id "0HMMOBM2QL609" stopped.
2022-12-07 11:15:41.299 -03:00 [DBG] Connection id "0HMMOBM2QL608" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:15:41.299 -03:00 [DBG] Connection id "0HMMOBM2QL609" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:15:41.500 -03:00 [DBG] Connection id "0HMMOBM2QL60A" accepted.
2022-12-07 11:15:41.502 -03:00 [DBG] Connection id "0HMMOBM2QL60A" started.
2022-12-07 11:15:41.543 -03:00 [DBG] Connection 0HMMOBM2QL60A established using the following protocol: "Tls12"
2022-12-07 11:15:41.589 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:15:41.626 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:15:41.669 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:15:41.670 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:15:41.876 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:15:42.017 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:15:42.021 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 435.8527ms
2022-12-07 11:15:42.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:15:42.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:15:42.064 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 14.3461ms
2022-12-07 11:15:42.132 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.3736ms
2022-12-07 11:15:42.277 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:15:42.277 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:15:42.277 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:15:42.470 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.2949ms
2022-12-07 11:16:02.929 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:16:02.947 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:16:02.968 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:16:02.980 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:16:02.984 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:16:03.591 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:16:03.595 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:16:03.601 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:16:03.677 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:16:03.679 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:16:03.679 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:16:03.680 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:16:03.680 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:16:03.680 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:16:03.682 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:16:03.721 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:16:04.009 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:16:04.036 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.039 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:16:04.040 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.040 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.040 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.040 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.043 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.047 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:16:04.047 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:16:04.047 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.047 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.048 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.048 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:16:04.048 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.048 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:16:04.049 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:16:04.049 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.059 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:16:04.093 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 11:16:04.201 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:16:04.245 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:16:04.245 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:16:04.246 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:16:04.246 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:16:04.246 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:16:04.264 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.276 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.279 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:16:04.345 -03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:16:04.410 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.410 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 64ms reading results.
2022-12-07 11:16:04.421 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.423 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:16:04.554 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:16:04.563 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:16:04.564 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:16:04.565 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:16:04.565 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:16:04.567 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:16:04.567 -03:00 [INF] Executing ObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:16:04.863 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1171.8413ms
2022-12-07 11:16:04.866 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:16:04.877 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:16:04.892 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.894 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:16:04.894 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 460 application/json;+charset=utf-8 1964.8760ms
2022-12-07 11:17:17.711 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:17:17.713 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:17:17.714 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:17:17.714 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:17:17.714 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:17:17.716 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:17:17.716 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:17:17.716 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:17:17.717 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:17:17.718 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:17:17.718 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:17:17.841 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:17:17.841 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:17:17.850 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.859 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:17:17.862 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.862 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:17:17.862 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:17:17.863 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:17:17.863 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:17:17.863 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:59.592 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:18:00.404 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:18:00.404 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:18:00.404 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:18:00.404 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:00.404 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:00.404 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.404 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.404 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:18:00.432 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:18:00.438 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.438 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:18:00.440 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.441 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:55.928 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:18:56.886 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:18:56.907 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:18:56.962 -03:00 [DBG] Created DbConnection. (51ms).
2022-12-07 11:18:56.969 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.351 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.359 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:18:58.366 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:18:58.368 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 11:18:58.375 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:18:58.408 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:18:58.411 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.422 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 11:18:58.426 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:18:58.427 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:18:58.427 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:18:58.427 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.427 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.428 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:18:58.449 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:18:58.449 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.449 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:58.476 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:18:58.476 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.476 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.476 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.476 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.477 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:18:58.481 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:18:58.486 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.489 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:18:58.489 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.489 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:58.537 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:18:58.726 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:18:58.755 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:18:58.755 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.755 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.755 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.755 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.755 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:18:58.757 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:18:58.760 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.760 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:18:58.760 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.760 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:58.763 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:18:58.768 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.770 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:18:58.853 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:18:58.913 -03:00 [DBG] Hosting starting
2022-12-07 11:18:58.935 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:18:58.937 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:18:58.941 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:18:58.948 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:18:58.950 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:18:58.950 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:18:58.951 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:18:58.951 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:18:58.952 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:18:58.954 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:18:58.954 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:18:59.076 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:18:59.109 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:18:59.109 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:18:59.109 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:18:59.109 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:18:59.109 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:18:59.110 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:18:59.110 -03:00 [INF] Hosting environment: Development
2022-12-07 11:18:59.110 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:18:59.110 -03:00 [DBG] Hosting started
2022-12-07 11:18:59.505 -03:00 [DBG] Connection id "0HMMOBNTTCDON" accepted.
2022-12-07 11:18:59.507 -03:00 [DBG] Connection id "0HMMOBNTTCDON" started.
2022-12-07 11:18:59.510 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" accepted.
2022-12-07 11:18:59.510 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" started.
2022-12-07 11:18:59.513 -03:00 [DBG] Connection id "0HMMOBNTTCDON" received FIN.
2022-12-07 11:18:59.513 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" received FIN.
2022-12-07 11:18:59.535 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:18:59.535 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:18:59.560 -03:00 [DBG] Connection id "0HMMOBNTTCDON" stopped.
2022-12-07 11:18:59.560 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" stopped.
2022-12-07 11:18:59.562 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:18:59.562 -03:00 [DBG] Connection id "0HMMOBNTTCDON" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:18:59.743 -03:00 [DBG] Connection id "0HMMOBNTTCDOP" accepted.
2022-12-07 11:18:59.746 -03:00 [DBG] Connection id "0HMMOBNTTCDOP" started.
2022-12-07 11:18:59.794 -03:00 [DBG] Connection 0HMMOBNTTCDOP established using the following protocol: "Tls12"
2022-12-07 11:18:59.842 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:18:59.868 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:18:59.904 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:18:59.904 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:19:00.152 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:19:00.328 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:19:00.335 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 495.8607ms
2022-12-07 11:19:00.361 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:19:00.361 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:19:00.379 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 17.4619ms
2022-12-07 11:19:00.435 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.5136ms
2022-12-07 11:19:00.543 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:19:00.544 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:19:00.544 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:19:00.781 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 237.6475ms
2022-12-07 11:19:12.454 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:19:12.473 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:19:12.493 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:19:12.504 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:19:12.508 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:19:13.174 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:19:13.176 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:19:13.182 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:19:13.268 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:19:13.272 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:19:13.273 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:19:13.274 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:19:13.274 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:19:13.275 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:19:13.277 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:19:13.284 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:19:13.541 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:19:13.568 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.574 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:19:13.575 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.575 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.575 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.575 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.577 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.580 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:19:13.580 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:19:13.580 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.580 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.580 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.581 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:19:13.581 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.581 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.581 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:19:13.581 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.581 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.581 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:19:13.582 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:15.924 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:19:15.955 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 11:19:16.049 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:19:16.087 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:19:16.087 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:19:16.088 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:19:16.088 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:19:16.088 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:19:16.102 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.113 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.115 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:19:16.185 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:19:16.259 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.260 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 74ms reading results.
2022-12-07 11:19:16.270 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.272 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:19:16.373 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:19:16.381 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:19:16.382 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:19:16.382 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:19:16.382 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:19:16.383 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:19:16.383 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:19:16.651 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3364.1405ms
2022-12-07 11:19:16.654 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:19:16.662 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:19:16.676 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.678 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:19:16.678 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1818 application/json;+charset=utf-8 4224.3630ms
2022-12-07 11:20:30.310 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:20:31.264 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:20:31.285 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:20:31.351 -03:00 [DBG] Created DbConnection. (61ms).
2022-12-07 11:20:31.363 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.796 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.803 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:20:32.809 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:20:32.811 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-07 11:20:32.819 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:20:32.851 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:20:32.853 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.863 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 11:20:32.867 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:20:32.867 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:20:32.867 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:20:32.867 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.868 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.869 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:20:32.887 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:20:32.887 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.887 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:20:32.914 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:20:32.914 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:32.914 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:32.914 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.915 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.915 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:20:32.920 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:20:32.928 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.931 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 7ms reading results.
2022-12-07 11:20:32.932 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.932 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:20:32.979 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:20:33.227 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:20:33.276 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:20:33.276 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:33.276 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:33.276 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.276 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.276 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:20:33.279 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:20:33.282 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.282 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:20:33.282 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.282 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:20:33.284 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:20:33.288 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.291 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:20:33.374 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:20:33.448 -03:00 [DBG] Hosting starting
2022-12-07 11:20:33.475 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:20:33.479 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:20:33.490 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:20:33.499 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:20:33.501 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:20:33.501 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:20:33.502 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:20:33.502 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:20:33.503 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:20:33.505 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:20:33.505 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:20:33.628 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:20:33.651 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:20:33.651 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:20:33.651 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:20:33.651 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:20:33.651 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:20:33.651 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:20:33.651 -03:00 [INF] Hosting environment: Development
2022-12-07 11:20:33.651 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:20:33.651 -03:00 [DBG] Hosting started
2022-12-07 11:20:33.764 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" accepted.
2022-12-07 11:20:33.764 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" accepted.
2022-12-07 11:20:33.766 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" started.
2022-12-07 11:20:33.766 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" started.
2022-12-07 11:20:33.797 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" received FIN.
2022-12-07 11:20:33.797 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" received FIN.
2022-12-07 11:20:33.822 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:20:33.822 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:20:33.848 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" stopped.
2022-12-07 11:20:33.848 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" stopped.
2022-12-07 11:20:33.850 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:20:33.850 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:20:34.062 -03:00 [DBG] Connection id "0HMMOBOQ0A24S" accepted.
2022-12-07 11:20:34.063 -03:00 [DBG] Connection id "0HMMOBOQ0A24S" started.
2022-12-07 11:20:34.109 -03:00 [DBG] Connection 0HMMOBOQ0A24S established using the following protocol: "Tls12"
2022-12-07 11:20:34.153 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:20:34.187 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:20:34.211 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:20:34.211 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:20:34.465 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:20:34.642 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:20:34.647 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 497.6926ms
2022-12-07 11:20:34.668 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:20:34.675 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 7.3098ms
2022-12-07 11:20:34.795 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:20:34.879 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.2545ms
2022-12-07 11:20:35.013 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:20:35.013 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:20:35.013 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:20:35.246 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 233.3165ms
2022-12-07 11:20:40.244 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:20:40.262 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:20:40.283 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:20:40.296 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:20:40.298 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:20:40.459 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:20:40.464 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:20:40.540 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:20:40.542 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:20:40.542 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:20:40.543 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:20:40.543 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:20:40.543 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:20:40.545 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:20:40.562 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:20:40.810 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:20:40.835 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.840 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:20:40.843 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.843 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.844 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.844 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.845 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.849 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:20:40.849 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:20:40.849 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.849 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.849 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.849 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:20:40.850 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:20:40.850 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.851 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:45.636 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:20:45.674 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:20:45.710 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:20:45.711 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:20:45.793 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:20:45.844 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:20:45.844 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:20:45.845 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:20:45.845 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:45.854 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2022-12-07 11:20:45.876 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:45.887 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:45.909 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:20:46.057 -03:00 [INF] Executed DbCommand (168ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:20:46.123 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:46.126 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 68ms reading results.
2022-12-07 11:20:46.136 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:46.138 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:20:46.250 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:20:46.261 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:20:46.262 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:20:46.263 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:20:46.263 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:20:46.264 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:20:46.265 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:20:46.665 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 6112.6986ms
2022-12-07 11:20:46.667 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:20:46.675 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:20:46.688 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:46.690 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:20:46.690 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 6446.4907ms
2022-12-07 11:26:16.923 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:26:17.786 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:26:17.814 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:26:17.883 -03:00 [DBG] Created DbConnection. (66ms).
2022-12-07 11:26:17.890 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.295 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.305 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:26:19.312 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-07 11:26:19.317 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-07 11:26:19.328 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:26:19.371 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:26:19.375 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.389 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-07 11:26:19.394 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:26:19.394 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:26:19.394 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:26:19.394 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.395 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.396 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:26:19.422 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:26:19.422 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.423 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:19.448 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:19.448 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.448 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.448 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.448 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.450 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:26:19.457 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:26:19.468 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.472 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 10ms reading results.
2022-12-07 11:26:19.473 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.473 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:19.525 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:26:19.734 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:26:19.764 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:19.765 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.765 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.765 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.765 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.765 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:26:19.768 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:26:19.773 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.773 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 11:26:19.773 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.773 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:19.776 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:26:19.780 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.782 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:26:19.862 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:26:19.916 -03:00 [DBG] Hosting starting
2022-12-07 11:26:19.939 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:26:19.944 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:26:19.953 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:26:19.960 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:26:19.961 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:26:19.961 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:26:19.962 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:26:19.963 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:26:19.964 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:26:19.966 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:26:19.966 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:26:20.088 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:26:20.127 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:26:20.127 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:26:20.127 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:26:20.127 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:26:20.127 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:26:20.128 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:26:20.128 -03:00 [INF] Hosting environment: Development
2022-12-07 11:26:20.128 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:26:20.128 -03:00 [DBG] Hosting started
2022-12-07 11:26:20.138 -03:00 [DBG] Connection id "0HMMOBS17JNA1" received FIN.
2022-12-07 11:26:20.146 -03:00 [DBG] Connection id "0HMMOBS17JNA1" accepted.
2022-12-07 11:26:20.148 -03:00 [DBG] Connection id "0HMMOBS17JNA1" started.
2022-12-07 11:26:20.163 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:26:20.194 -03:00 [DBG] Connection id "0HMMOBS17JNA1" stopped.
2022-12-07 11:26:20.198 -03:00 [DBG] Connection id "0HMMOBS17JNA1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:26:20.369 -03:00 [DBG] Connection id "0HMMOBS17JNA2" accepted.
2022-12-07 11:26:20.369 -03:00 [DBG] Connection id "0HMMOBS17JNA2" started.
2022-12-07 11:26:20.410 -03:00 [DBG] Connection 0HMMOBS17JNA2 established using the following protocol: "Tls12"
2022-12-07 11:26:20.455 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:26:20.482 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:26:20.514 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:26:20.515 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:26:20.702 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:26:20.847 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:26:20.853 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 399.6698ms
2022-12-07 11:26:20.880 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:26:20.880 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:26:20.919 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 38.5906ms
2022-12-07 11:26:20.985 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.0100ms
2022-12-07 11:26:21.181 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:26:21.181 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:26:21.181 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:26:21.439 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 258.7210ms
2022-12-07 11:26:26.542 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:26:26.563 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:26:26.582 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:26:26.594 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:26:26.597 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:26:26.749 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:26:26.755 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:26:26.833 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:26:26.835 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:26:26.836 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:26:26.837 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:26:26.837 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:26:26.838 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:26:26.840 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:26:26.847 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:26:27.139 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:26:27.167 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.173 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:26:27.174 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.174 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.174 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.175 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.177 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.180 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:26:27.181 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:26:27.181 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.181 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.181 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.181 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:26:27.182 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:26:27.183 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.183 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.183 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.183 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.183 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:37.595 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:26:37.822 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:26:37.923 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:26:37.935 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:37.935 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:26:37.936 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:26:37.936 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:37.936 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:26:37.936 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.936 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.936 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:26:37.938 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:26:37.940 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.941 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 11:26:37.941 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.941 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:37.968 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:26:37.997 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:26:37.998 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:26:38.071 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:26:38.116 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:38.116 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:38.123 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:26:38.139 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.150 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.166 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:26:38.333 -03:00 [INF] Executed DbCommand (179ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:26:38.406 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.409 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 76ms reading results.
2022-12-07 11:26:38.419 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.421 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:27:19.489 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:27:19.496 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:27:19.497 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:27:19.497 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:27:19.497 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:27:19.498 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:27:19.498 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:27:23.487 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 56636.7483ms
2022-12-07 11:27:23.489 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:27:23.499 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:27:23.517 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:27:23.519 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:27:23.520 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 56977.7586ms
2022-12-07 11:27:58.576 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:27:59.463 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:27:59.485 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:27:59.536 -03:00 [DBG] Created DbConnection. (48ms).
2022-12-07 11:27:59.545 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:00.947 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:00.958 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:28:00.968 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 11:28:00.971 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (17ms).
2022-12-07 11:28:00.977 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:28:01.006 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:28:01.009 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.020 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 11:28:01.025 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:28:01.025 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:28:01.025 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:28:01.025 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.026 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.027 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:28:01.046 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:28:01.046 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.047 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:01.065 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:01.065 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.065 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.065 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.065 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.066 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:28:01.070 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:28:01.074 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.076 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:28:01.077 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.077 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:01.131 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:28:01.352 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:28:01.379 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:01.379 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.379 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.379 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.379 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.379 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:28:01.382 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:28:01.384 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.384 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:28:01.384 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.384 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:01.386 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:28:01.389 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.391 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:28:01.469 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:28:01.526 -03:00 [DBG] Hosting starting
2022-12-07 11:28:01.544 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:28:01.547 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:28:01.553 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:28:01.564 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:28:01.567 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:28:01.568 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:28:01.569 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:28:01.570 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:28:01.571 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:28:01.574 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:28:01.574 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:28:01.722 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:28:01.745 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:28:01.745 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:28:01.745 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:28:01.745 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:28:01.745 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:28:01.746 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:28:01.746 -03:00 [INF] Hosting environment: Development
2022-12-07 11:28:01.746 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:28:01.746 -03:00 [DBG] Hosting started
2022-12-07 11:28:02.215 -03:00 [DBG] Connection id "0HMMOBSVL24RS" accepted.
2022-12-07 11:28:02.215 -03:00 [DBG] Connection id "0HMMOBSVL24RT" accepted.
2022-12-07 11:28:02.217 -03:00 [DBG] Connection id "0HMMOBSVL24RS" started.
2022-12-07 11:28:02.217 -03:00 [DBG] Connection id "0HMMOBSVL24RT" started.
2022-12-07 11:28:02.247 -03:00 [DBG] Connection id "0HMMOBSVL24RT" received FIN.
2022-12-07 11:28:02.247 -03:00 [DBG] Connection id "0HMMOBSVL24RS" received FIN.
2022-12-07 11:28:02.273 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:28:02.273 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:28:02.307 -03:00 [DBG] Connection id "0HMMOBSVL24RT" stopped.
2022-12-07 11:28:02.307 -03:00 [DBG] Connection id "0HMMOBSVL24RS" stopped.
2022-12-07 11:28:02.310 -03:00 [DBG] Connection id "0HMMOBSVL24RT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:28:02.310 -03:00 [DBG] Connection id "0HMMOBSVL24RS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:28:02.454 -03:00 [DBG] Connection id "0HMMOBSVL24RU" accepted.
2022-12-07 11:28:02.454 -03:00 [DBG] Connection id "0HMMOBSVL24RU" started.
2022-12-07 11:28:02.503 -03:00 [DBG] Connection 0HMMOBSVL24RU established using the following protocol: "Tls12"
2022-12-07 11:28:02.554 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:28:02.588 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:28:02.623 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:28:02.623 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:28:02.871 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:28:03.023 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:28:03.031 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 479.9279ms
2022-12-07 11:28:03.051 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:28:03.051 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:28:03.056 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 5.1836ms
2022-12-07 11:28:03.131 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.4872ms
2022-12-07 11:28:03.248 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:28:03.248 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:28:03.248 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:28:03.460 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.5304ms
2022-12-07 11:28:07.686 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:28:07.698 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:28:07.720 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:28:07.728 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:07.731 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:28:07.883 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:28:07.887 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:07.962 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:28:07.964 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:28:07.964 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:28:07.965 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:28:07.966 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:28:07.966 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:28:07.967 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:07.986 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:28:08.269 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:08.298 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.303 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:08.304 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.304 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.305 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.305 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.308 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.313 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:28:08.314 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:28:08.314 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.314 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.314 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.314 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:28:08.316 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:08.317 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.317 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.318 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:08.318 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.318 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.318 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.318 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.318 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:10.169 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:28:10.187 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:28:10.290 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:28:10.304 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:10.304 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:28:10.305 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:28:10.305 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:10.305 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:28:10.305 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.306 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.306 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:10.307 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:10.309 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.309 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 11:28:10.309 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.309 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:10.334 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:28:10.360 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:28:10.361 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:28:10.433 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:28:10.474 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:10.474 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:10.481 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:28:10.495 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.506 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.523 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:10.666 -03:00 [INF] Executed DbCommand (157ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:10.735 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.738 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 71ms reading results.
2022-12-07 11:28:10.751 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.753 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:28:10.849 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:28:10.857 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:28:10.857 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:28:10.858 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:28:10.858 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:28:10.859 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:28:10.859 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:28:11.208 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3229.5009ms
2022-12-07 11:28:11.211 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:11.218 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:28:11.229 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:11.230 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:28:11.231 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 3545.1710ms
2022-12-07 11:28:30.742 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - -
2022-12-07 11:28:30.744 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:28:30.744 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:28:30.744 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:30.744 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:28:30.745 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:28:30.745 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:30.745 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:28:30.746 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:30.853 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:28:30.853 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:30.862 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.864 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:30.864 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.864 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.865 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.865 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.865 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.865 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:28:30.865 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:28:30.865 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.865 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.866 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.866 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:28:30.866 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.866 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.866 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 11:28:30.868 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.868 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.869 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.871 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.871 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.871 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 11:28:30.871 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.871 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.871 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.872 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.872 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:28:30.875 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:30.875 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:28:30.875 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:28:30.875 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.875 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.876 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.876 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.876 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:30.879 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:30.879 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.879 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:28:30.880 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.880 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:30.881 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:30.881 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.881 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.881 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.881 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.881 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:30.890 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:30.891 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.891 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:28:30.891 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.891 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:30.892 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:28:30.892 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:28:30.892 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:28:30.892 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:28:30.892 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:28:30.893 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:28:30.893 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:28:30.895 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 148.6959ms
2022-12-07 11:28:30.895 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:30.896 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:28:30.896 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.896 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:28:30.896 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - - - 200 518 application/json;+charset=utf-8 154.5203ms
2022-12-07 11:37:48.545 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:37:49.336 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:37:49.359 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:37:49.416 -03:00 [DBG] Created DbConnection. (55ms).
2022-12-07 11:37:49.424 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.788 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.795 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:37:50.801 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-07 11:37:50.803 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 11:37:50.812 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:37:50.848 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:37:50.852 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.867 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (10ms).
2022-12-07 11:37:50.871 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:37:50.871 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:37:50.872 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:37:50.872 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.873 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.873 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:37:50.892 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:37:50.892 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.893 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:37:50.911 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:37:50.911 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:50.911 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:50.911 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.911 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.912 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:37:50.917 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:37:50.921 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.923 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:37:50.924 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.924 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:37:50.970 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:37:51.167 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:37:51.194 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:37:51.194 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:51.194 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:51.194 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.194 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.194 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:37:51.197 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:37:51.199 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.199 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:37:51.199 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.199 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:37:51.201 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:37:51.204 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.206 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:37:51.297 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:37:51.367 -03:00 [DBG] Hosting starting
2022-12-07 11:37:51.389 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:37:51.391 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:37:51.395 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:37:51.401 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:37:51.403 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:37:51.403 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:37:51.404 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:37:51.405 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:37:51.406 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:37:51.407 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:37:51.408 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:37:51.528 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:37:51.557 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:37:51.557 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:37:51.558 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:37:51.558 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:37:51.558 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:37:51.558 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:37:51.558 -03:00 [INF] Hosting environment: Development
2022-12-07 11:37:51.558 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:37:51.558 -03:00 [DBG] Hosting started
2022-12-07 11:37:51.943 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" accepted.
2022-12-07 11:37:51.943 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" accepted.
2022-12-07 11:37:51.944 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" started.
2022-12-07 11:37:51.944 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" started.
2022-12-07 11:37:51.979 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" received FIN.
2022-12-07 11:37:51.979 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" received FIN.
2022-12-07 11:37:52.003 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:37:52.003 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:37:52.040 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" stopped.
2022-12-07 11:37:52.040 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" stopped.
2022-12-07 11:37:52.043 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:37:52.043 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:37:52.224 -03:00 [DBG] Connection id "0HMMOC2FD4HRJ" accepted.
2022-12-07 11:37:52.225 -03:00 [DBG] Connection id "0HMMOC2FD4HRJ" started.
2022-12-07 11:37:52.275 -03:00 [DBG] Connection 0HMMOC2FD4HRJ established using the following protocol: "Tls12"
2022-12-07 11:37:52.320 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:37:52.344 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:37:52.377 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:37:52.378 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:37:52.619 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:37:52.816 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:37:52.821 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 505.5792ms
2022-12-07 11:37:52.855 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:37:52.855 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:37:52.862 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 7.5951ms
2022-12-07 11:37:52.927 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.7906ms
2022-12-07 11:37:53.072 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:37:53.072 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:37:53.073 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:37:53.313 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 241.2361ms
2022-12-07 11:38:03.441 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - -
2022-12-07 11:38:03.462 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberApi'
2022-12-07 11:38:03.483 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/VillaNumberApi'
2022-12-07 11:38:03.494 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 11:38:03.498 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:38:03.663 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:38:03.680 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-07 11:38:03.699 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-07 11:38:03.699 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - - - 401 0 - 259.1829ms
2022-12-07 11:38:21.947 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi/3333 - -
2022-12-07 11:38:21.950 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi/3333'
2022-12-07 11:38:21.951 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi/{id:int}' is valid for the request path '/api/v1/VillaApi/3333'
2022-12-07 11:38:21.951 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-07 11:38:21.951 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:38:22.478 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:38:22.482 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:38:22.485 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-07 11:38:22.599 -03:00 [INF] Route matched with {action = "GetById", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetById(Int32) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:38:22.602 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:38:22.603 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:38:22.604 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:38:22.604 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:38:22.604 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:38:22.606 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:38:22.617 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:38:22.878 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:38:22.910 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-07 11:38:22.914 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-07 11:38:22.917 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-07 11:38:22.917 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-07 11:38:22.917 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-07 11:38:22.920 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-07 11:38:22.974 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Where(x => x.Id == __id_0)
    .FirstOrDefault()'
2022-12-07 11:38:23.205 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 11:38:23.268 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:38:23.269 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:38:23.270 -03:00 [DBG] Created DbConnection. (1ms).
2022-12-07 11:38:23.270 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:38:23.278 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2022-12-07 11:38:23.293 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.305 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.323 -03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-12-07 11:38:23.492 -03:00 [INF] Executed DbCommand (183ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-12-07 11:38:23.545 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.548 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 56ms reading results.
2022-12-07 11:38:23.562 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.565 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:38:23.587 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:38:23.595 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:38:23.596 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:38:23.596 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:38:23.596 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:38:23.598 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:38:23.599 -03:00 [INF] Executing NotFoundObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:38:23.890 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI) in 1274.1041ms
2022-12-07 11:38:23.892 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-07 11:38:23.903 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:38:23.914 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.918 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:38:23.918 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi/3333 - - - 404 67 application/json;+charset=utf-8 1971.2893ms
2022-12-07 11:39:29.723 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:39:30.514 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:39:30.539 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:39:30.603 -03:00 [DBG] Created DbConnection. (57ms).
2022-12-07 11:39:30.613 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.029 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.038 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:39:32.045 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:39:32.049 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 11:39:32.059 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:32.090 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:32.092 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.103 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 11:39:32.108 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:39:32.109 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:32.109 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:32.109 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.110 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.112 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:32.136 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:32.136 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.137 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:32.166 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:32.166 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.166 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.166 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.166 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.167 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:32.172 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:32.177 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.179 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:39:32.179 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.179 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:32.229 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:39:32.477 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:39:32.507 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:32.507 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.507 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.507 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.507 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.507 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:32.510 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:32.513 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.513 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:39:32.513 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.513 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:32.515 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:39:32.520 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.522 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2022-12-07 11:39:32.611 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:39:32.672 -03:00 [DBG] Hosting starting
2022-12-07 11:39:32.697 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:39:32.699 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:39:32.703 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:39:32.709 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:39:32.711 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:32.711 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:39:32.712 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:32.713 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:39:32.714 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:39:32.716 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:39:32.716 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:39:32.857 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:39:32.896 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:39:32.896 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:39:32.896 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:39:32.896 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:39:32.896 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:39:32.896 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:39:32.896 -03:00 [INF] Hosting environment: Development
2022-12-07 11:39:32.896 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:39:32.896 -03:00 [DBG] Hosting started
2022-12-07 11:39:32.965 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" received FIN.
2022-12-07 11:39:32.965 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" received FIN.
2022-12-07 11:39:32.983 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" accepted.
2022-12-07 11:39:32.983 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" accepted.
2022-12-07 11:39:32.986 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" started.
2022-12-07 11:39:32.986 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" started.
2022-12-07 11:39:33.008 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:33.008 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:33.038 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" stopped.
2022-12-07 11:39:33.038 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" stopped.
2022-12-07 11:39:33.042 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:33.042 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:33.205 -03:00 [DBG] Connection id "0HMMOC3DGJEFV" accepted.
2022-12-07 11:39:33.205 -03:00 [DBG] Connection id "0HMMOC3DGJEFV" started.
2022-12-07 11:39:33.258 -03:00 [DBG] Connection 0HMMOC3DGJEFV established using the following protocol: "Tls12"
2022-12-07 11:39:33.310 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:39:33.345 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:39:33.378 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:39:33.379 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:33.672 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:39:33.817 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:39:33.822 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 518.8460ms
2022-12-07 11:39:33.848 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:39:33.848 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:39:33.861 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 13.0223ms
2022-12-07 11:39:33.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.7179ms
2022-12-07 11:39:34.062 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:39:34.062 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:39:34.062 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:34.290 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 227.7599ms
2022-12-07 11:39:52.571 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:39:53.628 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:39:53.661 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:39:53.745 -03:00 [DBG] Created DbConnection. (80ms).
2022-12-07 11:39:53.755 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.474 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.494 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:39:55.508 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-07 11:39:55.513 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (27ms).
2022-12-07 11:39:55.528 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:55.597 -03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:55.607 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.627 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (19ms).
2022-12-07 11:39:55.631 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:39:55.631 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:55.631 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:55.631 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.632 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.633 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:55.656 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:55.657 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.657 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:55.684 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:55.685 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:55.685 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:55.685 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.685 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.687 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:55.692 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:55.696 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.697 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 11:39:55.698 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.698 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:55.754 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:39:56.012 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:39:56.057 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:56.057 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:56.057 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:56.058 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.058 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.058 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:56.059 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:56.062 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.062 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:39:56.062 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.062 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:56.064 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:39:56.067 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.070 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:39:56.192 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:39:56.269 -03:00 [DBG] Hosting starting
2022-12-07 11:39:56.304 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:39:56.309 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:39:56.316 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:39:56.324 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:39:56.326 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:56.327 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:39:56.327 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:56.328 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:39:56.329 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:39:56.331 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:39:56.331 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:39:56.549 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:39:56.598 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:39:56.598 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:39:56.598 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:39:56.598 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:39:56.598 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:39:56.599 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:39:56.599 -03:00 [INF] Hosting environment: Development
2022-12-07 11:39:56.599 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:39:56.599 -03:00 [DBG] Hosting started
2022-12-07 11:39:56.626 -03:00 [DBG] Connection id "0HMMOC3KI7COP" accepted.
2022-12-07 11:39:56.626 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" accepted.
2022-12-07 11:39:56.627 -03:00 [DBG] Connection id "0HMMOC3KI7COP" started.
2022-12-07 11:39:56.627 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" started.
2022-12-07 11:39:56.638 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" received FIN.
2022-12-07 11:39:56.638 -03:00 [DBG] Connection id "0HMMOC3KI7COP" received FIN.
2022-12-07 11:39:56.674 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:56.681 -03:00 [DBG] Connection id "0HMMOC3KI7COR" accepted.
2022-12-07 11:39:56.674 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:56.717 -03:00 [DBG] Connection id "0HMMOC3KI7COR" started.
2022-12-07 11:39:56.725 -03:00 [DBG] Connection id "0HMMOC3KI7COP" stopped.
2022-12-07 11:39:56.725 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" stopped.
2022-12-07 11:39:56.727 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:56.727 -03:00 [DBG] Connection id "0HMMOC3KI7COP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:56.755 -03:00 [DBG] Connection 0HMMOC3KI7COR established using the following protocol: "Tls12"
2022-12-07 11:39:56.801 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 11:39:56.818 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:39:56.878 -03:00 [DBG] Connection id "0HMMOC3KI7COS" accepted.
2022-12-07 11:39:56.879 -03:00 [DBG] Connection id "0HMMOC3KI7COS" started.
2022-12-07 11:39:56.889 -03:00 [DBG] Connection 0HMMOC3KI7COS established using the following protocol: "Tls12"
2022-12-07 11:39:56.908 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 11:39:56.916 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 11:39:56.923 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:39:56.924 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:39:56.940 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:39:56.940 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:56.945 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:39:57.066 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:39:57.069 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:39:57.104 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:39:57.109 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:39:57.112 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:39:57.227 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:39:57.227 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:39:57.246 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.248 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:39:57.248 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.249 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.249 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.249 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.249 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:39:57.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:39:57.251 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.251 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:39:57.252 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.252 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.252 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:39:57.253 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:39:57.253 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.259 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:39:57.279 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:39:57.347 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:39:57.357 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:57.357 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:39:57.357 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:39:57.358 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:57.358 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:57.358 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.358 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.358 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:39:57.359 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:39:57.360 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.360 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:39:57.360 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.360 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:57.378 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:39:57.391 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:39:57.391 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:39:57.397 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:39:57.401 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 476.4785ms
2022-12-07 11:39:57.428 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:39:57.428 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:39:57.437 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 8.8177ms
2022-12-07 11:39:57.449 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:39:57.472 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:57.472 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:57.475 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-07 11:39:57.481 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.488 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.497 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.3802ms
2022-12-07 11:39:57.498 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:39:57.571 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:39:57.595 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:39:57.595 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:39:57.595 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:57.601 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.602 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 30ms reading results.
2022-12-07 11:39:57.610 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.611 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 11:39:57.663 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:39:57.666 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 11:39:57.666 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:39:57.667 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:39:57.819 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.3642ms
2022-12-07 11:39:57.846 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 730.234ms
2022-12-07 11:39:57.847 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:39:57.849 -03:00 [DBG] Connection id "0HMMOC3KI7COR" completed keep alive response.
2022-12-07 11:39:57.854 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:39:57.863 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.864 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:39:57.864 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1040 application/json;+charset=utf-8 1067.1298ms
2022-12-07 11:42:09.560 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:42:10.481 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:10.507 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:10.579 -03:00 [DBG] Created DbConnection. (70ms).
2022-12-07 11:42:10.589 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.078 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.095 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:42:12.107 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 11:42:12.110 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (24ms).
2022-12-07 11:42:12.121 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:42:12.163 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:42:12.169 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.185 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (12ms).
2022-12-07 11:42:12.192 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:42:12.192 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:42:12.192 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:42:12.192 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.193 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.195 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:42:12.257 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:42:12.257 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.259 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 11:42:12.324 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:12.324 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.324 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.324 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.324 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.326 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:42:12.335 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:42:12.345 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.351 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 9ms reading results.
2022-12-07 11:42:12.351 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.352 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:12.422 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:42:12.698 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:42:12.738 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:12.738 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.739 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.739 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.739 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.739 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:42:12.742 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:42:12.751 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.752 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 9ms reading results.
2022-12-07 11:42:12.752 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.752 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:12.757 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:12.761 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.764 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:42:12.944 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:42:13.042 -03:00 [DBG] Hosting starting
2022-12-07 11:42:13.080 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:42:13.088 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:42:13.100 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:42:13.115 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:42:13.118 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:42:13.119 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:42:13.121 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:42:13.122 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:42:13.124 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:42:13.127 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:42:13.128 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:42:13.347 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:42:13.400 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:42:13.400 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:42:13.400 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:42:13.400 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:42:13.400 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:42:13.400 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:42:13.400 -03:00 [INF] Hosting environment: Development
2022-12-07 11:42:13.400 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:42:13.400 -03:00 [DBG] Hosting started
2022-12-07 11:42:13.418 -03:00 [DBG] Connection id "0HMMOC4TAP57M" accepted.
2022-12-07 11:42:13.421 -03:00 [DBG] Connection id "0HMMOC4TAP57M" started.
2022-12-07 11:42:13.479 -03:00 [DBG] Connection 0HMMOC4TAP57M established using the following protocol: "Tls12"
2022-12-07 11:42:13.527 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 11:42:13.542 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:42:13.569 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 11:42:13.579 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 11:42:13.583 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:13.601 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:42:13.741 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:42:13.744 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:13.770 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:42:13.771 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:42:13.771 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:42:13.771 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:42:13.772 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:42:13.772 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:42:13.773 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:13.795 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:13.833 -03:00 [DBG] Connection id "0HMMOC4TAP57N" accepted.
2022-12-07 11:42:13.834 -03:00 [DBG] Connection id "0HMMOC4TAP57N" started.
2022-12-07 11:42:13.855 -03:00 [DBG] Connection id "0HMMOC4TAP57N" received FIN.
2022-12-07 11:42:13.855 -03:00 [DBG] Connection id "0HMMOC4TAP57O" received FIN.
2022-12-07 11:42:13.856 -03:00 [DBG] Connection id "0HMMOC4TAP57O" accepted.
2022-12-07 11:42:13.857 -03:00 [DBG] Connection id "0HMMOC4TAP57O" started.
2022-12-07 11:42:13.859 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:42:13.860 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:42:13.890 -03:00 [DBG] Connection id "0HMMOC4TAP57O" stopped.
2022-12-07 11:42:13.890 -03:00 [DBG] Connection id "0HMMOC4TAP57N" stopped.
2022-12-07 11:42:13.892 -03:00 [DBG] Connection id "0HMMOC4TAP57N" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:42:13.892 -03:00 [DBG] Connection id "0HMMOC4TAP57O" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:42:13.931 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:13.950 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.954 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:13.955 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.955 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.955 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.955 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.957 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:42:13.960 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:42:13.960 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:13.961 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:13.961 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.967 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:42:13.991 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 11:42:14.071 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:42:14.096 -03:00 [DBG] Connection id "0HMMOC4TAP57P" accepted.
2022-12-07 11:42:14.096 -03:00 [DBG] Connection id "0HMMOC4TAP57P" started.
2022-12-07 11:42:14.123 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:14.124 -03:00 [DBG] Connection 0HMMOC4TAP57P established using the following protocol: "Tls12"
2022-12-07 11:42:14.124 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:14.126 -03:00 [DBG] Created DbConnection. (1ms).
2022-12-07 11:42:14.126 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-12-07 11:42:14.126 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2022-12-07 11:42:14.136 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.143 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.144 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:14.150 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:42:14.174 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:42:14.174 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:42:14.175 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:14.210 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.211 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 35ms reading results.
2022-12-07 11:42:14.215 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.216 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:14.315 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:42:14.319 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 11:42:14.320 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:42:14.320 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:42:14.383 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:42:14.535 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 758.1516ms
2022-12-07 11:42:14.538 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:14.543 -03:00 [DBG] Connection id "0HMMOC4TAP57M" completed keep alive response.
2022-12-07 11:42:14.544 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:42:14.546 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:14.547 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 396.0896ms
2022-12-07 11:42:14.574 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.576 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2022-12-07 11:42:14.577 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1053.4369ms
2022-12-07 11:42:14.584 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:42:14.584 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:42:14.595 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 11.3440ms
2022-12-07 11:42:14.648 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.8712ms
2022-12-07 11:42:14.743 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:42:14.743 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:42:14.743 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:42:14.965 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 222.1335ms
2022-12-07 11:42:26.133 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:42:26.135 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:42:26.135 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:42:26.136 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:26.136 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:42:26.136 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:42:26.136 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:26.137 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:42:26.137 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:26.240 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:26.240 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:26.241 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:42:26.241 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:26.242 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:26.242 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:42:26.246 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:26.246 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:26.246 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:42:26.246 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:26.247 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:26.247 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.247 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.248 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:26.256 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:26.257 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.257 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:42:26.257 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.257 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:26.258 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:42:26.258 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:42:26.258 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:42:26.259 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:42:26.259 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:42:26.259 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:42:26.259 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:42:26.260 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 123.1025ms
2022-12-07 11:42:26.260 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:26.260 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:26.260 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.261 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:42:26.261 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1818 application/json;+charset=utf-8 128.0835ms
2022-12-07 11:42:33.712 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 11:42:33.712 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:42:33.712 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:42:33.712 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:33.713 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:42:33.716 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:42:33.716 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:33.716 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:42:33.716 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:33.721 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:33.722 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:33.733 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:33.735 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:42:33.735 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:42:33.736 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.736 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.736 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 11:42:33.737 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.737 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.737 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.741 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.741 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.741 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 11:42:33.741 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.741 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.742 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.742 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.742 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:42:33.748 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:42:33.845 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:42:33.859 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:33.859 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:33.859 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:42:33.859 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:33.859 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:33.859 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.859 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.859 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:42:33.861 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:42:33.861 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.861 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:42:33.861 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.862 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:33.870 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:42:33.879 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:42:33.881 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:42:33.885 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:42:33.892 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:33.892 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:33.900 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:42:33.900 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.900 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.916 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:42:34.017 -03:00 [INF] Executed DbCommand (117ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:42:34.017 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:34.021 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 11:42:34.021 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:34.021 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:34.021 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:42:34.021 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:42:34.021 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:42:34.022 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:42:34.022 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:42:34.022 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:42:34.022 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:42:34.022 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 306.1657ms
2022-12-07 11:42:34.023 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:34.023 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:34.023 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:34.023 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:42:34.023 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 310.9408ms
