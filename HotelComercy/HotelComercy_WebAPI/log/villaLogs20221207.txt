2022-12-07 09:18:30.132 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:18:31.087 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:31.117 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:31.179 -03:00 [DBG] Created DbConnection. (59ms).
2022-12-07 09:18:31.190 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.639 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.647 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:18:32.653 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-07 09:18:32.655 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-07 09:18:32.662 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:32.688 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:32.691 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.700 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 09:18:32.704 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:18:32.704 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:32.704 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:32.704 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.705 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.706 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:32.725 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:32.725 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.725 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:32.744 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:32.744 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:32.744 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:32.744 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.745 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.745 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:32.750 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:32.754 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.756 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:18:32.756 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:32.756 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:32.802 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:18:32.988 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:18:33.019 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:33.019 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:33.019 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:33.019 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.019 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.019 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:33.021 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:33.023 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.023 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:18:33.023 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.023 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:33.025 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:33.027 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:33.028 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:33.099 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:18:33.149 -03:00 [DBG] Hosting starting
2022-12-07 09:18:33.163 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:18:33.165 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:18:33.169 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:18:33.175 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:18:33.177 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:33.177 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:18:33.178 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:33.179 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:18:33.180 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:18:33.181 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:18:33.182 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:18:33.271 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:18:33.291 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:18:33.291 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:18:33.291 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:18:33.291 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:18:33.291 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:18:33.291 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:18:33.291 -03:00 [INF] Hosting environment: Development
2022-12-07 09:18:33.291 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:18:33.291 -03:00 [DBG] Hosting started
2022-12-07 09:18:33.688 -03:00 [DBG] Connection id "0HMMO9KKEKCBJ" accepted.
2022-12-07 09:18:33.689 -03:00 [DBG] Connection id "0HMMO9KKEKCBJ" started.
2022-12-07 09:18:33.722 -03:00 [DBG] Connection id "0HMMO9KKEKCBK" accepted.
2022-12-07 09:18:33.722 -03:00 [DBG] Connection id "0HMMO9KKEKCBK" started.
2022-12-07 09:18:33.752 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" accepted.
2022-12-07 09:18:33.752 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" started.
2022-12-07 09:18:33.797 -03:00 [DBG] Connection 0HMMO9KKEKCBL established using the following protocol: "Tls12"
2022-12-07 09:18:33.846 -03:00 [DBG] Connection id "0HMMO9KKEKCBM" accepted.
2022-12-07 09:18:33.846 -03:00 [DBG] Connection id "0HMMO9KKEKCBM" started.
2022-12-07 09:18:33.847 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" accepted.
2022-12-07 09:18:33.848 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" started.
2022-12-07 09:18:33.867 -03:00 [DBG] Connection 0HMMO9KKEKCBM established using the following protocol: "Tls12"
2022-12-07 09:18:33.870 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:18:33.871 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" received FIN.
2022-12-07 09:18:33.873 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:18:33.883 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:18:33.897 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:18:33.903 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" stopped.
2022-12-07 09:18:33.904 -03:00 [DBG] Connection id "0HMMO9KKEKCBN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:18:33.928 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:18:33.929 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:33.933 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:18:33.940 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:18:33.945 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:33.950 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:18:34.022 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:18:34.024 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:34.048 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:18:34.049 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:18:34.049 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:34.051 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:34.132 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:34.134 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:18:34.145 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.146 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:34.147 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.147 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.147 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.147 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.147 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:18:34.149 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:34.149 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.149 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:34.149 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.149 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.150 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.150 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:34.150 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:34.153 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:18:34.174 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 09:18:34.215 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:18:34.232 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:34.232 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:34.233 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:18:34.233 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:34.233 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:34.240 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.244 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.245 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:34.269 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:34.278 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:18:34.283 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 385.7848ms
2022-12-07 09:18:34.298 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:18:34.301 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.301 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 31ms reading results.
2022-12-07 09:18:34.303 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 5.3609ms
2022-12-07 09:18:34.307 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.307 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 09:18:34.333 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:18:34.337 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:18:34.338 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:18:34.338 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:18:34.373 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:18:34.444 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.4262ms
2022-12-07 09:18:34.493 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 439.8279ms
2022-12-07 09:18:34.494 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:34.495 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" completed keep alive response.
2022-12-07 09:18:34.497 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:34.505 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:34.506 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:34.506 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 660.8485ms
2022-12-07 09:18:34.549 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:18:34.549 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:18:34.549 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:34.732 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.4681ms
2022-12-07 09:18:39.445 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" received FIN.
2022-12-07 09:18:39.445 -03:00 [DBG] Connection id "0HMMO9KKEKCBL" disconnecting.
2022-12-07 09:18:47.754 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:18:48.976 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:49.001 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:49.058 -03:00 [DBG] Created DbConnection. (53ms).
2022-12-07 09:18:49.069 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.382 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.390 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:18:50.397 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 09:18:50.399 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 09:18:50.407 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:50.437 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:18:50.441 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.452 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-07 09:18:50.456 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:18:50.456 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:50.456 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:18:50.456 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.457 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.458 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:50.477 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:18:50.477 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.477 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:50.497 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:50.497 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.497 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.498 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.498 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.499 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:50.504 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:18:50.508 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.510 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:18:50.510 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.510 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:50.558 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:18:50.770 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:18:50.802 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:50.802 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.802 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:50.802 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.802 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.802 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:50.804 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:18:50.805 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.805 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:18:50.805 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.805 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:18:50.807 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:50.809 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:50.811 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:50.881 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:18:50.946 -03:00 [DBG] Hosting starting
2022-12-07 09:18:50.967 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:18:50.973 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:18:50.978 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:18:50.986 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:18:50.988 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:50.988 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:18:50.989 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:18:50.990 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:18:50.991 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:18:50.993 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:18:50.993 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:18:51.092 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:18:51.114 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:18:51.114 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:18:51.114 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:18:51.114 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:18:51.114 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:18:51.115 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:18:51.115 -03:00 [INF] Hosting environment: Development
2022-12-07 09:18:51.115 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:18:51.115 -03:00 [DBG] Hosting started
2022-12-07 09:18:51.310 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" received FIN.
2022-12-07 09:18:51.317 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" accepted.
2022-12-07 09:18:51.318 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" started.
2022-12-07 09:18:51.332 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:18:51.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" stopped.
2022-12-07 09:18:51.359 -03:00 [DBG] Connection id "0HMMO9KPMMOG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:18:51.477 -03:00 [DBG] Connection id "0HMMO9KPMMOG1" accepted.
2022-12-07 09:18:51.480 -03:00 [DBG] Connection id "0HMMO9KPMMOG1" started.
2022-12-07 09:18:51.520 -03:00 [DBG] Connection 0HMMO9KPMMOG1 established using the following protocol: "Tls12"
2022-12-07 09:18:51.537 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" accepted.
2022-12-07 09:18:51.537 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" started.
2022-12-07 09:18:51.549 -03:00 [DBG] Connection 0HMMO9KPMMOG2 established using the following protocol: "Tls12"
2022-12-07 09:18:51.579 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:18:51.582 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:18:51.595 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:18:51.628 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:18:51.628 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:51.633 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:18:51.642 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:18:51.647 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:51.650 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:18:51.728 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:18:51.731 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:51.771 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:18:51.772 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:18:51.772 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:18:51.772 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:18:51.773 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:18:51.773 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:18:51.773 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:51.815 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:18:51.911 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:18:51.913 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:18:51.921 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.923 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:51.923 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.923 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.923 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.923 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.924 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.925 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:18:51.925 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:18:51.925 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.925 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.925 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.925 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:51.926 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:18:51.926 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.926 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:18:51.926 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:18:51.929 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:18:51.945 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 09:18:52.000 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:18:52.016 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:18:52.016 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:18:52.017 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:18:52.017 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:18:52.017 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 09:18:52.025 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.030 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.031 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:52.060 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:18:52.069 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:18:52.075 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 497.8753ms
2022-12-07 09:18:52.082 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:18:52.086 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:18:52.090 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 6.5510ms
2022-12-07 09:18:52.101 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.102 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 41ms reading results.
2022-12-07 09:18:52.109 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.110 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 09:18:52.137 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.4369ms
2022-12-07 09:18:52.147 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:18:52.151 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:18:52.152 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:18:52.152 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:18:52.245 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:18:52.245 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:18:52.245 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:18:52.301 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 523.7844ms
2022-12-07 09:18:52.303 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:18:52.304 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" completed keep alive response.
2022-12-07 09:18:52.306 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:18:52.312 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:18:52.315 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:18:52.316 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 733.8241ms
2022-12-07 09:18:52.428 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.4807ms
2022-12-07 09:20:04.035 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" received FIN.
2022-12-07 09:20:04.045 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" disconnecting.
2022-12-07 09:20:04.045 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" sending FIN because: "The client closed the connection."
2022-12-07 09:20:04.047 -03:00 [DBG] Connection id "0HMMO9KPMMOG2" stopped.
2022-12-07 09:20:17.682 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" accepted.
2022-12-07 09:20:17.683 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" started.
2022-12-07 09:20:17.684 -03:00 [DBG] Connection 0HMMO9KPMMOG3 established using the following protocol: "Tls12"
2022-12-07 09:20:17.687 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38
2022-12-07 09:20:17.688 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 09:20:17.688 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 09:20:17.688 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:20:17.688 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:17.688 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:20:17.688 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:20:17.691 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:17.691 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:17.691 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:20:17.691 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:20:17.692 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:20:17.693 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 09:20:17.693 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 09:20:17.693 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 09:20:17.701 -03:00 [DBG] Connection id "0HMMO9KPMMOG3", Request id "0HMMO9KPMMOG3:00000002": started reading request body.
2022-12-07 09:20:17.701 -03:00 [DBG] Connection id "0HMMO9KPMMOG3", Request id "0HMMO9KPMMOG3:00000002": done reading request body.
2022-12-07 09:20:17.775 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:20:17.775 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:20:17.775 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:20:17.781 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:20:17.824 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:17.833 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-07 09:20:17.913 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 09:20:17.931 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:17.931 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:17.931 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:17.931 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:17.936 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2022-12-07 09:20:17.936 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:17.937 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:17.944 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:20:18.006 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:20:18.048 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 09:20:18.076 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.077 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 70ms reading results.
2022-12-07 09:20:18.077 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.077 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:18.297 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:18.297 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:18.297 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:18.297 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:18.299 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 608.1981ms
2022-12-07 09:20:18.299 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:20:18.299 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:18.300 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:18.300 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.300 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:18.300 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 612.6340ms
2022-12-07 09:20:18.317 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:20:18.317 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:20:18.317 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:20:18.317 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:18.317 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:18.398 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:20:18.399 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:20:18.399 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:18.399 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:18.400 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:18.400 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:18.400 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:18.400 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:18.400 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.400 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:20:18.400 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:20:18.400 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:18.401 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:18.401 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:18.401 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:18.401 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:20:18.402 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:18.402 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:18.402 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:18.402 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:18.402 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:18.402 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.402 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.402 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:18.406 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:18.406 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.406 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:20:18.406 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.406 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:18.406 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:18.406 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:18.406 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:18.406 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:18.406 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 6.7153ms
2022-12-07 09:20:18.406 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:18.406 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:18.406 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:18.406 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:18.407 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:18.407 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 89.7468ms
2022-12-07 09:20:19.698 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - -
2022-12-07 09:20:19.698 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaNumberApi'
2022-12-07 09:20:19.699 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/villaNumberApi'
2022-12-07 09:20:19.699 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 09:20:19.699 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:19.699 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:20:19.699 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:20:19.704 -03:00 [DBG] Authorization was successful.
2022-12-07 09:20:19.705 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 09:20:19.707 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:19.707 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:19.707 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 09:20:19.709 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:19.709 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 09:20:19.710 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-07 09:20:19.712 -03:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .AsNoTracking()
    .Include("Villa")'
2022-12-07 09:20:19.738 -03:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2022-12-07 09:20:19.801 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string) Required, 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string) Required, 8], [Property: Villa.ImageUrl (string) Required, 9], [Property: Villa.Name (string) Required MaxLength(30), 10], [Property: Villa.Occupancy (int) Required, 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqtf (int) Required, 13], [Property: Villa.UpdatedDate (DateTime) Required, 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqtf, v0.UpdatedDate
        FROM VillasNumber AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:20:19.804 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:19.804 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:19.804 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:19.804 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:19.804 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:19.804 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.804 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.804 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-07 09:20:19.808 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-07 09:20:19.810 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.810 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 09:20:19.810 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.811 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:19.818 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:19.818 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:19.818 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:19.818 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:19.822 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 114.4223ms
2022-12-07 09:20:19.822 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 09:20:19.823 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:19.823 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:19.823 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:19.823 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:19.823 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 124.8050ms
2022-12-07 09:20:21.167 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 09:20:21.167 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 09:20:21.167 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 09:20:21.167 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:21.168 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:20:21.168 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:20:21.168 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:20:21.168 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:21.168 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:20:21.168 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:20:21.168 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:21.168 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:20:21.168 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:20:21.169 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:20:21.169 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:20:21.169 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:20:21.169 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:20:21.169 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:20:21.169 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:20:21.169 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:21.169 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:20:21.169 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.169 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.169 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:21.171 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:20:21.171 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.171 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:20:21.171 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.171 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:20:21.171 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:20:21.171 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 09:20:21.171 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:20:21.171 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:20:21.171 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3.222ms
2022-12-07 09:20:21.171 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:20:21.171 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" completed keep alive response.
2022-12-07 09:20:21.171 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:20:21.171 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:20:21.171 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:20:21.171 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.1316ms
2022-12-07 09:20:23.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" received FIN.
2022-12-07 09:20:23.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" disconnecting.
2022-12-07 09:20:23.356 -03:00 [DBG] Connection id "0HMMO9KPMMOG3" sending FIN because: "The client closed the connection."
2022-12-07 09:21:28.819 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:21:29.519 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:21:29.536 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:21:29.575 -03:00 [DBG] Created DbConnection. (37ms).
2022-12-07 09:21:29.582 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.849 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.857 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:21:30.864 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 09:21:30.866 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 09:21:30.871 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:21:30.896 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:21:30.899 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.908 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 09:21:30.912 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:21:30.912 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:21:30.912 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:21:30.912 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.913 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.913 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:21:30.932 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:21:30.932 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.933 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:30.951 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:21:30.951 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:30.951 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:30.951 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.951 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.952 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:21:30.955 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:21:30.958 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.960 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:21:30.960 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:30.960 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:30.999 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:21:31.179 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:21:31.206 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:21:31.207 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:31.207 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:31.207 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.207 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.207 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:21:31.208 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:21:31.210 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.210 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:21:31.210 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.210 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:31.211 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:21:31.213 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:31.214 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:21:31.282 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:21:31.335 -03:00 [DBG] Hosting starting
2022-12-07 09:21:31.352 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:21:31.354 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:21:31.358 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:21:31.364 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:21:31.366 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:21:31.366 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:21:31.367 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:21:31.367 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:21:31.368 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:21:31.370 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:21:31.370 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:21:31.461 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:21:31.483 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:21:31.483 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:21:31.483 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:21:31.483 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:21:31.483 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:21:31.484 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:21:31.484 -03:00 [INF] Hosting environment: Development
2022-12-07 09:21:31.484 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:21:31.484 -03:00 [DBG] Hosting started
2022-12-07 09:21:31.811 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" accepted.
2022-12-07 09:21:31.811 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" accepted.
2022-12-07 09:21:31.812 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" started.
2022-12-07 09:21:31.812 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" started.
2022-12-07 09:21:31.850 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" received FIN.
2022-12-07 09:21:31.850 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" received FIN.
2022-12-07 09:21:31.867 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:21:31.867 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:21:31.891 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" stopped.
2022-12-07 09:21:31.891 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" stopped.
2022-12-07 09:21:31.893 -03:00 [DBG] Connection id "0HMMO9M9HB8L8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:21:31.893 -03:00 [DBG] Connection id "0HMMO9M9HB8L9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:21:32.010 -03:00 [DBG] Connection id "0HMMO9M9HB8LA" accepted.
2022-12-07 09:21:32.012 -03:00 [DBG] Connection id "0HMMO9M9HB8LA" started.
2022-12-07 09:21:32.048 -03:00 [DBG] Connection 0HMMO9M9HB8LA established using the following protocol: "Tls12"
2022-12-07 09:21:32.083 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:21:32.109 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:21:32.129 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:21:32.130 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:21:32.301 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:21:32.413 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:21:32.417 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 335.1234ms
2022-12-07 09:21:32.434 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:21:32.434 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:21:32.444 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 9.3695ms
2022-12-07 09:21:32.786 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 351.6041ms
2022-12-07 09:21:32.865 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:21:32.865 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:21:32.865 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:21:33.016 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.7489ms
2022-12-07 09:21:48.883 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47
2022-12-07 09:21:48.893 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 09:21:48.902 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 09:21:48.908 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:21:48.909 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:21:48.980 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 09:21:48.982 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:21:49.010 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:21:49.011 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:21:49.012 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:21:49.013 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 09:21:49.027 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:21:49.028 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 09:21:49.029 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 09:21:49.029 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 09:21:49.048 -03:00 [DBG] Connection id "0HMMO9M9HB8LA", Request id "0HMMO9M9HB8LA:00000009": started reading request body.
2022-12-07 09:21:49.049 -03:00 [DBG] Connection id "0HMMO9M9HB8LA", Request id "0HMMO9M9HB8LA:00000009": done reading request body.
2022-12-07 09:21:49.173 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:21:49.173 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:21:49.173 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 09:21:49.187 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 09:21:49.205 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:21:49.229 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-07 09:21:49.406 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 09:21:49.435 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:21:49.435 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:21:49.435 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:21:49.435 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:21:49.440 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2022-12-07 09:21:49.440 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.440 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.445 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:21:49.480 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 09:21:49.528 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 09:21:49.550 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.551 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 71ms reading results.
2022-12-07 09:21:49.551 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.551 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:21:49.700 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:21:49.705 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 09:21:49.705 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:21:49.705 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:21:49.706 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:21:49.706 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:21:49.779 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 764.0017ms
2022-12-07 09:21:49.780 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 09:21:49.782 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:21:49.789 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:21:49.789 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:21:49.790 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 906.1782ms
2022-12-07 09:22:19.280 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=2 - -
2022-12-07 09:22:19.282 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:22:19.282 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:22:19.282 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:19.282 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:22:19.369 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:22:19.371 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:22:19.372 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:19.380 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:22:19.380 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:22:19.381 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:22:19.381 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:19.449 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:22:19.612 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:19.618 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.619 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'Occupancy' in request data ...
2022-12-07 09:22:19.620 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.620 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.620 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.620 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.620 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:22:19.620 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:22:19.621 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:19.621 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:19.621 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.621 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:19.621 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:19.625 -03:00 [INF] Retornando vilas com base em um filtro.
2022-12-07 09:22:19.635 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Where(x => (int?)x.Occupancy == __Occupancy_0)'
2022-12-07 09:22:19.648 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        WHERE v.Occupancy == @__Occupancy_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:22:19.682 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:22:19.682 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:22:19.682 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:22:19.682 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:19.682 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:19.691 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.702 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.705 -03:00 [DBG] Executing DbCommand [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:19.772 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:19.795 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.795 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 23ms reading results.
2022-12-07 09:22:19.801 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.803 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:22:19.831 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:22:19.833 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:22:19.833 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:22:19.833 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:22:19.833 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:22:19.833 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:22:19.833 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:22:19.836 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 455.2955ms
2022-12-07 09:22:19.837 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:19.838 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:22:19.838 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:19.838 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:22:19.839 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=2 - - - 200 65 application/json;+charset=utf-8 558.1930ms
2022-12-07 09:22:30.965 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4 - -
2022-12-07 09:22:30.965 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:22:30.965 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:22:30.965 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:30.965 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:22:30.968 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:22:30.968 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:22:30.968 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:30.969 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:22:30.970 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:22:30.970 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:30.972 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:22:30.973 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:30.973 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.973 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'Occupancy' in request data ...
2022-12-07 09:22:30.973 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.974 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.974 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.977 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.978 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:22:30.979 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:30.979 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:30.979 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:30.979 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:30.979 -03:00 [INF] Retornando vilas com base em um filtro.
2022-12-07 09:22:30.982 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:22:30.982 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:22:30.982 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:22:30.982 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:30.982 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:30.982 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.982 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.983 -03:00 [DBG] Executing DbCommand [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:30.984 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:30.989 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.989 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 09:22:30.990 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.990 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:22:30.991 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:22:30.991 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:22:30.991 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:22:30.991 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:22:30.991 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:22:30.991 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:22:30.991 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:22:30.994 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 24.4264ms
2022-12-07 09:22:30.994 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:30.994 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:22:30.995 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:30.995 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:22:30.995 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4 - - - 200 1694 application/json;+charset=utf-8 29.8446ms
2022-12-07 09:22:55.654 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4&name=pool - -
2022-12-07 09:22:55.656 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:22:55.657 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:22:55.657 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:55.657 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:22:55.658 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:22:55.658 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:22:55.659 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:55.659 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:22:55.659 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:22:55.659 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:55.663 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:22:55.663 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name 'Occupancy' in request data ...
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:22:55.663 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-12-07 09:22:55.663 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:55.664 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:22:55.664 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:22:55.664 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:22:55.664 -03:00 [INF] Retornando vilas com base em um filtro.
2022-12-07 09:22:55.664 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:22:55.664 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:22:55.664 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:22:55.664 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:55.664 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:22:55.664 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.664 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.664 -03:00 [DBG] Executing DbCommand [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:55.666 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Occupancy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Occupancy] = @__Occupancy_0
2022-12-07 09:22:55.671 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.671 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 09:22:55.671 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.671 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:22:55.678 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:22:55.678 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:22:55.678 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:22:55.678 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:22:55.678 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:22:55.678 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:22:55.678 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:22:55.678 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 19.1018ms
2022-12-07 09:22:55.678 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:22:55.678 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:22:55.679 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:22:55.679 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:22:55.679 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?Occupancy=4&name=pool - - - 200 1049 application/json;+charset=utf-8 25.5058ms
2022-12-07 09:23:06.872 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=pool - -
2022-12-07 09:23:06.873 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:23:06.873 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:23:06.873 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:06.873 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:23:06.873 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:23:06.873 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:23:06.873 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:06.873 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:23:06.873 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:23:06.874 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:23:06.874 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:06.874 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:23:06.874 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:06.875 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:06.875 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:06.875 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:06.876 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:06.876 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:06.876 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:06.876 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:23:06.876 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 09:23:06.882 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:23:06.882 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:23:06.882 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:23:06.882 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:23:06.882 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:06.882 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:06.882 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.883 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.883 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:06.885 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:06.885 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.885 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:23:06.885 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.885 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:23:06.885 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:23:06.885 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:23:06.885 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:23:06.885 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:23:06.885 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:23:06.885 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:23:06.886 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:23:06.886 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 12.2368ms
2022-12-07 09:23:06.886 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:06.886 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:23:06.886 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:06.886 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:23:06.886 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=pool - - - 200 1049 application/json;+charset=utf-8 13.9616ms
2022-12-07 09:23:14.797 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=royal - -
2022-12-07 09:23:14.797 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:23:14.797 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:23:14.797 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:14.797 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:23:14.797 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:23:14.798 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:23:14.798 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:14.798 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:23:14.798 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:23:14.798 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:14.798 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:23:14.798 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:14.798 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.798 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:14.798 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.798 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.798 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.798 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:14.799 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:14.799 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:14.799 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:23:14.799 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:23:14.799 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:23:14.799 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:23:14.799 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:14.799 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:14.800 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.800 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.800 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:14.802 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:14.802 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.802 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:23:14.802 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.802 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:23:14.802 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:23:14.802 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:23:14.802 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:23:14.802 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:23:14.802 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:23:14.802 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:23:14.802 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:23:14.803 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 4.7232ms
2022-12-07 09:23:14.803 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:14.803 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:23:14.803 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:14.803 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:23:14.803 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?name=royal - - - 200 385 application/json;+charset=utf-8 5.6979ms
2022-12-07 09:23:26.992 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:23:26.992 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:23:26.993 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:23:26.993 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:26.993 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:23:26.993 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:23:26.993 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:23:26.993 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:26.993 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:23:26.993 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:23:26.993 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:26.994 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:23:26.994 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:23:26.994 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:23:26.994 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.994 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:23:26.994 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.995 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:23:26.995 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:23:26.996 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:23:26.996 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:23:26.996 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:23:26.996 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:23:26.996 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:26.996 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:23:26.996 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.996 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.996 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:26.998 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:23:26.998 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.998 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:23:26.998 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.998 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:23:26.999 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:23:26.999 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:23:26.999 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:23:26.999 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:23:26.999 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:23:26.999 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:23:26.999 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:23:26.999 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 5.8745ms
2022-12-07 09:23:26.999 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:23:26.999 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:23:26.999 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:23:26.999 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:23:27.000 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 1818 application/json;+charset=utf-8 7.1467ms
2022-12-07 09:24:01.249 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:24:01.249 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:24:01.249 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:24:01.249 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:01.249 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:24:01.249 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:24:01.249 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:24:01.249 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:01.249 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:24:01.249 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:24:01.249 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:24:01.249 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:24:01.250 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:24:01.250 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:24:01.250 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:01.250 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:24:01.250 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:01.250 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.250 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:01.251 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:01.251 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:19.332 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:24:19.737 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:24:19.737 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:24:19.737 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:24:19.737 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:24:19.737 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:24:19.737 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.737 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.737 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:24:19.759 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:24:19.761 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.763 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 09:24:19.764 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:19.764 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:24:45.267 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:24:45.272 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:24:45.273 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:24:45.274 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:24:45.275 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:24:45.276 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:24:45.276 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:24:45.279 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 44029.8107ms
2022-12-07 09:24:45.279 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:45.279 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:24:45.280 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:24:45.280 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:24:45.280 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 1818 application/json;+charset=utf-8 44032.1607ms
2022-12-07 09:24:48.141 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:24:48.141 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:24:48.141 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:24:48.141 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:48.141 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:24:48.141 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:24:48.141 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:24:48.141 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:24:48.141 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:24:48.141 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:24:48.141 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:24:48.141 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:24:48.142 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:24:48.142 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:24:48.142 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:48.143 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:24:48.143 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:24:48.144 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.144 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:24:48.144 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.144 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.144 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:24:48.145 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.145 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.145 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:48.146 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:24:48.146 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:24:52.908 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:25:03.513 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:03.513 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:25:03.513 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:25:03.513 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:03.513 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:03.513 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.513 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.513 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:25:03.527 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 09:25:03.527 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.527 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:25:03.528 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:03.528 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:23.346 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:25:24.168 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:25:24.185 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:25:24.224 -03:00 [DBG] Created DbConnection. (36ms).
2022-12-07 09:25:24.231 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.528 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.536 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:25:25.544 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 09:25:25.546 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 09:25:25.554 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:25:25.584 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:25:25.587 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.598 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 09:25:25.603 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:25:25.603 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:25:25.603 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:25:25.603 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.604 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.605 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:25:25.625 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:25:25.625 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.625 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:25.648 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:25.648 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.648 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.648 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.648 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.649 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:25:25.652 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:25:25.656 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.657 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:25:25.658 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.658 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:25.702 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:25:25.924 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:25:25.954 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:25.954 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.954 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:25.954 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.954 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.954 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:25:25.955 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:25:25.957 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.957 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:25:25.957 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.957 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:25.959 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:25:25.961 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:25.962 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:25:26.028 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:25:26.077 -03:00 [DBG] Hosting starting
2022-12-07 09:25:26.093 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:25:26.095 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:25:26.100 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:25:26.105 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:25:26.107 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:25:26.107 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:25:26.108 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:25:26.109 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:25:26.110 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:25:26.111 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:25:26.112 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:25:26.200 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:25:26.220 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:25:26.220 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:25:26.220 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:25:26.220 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:25:26.220 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:25:26.220 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:25:26.220 -03:00 [INF] Hosting environment: Development
2022-12-07 09:25:26.220 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:25:26.220 -03:00 [DBG] Hosting started
2022-12-07 09:25:26.516 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" received FIN.
2022-12-07 09:25:26.524 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" accepted.
2022-12-07 09:25:26.525 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" started.
2022-12-07 09:25:26.536 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:25:26.556 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" stopped.
2022-12-07 09:25:26.559 -03:00 [DBG] Connection id "0HMMO9OFFM5K2" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:25:26.674 -03:00 [DBG] Connection id "0HMMO9OFFM5K3" accepted.
2022-12-07 09:25:26.675 -03:00 [DBG] Connection id "0HMMO9OFFM5K3" started.
2022-12-07 09:25:26.716 -03:00 [DBG] Connection 0HMMO9OFFM5K3 established using the following protocol: "Tls12"
2022-12-07 09:25:26.759 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:25:26.784 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:25:26.804 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:25:26.805 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:25:26.992 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:25:27.116 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:25:27.121 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 364.0225ms
2022-12-07 09:25:27.142 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:25:27.143 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:25:27.154 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 10.6446ms
2022-12-07 09:25:27.194 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.0426ms
2022-12-07 09:25:27.266 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:25:27.266 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:25:27.266 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:25:27.469 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.2959ms
2022-12-07 09:25:40.459 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:25:40.469 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:25:40.482 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:25:40.489 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:25:40.490 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:25:40.894 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:25:40.895 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:25:40.897 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:25:40.951 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:25:40.952 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:25:40.953 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:25:40.953 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:25:40.953 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:25:40.954 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:25:40.955 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:25:40.969 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:25:41.115 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:25:41.139 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.143 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:25:41.145 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.145 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.145 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.145 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.147 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.150 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:25:41.150 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:25:41.150 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:25:41.151 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:25:41.151 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.152 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:25:41.152 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.152 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.152 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.154 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.154 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.155 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:25:41.155 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.155 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:41.155 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:25:41.155 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:25:43.799 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:25:44.778 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 09:25:44.791 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:25:44.792 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:25:44.821 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:25:44.838 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:25:44.838 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:25:44.838 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:25:44.838 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:25:44.842 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-07 09:25:44.848 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.853 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.860 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:25:44.932 -03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:25:44.958 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.959 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 26ms reading results.
2022-12-07 09:25:44.964 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:44.964 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:25:45.004 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:25:45.010 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:25:45.010 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:25:45.010 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:25:45.011 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:25:45.011 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:25:45.011 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:25:45.205 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 4246.7869ms
2022-12-07 09:25:45.206 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:25:45.209 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:25:45.216 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:25:45.216 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:25:45.216 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 4757.6652ms
2022-12-07 09:26:03.925 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=2&pageSize=2 - -
2022-12-07 09:26:03.925 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:26:03.925 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:26:03.926 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:03.926 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:26:03.926 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:26:03.926 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:26:03.931 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:03.931 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:26:03.932 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:26:03.932 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:03.977 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:26:03.977 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:26:03.977 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:26:03.977 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.977 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.977 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.978 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:26:03.978 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:03.978 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:03.978 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:26:03.979 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_0)'
2022-12-07 09:26:03.979 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:26:03.979 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:26:03.981 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:26:03.981 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:26:03.981 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:26:03.981 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:26:03.981 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:03.981 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:03.981 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.981 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.981 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2022-12-07 09:26:03.985 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
2022-12-07 09:26:03.985 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.985 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:26:03.985 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.985 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:26:03.985 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:26:03.985 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:26:03.985 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:26:03.985 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:26:03.985 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:26:03.985 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:26:03.985 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:26:03.986 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 53.7785ms
2022-12-07 09:26:03.986 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:03.986 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:26:03.986 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:03.986 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:26:03.986 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=2&pageSize=2 - - - 200 715 application/json;+charset=utf-8 61.2163ms
2022-12-07 09:26:07.961 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - -
2022-12-07 09:26:07.962 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:26:07.962 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:26:07.962 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:07.962 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:26:07.963 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:26:07.963 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:26:07.963 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:07.963 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:26:07.964 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:26:07.964 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:07.965 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:26:07.966 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:26:07.966 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:26:07.966 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.966 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:26:07.966 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:26:07.967 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:26:07.967 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:26:07.970 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:26:07.970 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:26:07.970 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:26:07.970 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:07.970 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:26:07.970 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.970 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.970 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:26:07.972 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:26:07.973 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.973 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:26:07.973 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.973 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:26:07.973 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:26:07.973 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:26:07.973 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:26:07.973 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:26:07.973 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:26:07.973 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:26:07.973 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:26:07.973 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 9.6608ms
2022-12-07 09:26:07.974 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:26:07.974 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:26:07.974 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:26:07.974 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:26:07.974 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - - - 200 518 application/json;+charset=utf-8 12.4324ms
2022-12-07 09:31:55.019 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 09:31:55.019 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:31:55.019 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:31:55.019 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:31:55.019 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:31:55.019 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:31:55.019 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:31:55.020 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:31:55.020 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:31:55.020 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:31:55.020 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:31:55.023 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:31:55.023 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:31:55.024 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.024 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:31:55.024 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.024 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.024 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:31:55.025 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.025 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:31:55.025 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.026 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.026 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.027 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:31:55.027 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:31:55.027 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:31:55.028 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:31:55.028 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:31:55.028 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:31:55.028 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:31:55.029 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:31:55.029 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.058 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.060 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:31:56.065 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:31:56.065 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.065 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 09:31:56.065 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.066 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:31:56.066 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:31:56.066 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:31:56.066 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:31:56.066 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:31:56.066 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:31:56.066 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:31:56.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:31:56.066 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1046.3626ms
2022-12-07 09:31:56.067 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:31:56.067 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:31:56.067 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:31:56.067 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:31:56.067 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 1048.0847ms
2022-12-07 09:36:18.899 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 09:36:19.700 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:36:19.718 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:36:19.758 -03:00 [DBG] Created DbConnection. (37ms).
2022-12-07 09:36:19.765 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.042 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.049 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 09:36:21.055 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-07 09:36:21.056 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 09:36:21.062 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:36:21.087 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 09:36:21.089 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.099 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 09:36:21.103 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 09:36:21.103 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:36:21.103 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 09:36:21.103 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.104 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.104 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:36:21.123 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 09:36:21.123 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.124 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:21.145 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:36:21.145 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.145 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.145 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.145 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.146 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:36:21.149 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 09:36:21.152 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.154 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 09:36:21.154 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.154 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:21.195 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 09:36:21.373 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 09:36:21.400 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:36:21.400 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.400 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:21.400 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.400 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.400 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:36:21.401 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 09:36:21.403 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.403 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 09:36:21.403 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.403 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:21.404 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:36:21.406 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:21.408 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 09:36:21.470 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 09:36:21.519 -03:00 [DBG] Hosting starting
2022-12-07 09:36:21.535 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 09:36:21.537 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 09:36:21.541 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 09:36:21.548 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 09:36:21.550 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:36:21.550 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 09:36:21.551 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 09:36:21.552 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 09:36:21.553 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 09:36:21.555 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 09:36:21.555 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 09:36:21.638 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 09:36:21.665 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 09:36:21.665 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 09:36:21.665 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 09:36:21.665 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 09:36:21.665 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 09:36:21.665 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 09:36:21.665 -03:00 [INF] Hosting environment: Development
2022-12-07 09:36:21.665 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 09:36:21.665 -03:00 [DBG] Hosting started
2022-12-07 09:36:21.989 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" accepted.
2022-12-07 09:36:21.990 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" started.
2022-12-07 09:36:22.006 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" received FIN.
2022-12-07 09:36:22.007 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" accepted.
2022-12-07 09:36:22.007 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" started.
2022-12-07 09:36:22.007 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" received FIN.
2022-12-07 09:36:22.010 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:36:22.012 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 09:36:22.029 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" stopped.
2022-12-07 09:36:22.029 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" stopped.
2022-12-07 09:36:22.031 -03:00 [DBG] Connection id "0HMMO9UIQNNQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:36:22.031 -03:00 [DBG] Connection id "0HMMO9UIQNNQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 09:36:22.173 -03:00 [DBG] Connection id "0HMMO9UIQNNQI" accepted.
2022-12-07 09:36:22.174 -03:00 [DBG] Connection id "0HMMO9UIQNNQI" started.
2022-12-07 09:36:22.210 -03:00 [DBG] Connection 0HMMO9UIQNNQI established using the following protocol: "Tls12"
2022-12-07 09:36:22.258 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 09:36:22.289 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 09:36:22.309 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 09:36:22.309 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:36:22.465 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 09:36:22.569 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 09:36:22.572 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 318.3148ms
2022-12-07 09:36:22.590 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 09:36:22.591 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 09:36:22.595 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 4.6698ms
2022-12-07 09:36:22.632 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.2581ms
2022-12-07 09:36:22.689 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 09:36:22.690 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 09:36:22.690 -03:00 [DBG] Request did not match any endpoints
2022-12-07 09:36:22.856 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.4379ms
2022-12-07 09:36:49.113 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 09:36:49.120 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 09:36:49.125 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 09:36:49.128 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:36:49.129 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 09:36:49.336 -03:00 [DBG] Successfully validated the token.
2022-12-07 09:36:49.337 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 09:36:49.339 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:36:49.360 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 09:36:49.361 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 09:36:49.362 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:36:49.379 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 09:36:49.464 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 09:36:49.477 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.478 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:36:49.478 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.478 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.478 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.478 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.479 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 09:36:49.480 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 09:36:49.480 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 09:36:49.480 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:36:49.481 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 09:36:49.481 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.481 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 09:36:49.481 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 09:36:49.484 -03:00 [INF] Retornando todas as vilas.
2022-12-07 09:36:49.509 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 09:36:49.525 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:36:49.525 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 09:36:49.556 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 09:36:49.572 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 09:36:49.572 -03:00 [DBG] Creating DbConnection.
2022-12-07 09:36:49.573 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 09:36:49.573 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 09:36:49.576 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-07 09:36:49.583 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.590 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.595 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:36:49.653 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 09:36:49.678 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.679 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 25ms reading results.
2022-12-07 09:36:49.683 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.683 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 09:36:49.711 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 09:36:49.713 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 09:36:49.714 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 09:36:49.714 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 09:36:49.714 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 09:36:49.714 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 09:36:49.714 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 09:36:49.814 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 449.2433ms
2022-12-07 09:36:49.815 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 09:36:49.818 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 09:36:49.824 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 09:36:49.825 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 09:36:49.825 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 711.9418ms
2022-12-07 11:13:16.259 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:13:17.206 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:13:17.230 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:13:17.280 -03:00 [DBG] Created DbConnection. (48ms).
2022-12-07 11:13:17.289 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.688 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.695 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:13:18.705 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:13:18.709 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2022-12-07 11:13:18.717 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:13:18.747 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:13:18.751 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.763 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-07 11:13:18.767 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:13:18.767 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:13:18.767 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:13:18.767 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.768 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.769 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:13:18.787 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:13:18.787 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.788 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:18.807 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:13:18.808 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:18.808 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:18.808 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.808 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.810 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:13:18.818 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:13:18.825 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.828 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 11:13:18.828 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:18.828 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:18.870 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:13:19.088 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:13:19.131 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:13:19.131 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:19.131 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:19.131 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.131 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.131 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:13:19.134 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:13:19.137 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.137 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:13:19.137 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.137 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:19.138 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:13:19.141 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:19.142 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:13:19.228 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:13:19.300 -03:00 [DBG] Hosting starting
2022-12-07 11:13:19.323 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:13:19.325 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:13:19.330 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:13:19.339 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:13:19.342 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:13:19.342 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:13:19.344 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:13:19.345 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:13:19.347 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:13:19.350 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:13:19.350 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:13:19.490 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:13:19.515 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:13:19.515 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:13:19.515 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:13:19.515 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:13:19.515 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:13:19.515 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:13:19.515 -03:00 [INF] Hosting environment: Development
2022-12-07 11:13:19.515 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:13:19.516 -03:00 [DBG] Hosting started
2022-12-07 11:13:19.760 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" accepted.
2022-12-07 11:13:19.761 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" started.
2022-12-07 11:13:19.789 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" received FIN.
2022-12-07 11:13:19.798 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:13:19.828 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" stopped.
2022-12-07 11:13:19.831 -03:00 [DBG] Connection id "0HMMOBKOLAFV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:13:19.987 -03:00 [DBG] Connection id "0HMMOBKOLAFV1" accepted.
2022-12-07 11:13:19.987 -03:00 [DBG] Connection id "0HMMOBKOLAFV1" started.
2022-12-07 11:13:20.029 -03:00 [DBG] Connection 0HMMOBKOLAFV1 established using the following protocol: "Tls12"
2022-12-07 11:13:20.081 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:13:20.110 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:13:20.138 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:13:20.138 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:13:20.425 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:13:20.587 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:13:20.592 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 514.7399ms
2022-12-07 11:13:20.623 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:13:20.623 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:13:20.640 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 16.5604ms
2022-12-07 11:13:20.709 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 86.0059ms
2022-12-07 11:13:20.835 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:13:20.835 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:13:20.835 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:13:21.083 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.1356ms
2022-12-07 11:13:46.834 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47
2022-12-07 11:13:46.860 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 11:13:46.869 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 11:13:46.871 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 11:13:46.872 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:13:46.986 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:13:46.988 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 11:13:47.023 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 11:13:47.024 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:13:47.024 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:13:47.025 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:13:47.025 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:13:47.025 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:13:47.025 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 11:13:47.028 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 11:13:47.050 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 11:13:47.052 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 11:13:47.053 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 11:13:47.053 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 11:13:47.078 -03:00 [DBG] Connection id "0HMMOBKOLAFV1", Request id "0HMMOBKOLAFV1:00000009": started reading request body.
2022-12-07 11:13:47.079 -03:00 [DBG] Connection id "0HMMOBKOLAFV1", Request id "0HMMOBKOLAFV1:00000009": done reading request body.
2022-12-07 11:13:47.204 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 11:13:47.204 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 11:13:47.204 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 11:13:47.209 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 11:13:47.248 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:13:47.260 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-07 11:13:47.420 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 11:13:47.449 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:13:47.449 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:13:47.450 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:13:47.450 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:13:47.457 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:13:47.458 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.458 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.469 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 11:13:47.538 -03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-07 11:13:47.589 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 11:13:47.619 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.621 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 82ms reading results.
2022-12-07 11:13:47.621 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.621 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:13:47.749 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:13:47.751 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 11:13:47.751 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:13:47.751 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:13:47.752 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:13:47.752 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:13:47.805 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 775.2445ms
2022-12-07 11:13:47.805 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 11:13:47.808 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:13:47.816 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:13:47.817 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:13:47.817 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 982.7867ms
2022-12-07 11:14:10.471 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 11:14:10.474 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:14:10.475 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:14:10.475 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:14:10.475 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:14:10.560 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:14:10.560 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:14:10.561 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:14:10.564 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:14:10.564 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:14:10.564 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:14:10.565 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:14:10.565 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:14:10.565 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:14:10.565 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:14:10.599 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:14:10.698 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:14:10.702 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.702 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:14:10.703 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:14:10.703 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.703 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.704 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.704 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.704 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:14:10.704 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:14:10.708 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:14:10.717 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:14:10.724 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:14:10.726 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:14:10.733 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:14:10.758 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:14:10.758 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:14:10.758 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:14:10.758 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:14:10.759 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:14:10.769 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.777 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.780 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:14:10.817 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:14:10.850 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.850 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 33ms reading results.
2022-12-07 11:14:10.854 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.855 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:14:10.903 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:14:10.904 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:14:10.904 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:14:10.904 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:14:10.904 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:14:10.904 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:14:10.904 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:14:10.912 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 347.7425ms
2022-12-07 11:14:10.914 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:14:10.915 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:14:10.915 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:14:10.915 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:14:10.915 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 444.3194ms
2022-12-07 11:15:37.972 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:15:38.656 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:15:38.677 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:15:38.730 -03:00 [DBG] Created DbConnection. (52ms).
2022-12-07 11:15:38.737 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.113 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.122 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:15:40.129 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 11:15:40.131 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 11:15:40.137 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:15:40.166 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:15:40.168 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.178 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 11:15:40.182 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:15:40.182 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:15:40.182 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:15:40.182 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.183 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.184 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:15:40.201 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:15:40.201 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.202 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:15:40.232 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:15:40.232 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.232 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.232 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.232 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.233 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:15:40.237 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:15:40.242 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.245 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 11:15:40.245 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.245 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:15:40.288 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:15:40.514 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:15:40.542 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:15:40.542 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.542 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:15:40.542 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.542 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.542 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:15:40.544 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:15:40.547 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.547 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:15:40.547 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.547 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:15:40.549 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:15:40.552 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:15:40.554 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:15:40.641 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:15:40.703 -03:00 [DBG] Hosting starting
2022-12-07 11:15:40.726 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:15:40.729 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:15:40.733 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:15:40.739 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:15:40.740 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:15:40.741 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:15:40.742 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:15:40.743 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:15:40.744 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:15:40.745 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:15:40.746 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:15:40.869 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:15:40.904 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:15:40.904 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:15:40.904 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:15:40.904 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:15:40.904 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:15:40.905 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:15:40.905 -03:00 [INF] Hosting environment: Development
2022-12-07 11:15:40.905 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:15:40.905 -03:00 [DBG] Hosting started
2022-12-07 11:15:41.245 -03:00 [DBG] Connection id "0HMMOBM2QL608" received FIN.
2022-12-07 11:15:41.248 -03:00 [DBG] Connection id "0HMMOBM2QL609" received FIN.
2022-12-07 11:15:41.253 -03:00 [DBG] Connection id "0HMMOBM2QL608" accepted.
2022-12-07 11:15:41.253 -03:00 [DBG] Connection id "0HMMOBM2QL609" accepted.
2022-12-07 11:15:41.255 -03:00 [DBG] Connection id "0HMMOBM2QL609" started.
2022-12-07 11:15:41.255 -03:00 [DBG] Connection id "0HMMOBM2QL608" started.
2022-12-07 11:15:41.268 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:15:41.268 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:15:41.297 -03:00 [DBG] Connection id "0HMMOBM2QL608" stopped.
2022-12-07 11:15:41.297 -03:00 [DBG] Connection id "0HMMOBM2QL609" stopped.
2022-12-07 11:15:41.299 -03:00 [DBG] Connection id "0HMMOBM2QL608" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:15:41.299 -03:00 [DBG] Connection id "0HMMOBM2QL609" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:15:41.500 -03:00 [DBG] Connection id "0HMMOBM2QL60A" accepted.
2022-12-07 11:15:41.502 -03:00 [DBG] Connection id "0HMMOBM2QL60A" started.
2022-12-07 11:15:41.543 -03:00 [DBG] Connection 0HMMOBM2QL60A established using the following protocol: "Tls12"
2022-12-07 11:15:41.589 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:15:41.626 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:15:41.669 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:15:41.670 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:15:41.876 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:15:42.017 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:15:42.021 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 435.8527ms
2022-12-07 11:15:42.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:15:42.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:15:42.064 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 14.3461ms
2022-12-07 11:15:42.132 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.3736ms
2022-12-07 11:15:42.277 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:15:42.277 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:15:42.277 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:15:42.470 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.2949ms
2022-12-07 11:16:02.929 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:16:02.947 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:16:02.968 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:16:02.980 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:16:02.984 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:16:03.591 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:16:03.595 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:16:03.601 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:16:03.677 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:16:03.679 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:16:03.679 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:16:03.680 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:16:03.680 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:16:03.680 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:16:03.682 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:16:03.721 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:16:04.009 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:16:04.036 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.039 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:16:04.040 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.040 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.040 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.040 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.043 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.047 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:16:04.047 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:16:04.047 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.047 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.048 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.048 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:16:04.048 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:16:04.048 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:16:04.049 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:16:04.049 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.049 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:16:04.049 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:16:04.059 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:16:04.093 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 11:16:04.201 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:16:04.245 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:16:04.245 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:16:04.246 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:16:04.246 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:16:04.246 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:16:04.264 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.276 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.279 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:16:04.345 -03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:16:04.410 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.410 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 64ms reading results.
2022-12-07 11:16:04.421 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.423 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:16:04.554 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:16:04.563 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:16:04.564 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:16:04.565 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:16:04.565 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:16:04.567 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:16:04.567 -03:00 [INF] Executing ObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:16:04.863 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1171.8413ms
2022-12-07 11:16:04.866 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:16:04.877 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:16:04.892 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:16:04.894 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:16:04.894 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 460 application/json;+charset=utf-8 1964.8760ms
2022-12-07 11:17:17.711 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:17:17.713 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:17:17.714 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:17:17.714 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:17:17.714 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:17:17.716 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:17:17.716 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:17:17.716 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:17:17.717 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:17:17.717 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:17:17.718 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:17:17.718 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:17:17.841 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:17:17.841 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:17:17.850 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.859 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:17:17.862 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.862 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.862 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:17:17.862 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:17:17.863 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:17:17.863 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:17:17.863 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:17.863 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:17:17.863 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:17:59.592 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:18:00.404 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:18:00.404 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:18:00.404 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:18:00.404 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:00.404 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:00.404 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.404 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.404 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:18:00.432 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:18:00.438 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.438 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:18:00.440 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:00.441 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:55.928 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:18:56.886 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:18:56.907 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:18:56.962 -03:00 [DBG] Created DbConnection. (51ms).
2022-12-07 11:18:56.969 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.351 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.359 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:18:58.366 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:18:58.368 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-07 11:18:58.375 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:18:58.408 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:18:58.411 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.422 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 11:18:58.426 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:18:58.427 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:18:58.427 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:18:58.427 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.427 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.428 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:18:58.449 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:18:58.449 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.449 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:58.476 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:18:58.476 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.476 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.476 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.476 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.477 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:18:58.481 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:18:58.486 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.489 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:18:58.489 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.489 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:58.537 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:18:58.726 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:18:58.755 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:18:58.755 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.755 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:18:58.755 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.755 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.755 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:18:58.757 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:18:58.760 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.760 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:18:58.760 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.760 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:18:58.763 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:18:58.768 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:18:58.770 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:18:58.853 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:18:58.913 -03:00 [DBG] Hosting starting
2022-12-07 11:18:58.935 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:18:58.937 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:18:58.941 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:18:58.948 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:18:58.950 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:18:58.950 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:18:58.951 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:18:58.951 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:18:58.952 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:18:58.954 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:18:58.954 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:18:59.076 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:18:59.109 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:18:59.109 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:18:59.109 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:18:59.109 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:18:59.109 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:18:59.110 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:18:59.110 -03:00 [INF] Hosting environment: Development
2022-12-07 11:18:59.110 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:18:59.110 -03:00 [DBG] Hosting started
2022-12-07 11:18:59.505 -03:00 [DBG] Connection id "0HMMOBNTTCDON" accepted.
2022-12-07 11:18:59.507 -03:00 [DBG] Connection id "0HMMOBNTTCDON" started.
2022-12-07 11:18:59.510 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" accepted.
2022-12-07 11:18:59.510 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" started.
2022-12-07 11:18:59.513 -03:00 [DBG] Connection id "0HMMOBNTTCDON" received FIN.
2022-12-07 11:18:59.513 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" received FIN.
2022-12-07 11:18:59.535 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:18:59.535 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:18:59.560 -03:00 [DBG] Connection id "0HMMOBNTTCDON" stopped.
2022-12-07 11:18:59.560 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" stopped.
2022-12-07 11:18:59.562 -03:00 [DBG] Connection id "0HMMOBNTTCDOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:18:59.562 -03:00 [DBG] Connection id "0HMMOBNTTCDON" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:18:59.743 -03:00 [DBG] Connection id "0HMMOBNTTCDOP" accepted.
2022-12-07 11:18:59.746 -03:00 [DBG] Connection id "0HMMOBNTTCDOP" started.
2022-12-07 11:18:59.794 -03:00 [DBG] Connection 0HMMOBNTTCDOP established using the following protocol: "Tls12"
2022-12-07 11:18:59.842 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:18:59.868 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:18:59.904 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:18:59.904 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:19:00.152 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:19:00.328 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:19:00.335 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 495.8607ms
2022-12-07 11:19:00.361 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:19:00.361 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:19:00.379 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 17.4619ms
2022-12-07 11:19:00.435 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.5136ms
2022-12-07 11:19:00.543 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:19:00.544 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:19:00.544 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:19:00.781 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 237.6475ms
2022-12-07 11:19:12.454 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:19:12.473 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:19:12.493 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:19:12.504 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:19:12.508 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:19:13.174 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:19:13.176 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:19:13.182 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:19:13.268 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:19:13.272 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:19:13.273 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:19:13.274 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:19:13.274 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:19:13.275 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:19:13.277 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:19:13.284 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:19:13.541 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:19:13.568 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.574 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:19:13.575 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.575 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.575 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.575 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.577 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.580 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:19:13.580 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:19:13.580 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.580 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.580 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.581 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:19:13.581 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:19:13.581 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.581 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:19:13.581 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.581 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.581 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:19:13.582 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:13.582 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:19:13.582 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:19:15.924 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:19:15.955 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 11:19:16.049 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:19:16.087 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:19:16.087 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:19:16.088 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:19:16.088 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:19:16.088 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:19:16.102 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.113 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.115 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:19:16.185 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:19:16.259 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.260 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 74ms reading results.
2022-12-07 11:19:16.270 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.272 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:19:16.373 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:19:16.381 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:19:16.382 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:19:16.382 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:19:16.382 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:19:16.383 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:19:16.383 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:19:16.651 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3364.1405ms
2022-12-07 11:19:16.654 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:19:16.662 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:19:16.676 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:19:16.678 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:19:16.678 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1818 application/json;+charset=utf-8 4224.3630ms
2022-12-07 11:20:30.310 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:20:31.264 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:20:31.285 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:20:31.351 -03:00 [DBG] Created DbConnection. (61ms).
2022-12-07 11:20:31.363 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.796 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.803 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:20:32.809 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:20:32.811 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-07 11:20:32.819 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:20:32.851 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:20:32.853 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.863 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 11:20:32.867 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:20:32.867 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:20:32.867 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:20:32.867 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.868 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.869 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:20:32.887 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:20:32.887 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.887 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:20:32.914 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:20:32.914 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:32.914 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:32.914 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.915 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.915 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:20:32.920 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:20:32.928 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.931 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 7ms reading results.
2022-12-07 11:20:32.932 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:32.932 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:20:32.979 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:20:33.227 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:20:33.276 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:20:33.276 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:33.276 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:33.276 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.276 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.276 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:20:33.279 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:20:33.282 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.282 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:20:33.282 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.282 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:20:33.284 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:20:33.288 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:33.291 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:20:33.374 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:20:33.448 -03:00 [DBG] Hosting starting
2022-12-07 11:20:33.475 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:20:33.479 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:20:33.490 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:20:33.499 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:20:33.501 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:20:33.501 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:20:33.502 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:20:33.502 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:20:33.503 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:20:33.505 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:20:33.505 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:20:33.628 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:20:33.651 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:20:33.651 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:20:33.651 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:20:33.651 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:20:33.651 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:20:33.651 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:20:33.651 -03:00 [INF] Hosting environment: Development
2022-12-07 11:20:33.651 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:20:33.651 -03:00 [DBG] Hosting started
2022-12-07 11:20:33.764 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" accepted.
2022-12-07 11:20:33.764 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" accepted.
2022-12-07 11:20:33.766 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" started.
2022-12-07 11:20:33.766 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" started.
2022-12-07 11:20:33.797 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" received FIN.
2022-12-07 11:20:33.797 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" received FIN.
2022-12-07 11:20:33.822 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:20:33.822 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:20:33.848 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" stopped.
2022-12-07 11:20:33.848 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" stopped.
2022-12-07 11:20:33.850 -03:00 [DBG] Connection id "0HMMOBOQ0A24Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:20:33.850 -03:00 [DBG] Connection id "0HMMOBOQ0A24R" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:20:34.062 -03:00 [DBG] Connection id "0HMMOBOQ0A24S" accepted.
2022-12-07 11:20:34.063 -03:00 [DBG] Connection id "0HMMOBOQ0A24S" started.
2022-12-07 11:20:34.109 -03:00 [DBG] Connection 0HMMOBOQ0A24S established using the following protocol: "Tls12"
2022-12-07 11:20:34.153 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:20:34.187 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:20:34.211 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:20:34.211 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:20:34.465 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:20:34.642 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:20:34.647 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 497.6926ms
2022-12-07 11:20:34.668 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:20:34.675 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 7.3098ms
2022-12-07 11:20:34.795 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:20:34.879 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.2545ms
2022-12-07 11:20:35.013 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:20:35.013 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:20:35.013 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:20:35.246 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 233.3165ms
2022-12-07 11:20:40.244 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:20:40.262 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:20:40.283 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:20:40.296 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:20:40.298 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:20:40.459 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:20:40.464 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:20:40.540 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:20:40.542 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:20:40.542 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:20:40.543 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:20:40.543 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:20:40.543 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:20:40.545 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:20:40.562 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:20:40.810 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:20:40.835 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.840 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:20:40.843 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.843 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.844 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.844 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.845 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.849 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:20:40.849 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:20:40.849 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.849 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.849 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.849 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:20:40.850 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:20:40.850 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:40.850 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:20:40.851 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:20:45.636 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:20:45.674 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:20:45.710 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:20:45.711 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:20:45.793 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:20:45.844 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:20:45.844 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:20:45.845 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:20:45.845 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:20:45.854 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2022-12-07 11:20:45.876 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:45.887 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:45.909 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:20:46.057 -03:00 [INF] Executed DbCommand (168ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:20:46.123 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:46.126 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 68ms reading results.
2022-12-07 11:20:46.136 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:46.138 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:20:46.250 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:20:46.261 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:20:46.262 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:20:46.263 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:20:46.263 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:20:46.264 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:20:46.265 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:20:46.665 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 6112.6986ms
2022-12-07 11:20:46.667 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:20:46.675 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:20:46.688 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:20:46.690 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:20:46.690 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 6446.4907ms
2022-12-07 11:26:16.923 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:26:17.786 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:26:17.814 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:26:17.883 -03:00 [DBG] Created DbConnection. (66ms).
2022-12-07 11:26:17.890 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.295 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.305 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:26:19.312 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-07 11:26:19.317 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-07 11:26:19.328 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:26:19.371 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:26:19.375 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.389 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-07 11:26:19.394 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:26:19.394 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:26:19.394 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:26:19.394 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.395 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.396 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:26:19.422 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:26:19.422 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.423 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:19.448 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:19.448 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.448 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.448 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.448 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.450 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:26:19.457 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:26:19.468 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.472 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 10ms reading results.
2022-12-07 11:26:19.473 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.473 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:19.525 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:26:19.734 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:26:19.764 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:19.765 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.765 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:19.765 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.765 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.765 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:26:19.768 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:26:19.773 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.773 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 11:26:19.773 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.773 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:19.776 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:26:19.780 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:19.782 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:26:19.862 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:26:19.916 -03:00 [DBG] Hosting starting
2022-12-07 11:26:19.939 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:26:19.944 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:26:19.953 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:26:19.960 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:26:19.961 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:26:19.961 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:26:19.962 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:26:19.963 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:26:19.964 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:26:19.966 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:26:19.966 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:26:20.088 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:26:20.127 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:26:20.127 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:26:20.127 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:26:20.127 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:26:20.127 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:26:20.128 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:26:20.128 -03:00 [INF] Hosting environment: Development
2022-12-07 11:26:20.128 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:26:20.128 -03:00 [DBG] Hosting started
2022-12-07 11:26:20.138 -03:00 [DBG] Connection id "0HMMOBS17JNA1" received FIN.
2022-12-07 11:26:20.146 -03:00 [DBG] Connection id "0HMMOBS17JNA1" accepted.
2022-12-07 11:26:20.148 -03:00 [DBG] Connection id "0HMMOBS17JNA1" started.
2022-12-07 11:26:20.163 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:26:20.194 -03:00 [DBG] Connection id "0HMMOBS17JNA1" stopped.
2022-12-07 11:26:20.198 -03:00 [DBG] Connection id "0HMMOBS17JNA1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:26:20.369 -03:00 [DBG] Connection id "0HMMOBS17JNA2" accepted.
2022-12-07 11:26:20.369 -03:00 [DBG] Connection id "0HMMOBS17JNA2" started.
2022-12-07 11:26:20.410 -03:00 [DBG] Connection 0HMMOBS17JNA2 established using the following protocol: "Tls12"
2022-12-07 11:26:20.455 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:26:20.482 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:26:20.514 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:26:20.515 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:26:20.702 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:26:20.847 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:26:20.853 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 399.6698ms
2022-12-07 11:26:20.880 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:26:20.880 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:26:20.919 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 38.5906ms
2022-12-07 11:26:20.985 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.0100ms
2022-12-07 11:26:21.181 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:26:21.181 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:26:21.181 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:26:21.439 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 258.7210ms
2022-12-07 11:26:26.542 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:26:26.563 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:26:26.582 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:26:26.594 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:26:26.597 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:26:26.749 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:26:26.755 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:26:26.833 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:26:26.835 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:26:26.836 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:26:26.837 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:26:26.837 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:26:26.838 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:26:26.840 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:26:26.847 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:26:27.139 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:26:27.167 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.173 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:26:27.174 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.174 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.174 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.175 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.177 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.180 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:26:27.181 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:26:27.181 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.181 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.181 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.181 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:26:27.182 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.182 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:26:27.183 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.183 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.183 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:27.183 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:26:27.183 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:26:37.595 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:26:37.822 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:26:37.923 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:26:37.935 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:37.935 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:26:37.936 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:26:37.936 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:37.936 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:26:37.936 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.936 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.936 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:26:37.938 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:26:37.940 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.941 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 11:26:37.941 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:37.941 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:26:37.968 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:26:37.997 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:26:37.998 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:26:38.071 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:26:38.116 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:26:38.116 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:26:38.123 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:26:38.139 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.150 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.166 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:26:38.333 -03:00 [INF] Executed DbCommand (179ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:26:38.406 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.409 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 76ms reading results.
2022-12-07 11:26:38.419 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:26:38.421 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:27:19.489 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:27:19.496 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:27:19.497 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:27:19.497 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:27:19.497 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:27:19.498 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:27:19.498 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:27:23.487 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 56636.7483ms
2022-12-07 11:27:23.489 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:27:23.499 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:27:23.517 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:27:23.519 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:27:23.520 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 56977.7586ms
2022-12-07 11:27:58.576 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:27:59.463 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:27:59.485 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:27:59.536 -03:00 [DBG] Created DbConnection. (48ms).
2022-12-07 11:27:59.545 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:00.947 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:00.958 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:28:00.968 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 11:28:00.971 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (17ms).
2022-12-07 11:28:00.977 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:28:01.006 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:28:01.009 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.020 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 11:28:01.025 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:28:01.025 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:28:01.025 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:28:01.025 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.026 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.027 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:28:01.046 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:28:01.046 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.047 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:01.065 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:01.065 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.065 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.065 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.065 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.066 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:28:01.070 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:28:01.074 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.076 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:28:01.077 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.077 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:01.131 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:28:01.352 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:28:01.379 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:01.379 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.379 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:01.379 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.379 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.379 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:28:01.382 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:28:01.384 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.384 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:28:01.384 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.384 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:01.386 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:28:01.389 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:01.391 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:28:01.469 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:28:01.526 -03:00 [DBG] Hosting starting
2022-12-07 11:28:01.544 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:28:01.547 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:28:01.553 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:28:01.564 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:28:01.567 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:28:01.568 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:28:01.569 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:28:01.570 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:28:01.571 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:28:01.574 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:28:01.574 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:28:01.722 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:28:01.745 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:28:01.745 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:28:01.745 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:28:01.745 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:28:01.745 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:28:01.746 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:28:01.746 -03:00 [INF] Hosting environment: Development
2022-12-07 11:28:01.746 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:28:01.746 -03:00 [DBG] Hosting started
2022-12-07 11:28:02.215 -03:00 [DBG] Connection id "0HMMOBSVL24RS" accepted.
2022-12-07 11:28:02.215 -03:00 [DBG] Connection id "0HMMOBSVL24RT" accepted.
2022-12-07 11:28:02.217 -03:00 [DBG] Connection id "0HMMOBSVL24RS" started.
2022-12-07 11:28:02.217 -03:00 [DBG] Connection id "0HMMOBSVL24RT" started.
2022-12-07 11:28:02.247 -03:00 [DBG] Connection id "0HMMOBSVL24RT" received FIN.
2022-12-07 11:28:02.247 -03:00 [DBG] Connection id "0HMMOBSVL24RS" received FIN.
2022-12-07 11:28:02.273 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:28:02.273 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:28:02.307 -03:00 [DBG] Connection id "0HMMOBSVL24RT" stopped.
2022-12-07 11:28:02.307 -03:00 [DBG] Connection id "0HMMOBSVL24RS" stopped.
2022-12-07 11:28:02.310 -03:00 [DBG] Connection id "0HMMOBSVL24RT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:28:02.310 -03:00 [DBG] Connection id "0HMMOBSVL24RS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:28:02.454 -03:00 [DBG] Connection id "0HMMOBSVL24RU" accepted.
2022-12-07 11:28:02.454 -03:00 [DBG] Connection id "0HMMOBSVL24RU" started.
2022-12-07 11:28:02.503 -03:00 [DBG] Connection 0HMMOBSVL24RU established using the following protocol: "Tls12"
2022-12-07 11:28:02.554 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:28:02.588 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:28:02.623 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:28:02.623 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:28:02.871 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:28:03.023 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:28:03.031 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 479.9279ms
2022-12-07 11:28:03.051 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:28:03.051 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:28:03.056 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 5.1836ms
2022-12-07 11:28:03.131 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.4872ms
2022-12-07 11:28:03.248 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:28:03.248 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:28:03.248 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:28:03.460 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.5304ms
2022-12-07 11:28:07.686 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:28:07.698 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:28:07.720 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:28:07.728 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:07.731 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:28:07.883 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:28:07.887 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:07.962 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:28:07.964 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:28:07.964 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:28:07.965 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:28:07.966 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:28:07.966 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:28:07.967 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:07.986 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:28:08.269 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:08.298 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.303 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:08.304 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.304 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.305 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.305 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.308 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.313 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:28:08.314 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:28:08.314 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.314 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.314 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.314 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:28:08.316 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:08.317 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.317 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.317 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.318 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:08.318 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.318 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.318 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:08.318 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:08.318 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:10.169 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:28:10.187 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:28:10.290 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:28:10.304 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:10.304 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:28:10.305 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:28:10.305 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:10.305 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:28:10.305 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.306 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.306 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:10.307 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:10.309 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.309 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 11:28:10.309 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.309 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:10.334 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:28:10.360 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:28:10.361 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:28:10.433 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:28:10.474 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:10.474 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:10.481 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:28:10.495 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.506 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.523 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:10.666 -03:00 [INF] Executed DbCommand (157ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:10.735 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.738 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 71ms reading results.
2022-12-07 11:28:10.751 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:10.753 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:28:10.849 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:28:10.857 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:28:10.857 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:28:10.858 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:28:10.858 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:28:10.859 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:28:10.859 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:28:11.208 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3229.5009ms
2022-12-07 11:28:11.211 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:11.218 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:28:11.229 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:11.230 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:28:11.231 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1040 application/json;+charset=utf-8 3545.1710ms
2022-12-07 11:28:30.742 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - -
2022-12-07 11:28:30.744 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:28:30.744 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:28:30.744 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:30.744 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:28:30.745 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:28:30.745 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:30.745 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:28:30.746 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:28:30.746 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:30.853 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:28:30.853 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:28:30.862 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.864 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:28:30.864 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.864 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.865 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.865 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.865 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.865 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:28:30.865 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:28:30.865 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.865 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.866 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.866 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:28:30.866 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:28:30.866 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.866 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 11:28:30.868 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.868 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.869 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.871 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.871 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.871 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 11:28:30.871 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.871 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.871 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:28:30.872 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:28:30.872 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:28:30.875 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:30.875 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:28:30.875 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:28:30.875 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.875 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.876 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.876 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.876 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:30.879 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:28:30.879 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.879 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:28:30.880 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.880 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:30.881 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:28:30.881 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.881 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:28:30.881 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.881 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.881 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:30.890 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:28:30.891 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.891 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:28:30.891 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.891 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:28:30.892 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:28:30.892 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:28:30.892 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:28:30.892 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:28:30.892 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:28:30.893 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:28:30.893 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:28:30.895 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 148.6959ms
2022-12-07 11:28:30.895 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:28:30.896 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:28:30.896 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:28:30.896 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:28:30.896 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=3&pageSize=2 - - - 200 518 application/json;+charset=utf-8 154.5203ms
2022-12-07 11:37:48.545 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:37:49.336 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:37:49.359 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:37:49.416 -03:00 [DBG] Created DbConnection. (55ms).
2022-12-07 11:37:49.424 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.788 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.795 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:37:50.801 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-07 11:37:50.803 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 11:37:50.812 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:37:50.848 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:37:50.852 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.867 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (10ms).
2022-12-07 11:37:50.871 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:37:50.871 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:37:50.872 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:37:50.872 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.873 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.873 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:37:50.892 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:37:50.892 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.893 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:37:50.911 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:37:50.911 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:50.911 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:50.911 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.911 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.912 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:37:50.917 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:37:50.921 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.923 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:37:50.924 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:50.924 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:37:50.970 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:37:51.167 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:37:51.194 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:37:51.194 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:51.194 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:37:51.194 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.194 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.194 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:37:51.197 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:37:51.199 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.199 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:37:51.199 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.199 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:37:51.201 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:37:51.204 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:37:51.206 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:37:51.297 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:37:51.367 -03:00 [DBG] Hosting starting
2022-12-07 11:37:51.389 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:37:51.391 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:37:51.395 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:37:51.401 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:37:51.403 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:37:51.403 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:37:51.404 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:37:51.405 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:37:51.406 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:37:51.407 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:37:51.408 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:37:51.528 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:37:51.557 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:37:51.557 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:37:51.558 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:37:51.558 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:37:51.558 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:37:51.558 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:37:51.558 -03:00 [INF] Hosting environment: Development
2022-12-07 11:37:51.558 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:37:51.558 -03:00 [DBG] Hosting started
2022-12-07 11:37:51.943 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" accepted.
2022-12-07 11:37:51.943 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" accepted.
2022-12-07 11:37:51.944 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" started.
2022-12-07 11:37:51.944 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" started.
2022-12-07 11:37:51.979 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" received FIN.
2022-12-07 11:37:51.979 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" received FIN.
2022-12-07 11:37:52.003 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:37:52.003 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:37:52.040 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" stopped.
2022-12-07 11:37:52.040 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" stopped.
2022-12-07 11:37:52.043 -03:00 [DBG] Connection id "0HMMOC2FD4HRH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:37:52.043 -03:00 [DBG] Connection id "0HMMOC2FD4HRI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:37:52.224 -03:00 [DBG] Connection id "0HMMOC2FD4HRJ" accepted.
2022-12-07 11:37:52.225 -03:00 [DBG] Connection id "0HMMOC2FD4HRJ" started.
2022-12-07 11:37:52.275 -03:00 [DBG] Connection 0HMMOC2FD4HRJ established using the following protocol: "Tls12"
2022-12-07 11:37:52.320 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:37:52.344 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:37:52.377 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:37:52.378 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:37:52.619 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:37:52.816 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:37:52.821 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 505.5792ms
2022-12-07 11:37:52.855 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:37:52.855 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:37:52.862 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 7.5951ms
2022-12-07 11:37:52.927 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.7906ms
2022-12-07 11:37:53.072 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:37:53.072 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:37:53.073 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:37:53.313 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 241.2361ms
2022-12-07 11:38:03.441 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - -
2022-12-07 11:38:03.462 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberApi'
2022-12-07 11:38:03.483 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/VillaNumberApi'
2022-12-07 11:38:03.494 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 11:38:03.498 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:38:03.663 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:38:03.680 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-07 11:38:03.699 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-07 11:38:03.699 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - - - 401 0 - 259.1829ms
2022-12-07 11:38:21.947 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi/3333 - -
2022-12-07 11:38:21.950 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi/3333'
2022-12-07 11:38:21.951 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi/{id:int}' is valid for the request path '/api/v1/VillaApi/3333'
2022-12-07 11:38:21.951 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-07 11:38:21.951 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:38:22.478 -03:00 [DBG] Successfully validated the token.
2022-12-07 11:38:22.482 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 11:38:22.485 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-07 11:38:22.599 -03:00 [INF] Route matched with {action = "GetById", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetById(Int32) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:38:22.602 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:38:22.603 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:38:22.604 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:38:22.604 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:38:22.604 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:38:22.606 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:38:22.617 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:38:22.878 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:38:22.910 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-07 11:38:22.914 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-07 11:38:22.917 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-07 11:38:22.917 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-07 11:38:22.917 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-07 11:38:22.920 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-07 11:38:22.974 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Where(x => x.Id == __id_0)
    .FirstOrDefault()'
2022-12-07 11:38:23.205 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 11:38:23.268 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:38:23.269 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:38:23.270 -03:00 [DBG] Created DbConnection. (1ms).
2022-12-07 11:38:23.270 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 11:38:23.278 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2022-12-07 11:38:23.293 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.305 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.323 -03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-12-07 11:38:23.492 -03:00 [INF] Executed DbCommand (183ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-12-07 11:38:23.545 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.548 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 56ms reading results.
2022-12-07 11:38:23.562 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.565 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 11:38:23.587 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:38:23.595 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:38:23.596 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:38:23.596 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:38:23.596 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:38:23.598 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:38:23.599 -03:00 [INF] Executing NotFoundObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:38:23.890 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI) in 1274.1041ms
2022-12-07 11:38:23.892 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-07 11:38:23.903 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:38:23.914 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:38:23.918 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:38:23.918 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi/3333 - - - 404 67 application/json;+charset=utf-8 1971.2893ms
2022-12-07 11:39:29.723 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:39:30.514 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:39:30.539 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:39:30.603 -03:00 [DBG] Created DbConnection. (57ms).
2022-12-07 11:39:30.613 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.029 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.038 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:39:32.045 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 11:39:32.049 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 11:39:32.059 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:32.090 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:32.092 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.103 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 11:39:32.108 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:39:32.109 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:32.109 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:32.109 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.110 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.112 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:32.136 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:32.136 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.137 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:32.166 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:32.166 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.166 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.166 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.166 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.167 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:32.172 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:32.177 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.179 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 11:39:32.179 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.179 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:32.229 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:39:32.477 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:39:32.507 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:32.507 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.507 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:32.507 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.507 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.507 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:32.510 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:32.513 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.513 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:39:32.513 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.513 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:32.515 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:39:32.520 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:32.522 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2022-12-07 11:39:32.611 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:39:32.672 -03:00 [DBG] Hosting starting
2022-12-07 11:39:32.697 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:39:32.699 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:39:32.703 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:39:32.709 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:39:32.711 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:32.711 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:39:32.712 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:32.713 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:39:32.714 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:39:32.716 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:39:32.716 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:39:32.857 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:39:32.896 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:39:32.896 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:39:32.896 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:39:32.896 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:39:32.896 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:39:32.896 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:39:32.896 -03:00 [INF] Hosting environment: Development
2022-12-07 11:39:32.896 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:39:32.896 -03:00 [DBG] Hosting started
2022-12-07 11:39:32.965 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" received FIN.
2022-12-07 11:39:32.965 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" received FIN.
2022-12-07 11:39:32.983 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" accepted.
2022-12-07 11:39:32.983 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" accepted.
2022-12-07 11:39:32.986 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" started.
2022-12-07 11:39:32.986 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" started.
2022-12-07 11:39:33.008 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:33.008 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:33.038 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" stopped.
2022-12-07 11:39:33.038 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" stopped.
2022-12-07 11:39:33.042 -03:00 [DBG] Connection id "0HMMOC3DGJEFU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:33.042 -03:00 [DBG] Connection id "0HMMOC3DGJEFT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:33.205 -03:00 [DBG] Connection id "0HMMOC3DGJEFV" accepted.
2022-12-07 11:39:33.205 -03:00 [DBG] Connection id "0HMMOC3DGJEFV" started.
2022-12-07 11:39:33.258 -03:00 [DBG] Connection 0HMMOC3DGJEFV established using the following protocol: "Tls12"
2022-12-07 11:39:33.310 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:39:33.345 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:39:33.378 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:39:33.379 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:33.672 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:39:33.817 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:39:33.822 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 518.8460ms
2022-12-07 11:39:33.848 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:39:33.848 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:39:33.861 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 13.0223ms
2022-12-07 11:39:33.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.7179ms
2022-12-07 11:39:34.062 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:39:34.062 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:39:34.062 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:34.290 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 227.7599ms
2022-12-07 11:39:52.571 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:39:53.628 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:39:53.661 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:39:53.745 -03:00 [DBG] Created DbConnection. (80ms).
2022-12-07 11:39:53.755 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.474 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.494 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:39:55.508 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-07 11:39:55.513 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (27ms).
2022-12-07 11:39:55.528 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:55.597 -03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:39:55.607 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.627 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (19ms).
2022-12-07 11:39:55.631 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:39:55.631 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:55.631 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:39:55.631 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.632 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.633 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:55.656 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:39:55.657 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.657 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:55.684 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:55.685 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:55.685 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:55.685 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.685 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.687 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:55.692 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:39:55.696 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.697 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 11:39:55.698 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:55.698 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:55.754 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:39:56.012 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:39:56.057 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:56.057 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:56.057 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:56.058 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.058 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.058 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:56.059 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:39:56.062 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.062 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 11:39:56.062 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.062 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:56.064 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:39:56.067 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:56.070 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 11:39:56.192 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:39:56.269 -03:00 [DBG] Hosting starting
2022-12-07 11:39:56.304 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:39:56.309 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:39:56.316 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:39:56.324 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:39:56.326 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:56.327 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:39:56.327 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:39:56.328 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:39:56.329 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:39:56.331 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:39:56.331 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:39:56.549 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:39:56.598 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:39:56.598 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:39:56.598 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:39:56.598 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:39:56.598 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:39:56.599 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:39:56.599 -03:00 [INF] Hosting environment: Development
2022-12-07 11:39:56.599 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:39:56.599 -03:00 [DBG] Hosting started
2022-12-07 11:39:56.626 -03:00 [DBG] Connection id "0HMMOC3KI7COP" accepted.
2022-12-07 11:39:56.626 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" accepted.
2022-12-07 11:39:56.627 -03:00 [DBG] Connection id "0HMMOC3KI7COP" started.
2022-12-07 11:39:56.627 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" started.
2022-12-07 11:39:56.638 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" received FIN.
2022-12-07 11:39:56.638 -03:00 [DBG] Connection id "0HMMOC3KI7COP" received FIN.
2022-12-07 11:39:56.674 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:56.681 -03:00 [DBG] Connection id "0HMMOC3KI7COR" accepted.
2022-12-07 11:39:56.674 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:39:56.717 -03:00 [DBG] Connection id "0HMMOC3KI7COR" started.
2022-12-07 11:39:56.725 -03:00 [DBG] Connection id "0HMMOC3KI7COP" stopped.
2022-12-07 11:39:56.725 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" stopped.
2022-12-07 11:39:56.727 -03:00 [DBG] Connection id "0HMMOC3KI7COQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:56.727 -03:00 [DBG] Connection id "0HMMOC3KI7COP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:39:56.755 -03:00 [DBG] Connection 0HMMOC3KI7COR established using the following protocol: "Tls12"
2022-12-07 11:39:56.801 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 11:39:56.818 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:39:56.878 -03:00 [DBG] Connection id "0HMMOC3KI7COS" accepted.
2022-12-07 11:39:56.879 -03:00 [DBG] Connection id "0HMMOC3KI7COS" started.
2022-12-07 11:39:56.889 -03:00 [DBG] Connection 0HMMOC3KI7COS established using the following protocol: "Tls12"
2022-12-07 11:39:56.908 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 11:39:56.916 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 11:39:56.923 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:39:56.924 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:39:56.940 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:39:56.940 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:56.945 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:39:57.066 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:39:57.069 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:39:57.104 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:39:57.108 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:39:57.109 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:39:57.112 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:39:57.227 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:39:57.227 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:39:57.246 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.248 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:39:57.248 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.249 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.249 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.249 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.249 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:39:57.251 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:39:57.251 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.251 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.251 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:39:57.252 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:39:57.252 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.252 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:39:57.253 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:39:57.253 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.253 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:39:57.253 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:39:57.259 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:39:57.279 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:39:57.347 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:39:57.357 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:57.357 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:39:57.357 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:39:57.358 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:57.358 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:57.358 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.358 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.358 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:39:57.359 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:39:57.360 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.360 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:39:57.360 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.360 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:39:57.378 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:39:57.391 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:39:57.391 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:39:57.397 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:39:57.401 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 476.4785ms
2022-12-07 11:39:57.428 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:39:57.428 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:39:57.437 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 8.8177ms
2022-12-07 11:39:57.449 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:39:57.472 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:39:57.472 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:39:57.475 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-07 11:39:57.481 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.488 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.497 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.3802ms
2022-12-07 11:39:57.498 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:39:57.571 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:39:57.595 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:39:57.595 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:39:57.595 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:39:57.601 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.602 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 30ms reading results.
2022-12-07 11:39:57.610 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.611 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 11:39:57.663 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:39:57.666 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 11:39:57.666 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:39:57.667 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:39:57.819 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.3642ms
2022-12-07 11:39:57.846 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 730.234ms
2022-12-07 11:39:57.847 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:39:57.849 -03:00 [DBG] Connection id "0HMMOC3KI7COR" completed keep alive response.
2022-12-07 11:39:57.854 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:39:57.863 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:39:57.864 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:39:57.864 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1040 application/json;+charset=utf-8 1067.1298ms
2022-12-07 11:42:09.560 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 11:42:10.481 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:10.507 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:10.579 -03:00 [DBG] Created DbConnection. (70ms).
2022-12-07 11:42:10.589 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.078 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.095 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 11:42:12.107 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 11:42:12.110 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (24ms).
2022-12-07 11:42:12.121 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:42:12.163 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 11:42:12.169 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.185 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (12ms).
2022-12-07 11:42:12.192 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 11:42:12.192 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:42:12.192 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 11:42:12.192 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.193 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.195 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:42:12.257 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 11:42:12.257 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.259 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 11:42:12.324 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:12.324 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.324 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.324 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.324 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.326 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:42:12.335 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 11:42:12.345 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.351 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 9ms reading results.
2022-12-07 11:42:12.351 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.352 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:12.422 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 11:42:12.698 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:42:12.738 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:12.738 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.739 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:12.739 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.739 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.739 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:42:12.742 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 11:42:12.751 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.752 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 9ms reading results.
2022-12-07 11:42:12.752 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.752 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:12.757 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:12.761 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:12.764 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 11:42:12.944 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 11:42:13.042 -03:00 [DBG] Hosting starting
2022-12-07 11:42:13.080 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 11:42:13.088 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 11:42:13.100 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 11:42:13.115 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 11:42:13.118 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:42:13.119 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 11:42:13.121 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 11:42:13.122 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 11:42:13.124 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 11:42:13.127 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 11:42:13.128 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 11:42:13.347 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 11:42:13.400 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 11:42:13.400 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 11:42:13.400 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 11:42:13.400 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 11:42:13.400 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 11:42:13.400 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 11:42:13.400 -03:00 [INF] Hosting environment: Development
2022-12-07 11:42:13.400 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 11:42:13.400 -03:00 [DBG] Hosting started
2022-12-07 11:42:13.418 -03:00 [DBG] Connection id "0HMMOC4TAP57M" accepted.
2022-12-07 11:42:13.421 -03:00 [DBG] Connection id "0HMMOC4TAP57M" started.
2022-12-07 11:42:13.479 -03:00 [DBG] Connection 0HMMOC4TAP57M established using the following protocol: "Tls12"
2022-12-07 11:42:13.527 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 11:42:13.542 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 11:42:13.569 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 11:42:13.579 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 11:42:13.583 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:13.601 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:42:13.741 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:42:13.744 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:13.770 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:42:13.771 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:42:13.771 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:42:13.771 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:42:13.772 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:42:13.772 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:42:13.773 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:13.795 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:13.833 -03:00 [DBG] Connection id "0HMMOC4TAP57N" accepted.
2022-12-07 11:42:13.834 -03:00 [DBG] Connection id "0HMMOC4TAP57N" started.
2022-12-07 11:42:13.855 -03:00 [DBG] Connection id "0HMMOC4TAP57N" received FIN.
2022-12-07 11:42:13.855 -03:00 [DBG] Connection id "0HMMOC4TAP57O" received FIN.
2022-12-07 11:42:13.856 -03:00 [DBG] Connection id "0HMMOC4TAP57O" accepted.
2022-12-07 11:42:13.857 -03:00 [DBG] Connection id "0HMMOC4TAP57O" started.
2022-12-07 11:42:13.859 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:42:13.860 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 11:42:13.890 -03:00 [DBG] Connection id "0HMMOC4TAP57O" stopped.
2022-12-07 11:42:13.890 -03:00 [DBG] Connection id "0HMMOC4TAP57N" stopped.
2022-12-07 11:42:13.892 -03:00 [DBG] Connection id "0HMMOC4TAP57N" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:42:13.892 -03:00 [DBG] Connection id "0HMMOC4TAP57O" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 11:42:13.931 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:13.950 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.954 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:13.955 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.955 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.955 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.955 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.957 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:42:13.960 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:42:13.960 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.960 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:13.961 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:13.961 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.961 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:13.961 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:13.967 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:42:13.991 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 11:42:14.071 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:42:14.096 -03:00 [DBG] Connection id "0HMMOC4TAP57P" accepted.
2022-12-07 11:42:14.096 -03:00 [DBG] Connection id "0HMMOC4TAP57P" started.
2022-12-07 11:42:14.123 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:14.124 -03:00 [DBG] Connection 0HMMOC4TAP57P established using the following protocol: "Tls12"
2022-12-07 11:42:14.124 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:14.126 -03:00 [DBG] Created DbConnection. (1ms).
2022-12-07 11:42:14.126 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-12-07 11:42:14.126 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2022-12-07 11:42:14.136 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.143 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.144 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:14.150 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 11:42:14.174 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 11:42:14.174 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:42:14.175 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:14.210 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.211 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 35ms reading results.
2022-12-07 11:42:14.215 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.216 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:14.315 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:42:14.319 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 11:42:14.320 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:42:14.320 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:42:14.383 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 11:42:14.535 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 758.1516ms
2022-12-07 11:42:14.538 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:14.543 -03:00 [DBG] Connection id "0HMMOC4TAP57M" completed keep alive response.
2022-12-07 11:42:14.544 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 11:42:14.546 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:14.547 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 396.0896ms
2022-12-07 11:42:14.574 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:14.576 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2022-12-07 11:42:14.577 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1053.4369ms
2022-12-07 11:42:14.584 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 11:42:14.584 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 11:42:14.595 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 11.3440ms
2022-12-07 11:42:14.648 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.8712ms
2022-12-07 11:42:14.743 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 11:42:14.743 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 11:42:14.743 -03:00 [DBG] Request did not match any endpoints
2022-12-07 11:42:14.965 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 222.1335ms
2022-12-07 11:42:26.133 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-07 11:42:26.135 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:42:26.135 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:42:26.136 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:26.136 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:42:26.136 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:42:26.136 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:26.137 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:42:26.137 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:42:26.137 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:26.240 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:26.240 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:26.241 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:42:26.241 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.241 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:42:26.241 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:26.242 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:26.242 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:26.242 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:26.242 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:42:26.246 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:26.246 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:26.246 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:42:26.246 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:26.247 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:26.247 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.247 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.248 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:26.256 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 11:42:26.257 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.257 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:42:26.257 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.257 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:26.258 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:42:26.258 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:42:26.258 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:42:26.259 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:42:26.259 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:42:26.259 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:42:26.259 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:42:26.260 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 123.1025ms
2022-12-07 11:42:26.260 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:26.260 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:26.260 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:26.261 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:42:26.261 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1818 application/json;+charset=utf-8 128.0835ms
2022-12-07 11:42:33.712 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - -
2022-12-07 11:42:33.712 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-07 11:42:33.712 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-07 11:42:33.712 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:33.713 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 11:42:33.716 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 11:42:33.716 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:33.716 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 11:42:33.716 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 11:42:33.716 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:33.721 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 11:42:33.722 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 11:42:33.733 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 11:42:33.735 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 11:42:33.735 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.735 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.735 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 11:42:33.736 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 11:42:33.736 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.736 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name 'pageNumber' in request data ...
2022-12-07 11:42:33.737 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.737 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.737 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.741 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.741 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.741 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name 'pageSize' in request data ...
2022-12-07 11:42:33.741 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.741 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.742 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 11:42:33.742 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 11:42:33.742 -03:00 [INF] Retornando todas as vilas.
2022-12-07 11:42:33.748 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Count()'
2022-12-07 11:42:33.845 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT COUNT(*)
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 11:42:33.859 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:33.859 -03:00 [DBG] Creating DbConnection.
2022-12-07 11:42:33.859 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 11:42:33.859 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:33.859 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:33.859 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.859 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.859 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:42:33.861 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Villas] AS [v]
2022-12-07 11:42:33.861 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.861 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 11:42:33.861 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.862 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:33.870 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Skip(__p_0)
    .Take(__p_1)'
2022-12-07 11:42:33.879 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:42:33.881 -03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2022-12-07 11:42:33.885 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v
        ORDER BY (SELECT 1)
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 11:42:33.892 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 11:42:33.892 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 11:42:33.900 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2022-12-07 11:42:33.900 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.900 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:33.916 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:42:34.017 -03:00 [INF] Executed DbCommand (117ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2022-12-07 11:42:34.017 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:34.021 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 11:42:34.021 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:34.021 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 11:42:34.021 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 11:42:34.021 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-07 11:42:34.021 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-07 11:42:34.022 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 11:42:34.022 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 11:42:34.022 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 11:42:34.022 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 11:42:34.022 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 306.1657ms
2022-12-07 11:42:34.023 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 11:42:34.023 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 11:42:34.023 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 11:42:34.023 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 11:42:34.023 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi?pageNumber=1&pageSize=2 - - - 200 713 application/json;+charset=utf-8 310.9408ms
2022-12-07 12:09:12.195 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:09:12.899 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:09:12.900 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:09:13.322 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:09:13.353 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:09:13.353 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:09:13.883 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:09:37.377 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:09:37.998 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:09:37.998 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:09:38.432 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:09:38.447 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:09:38.477 -03:00 [DBG] Created DbConnection. (25ms).
2022-12-07 12:09:38.483 -03:00 [DBG] Migrating using database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:38.487 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.733 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.740 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:39.747 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 12:09:39.750 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 12:09:39.756 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:09:39.786 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:09:39.788 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.798 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (5ms).
2022-12-07 12:09:39.801 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:09:39.802 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:09:39.802 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:09:39.802 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.802 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.802 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:09:39.817 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:09:39.818 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.818 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:09:39.819 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.819 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.819 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:39.819 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:39.819 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:39.819 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:09:39.821 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:09:39.821 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.821 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:09:39.821 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:09:39.821 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:09:39.821 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:09:39.821 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.821 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.821 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:09:39.821 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:09:39.821 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.821 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:09:39.835 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:09:39.835 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:09:39.835 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:09:39.835 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.835 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.836 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:09:39.838 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:09:39.840 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.841 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 12:09:39.841 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:39.842 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:09:39.855 -03:00 [INF] Applying migration '20221207150913_AddingIdentityUser'.
2022-12-07 12:09:40.012 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:40.012 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:40.015 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-12-07 12:09:40.023 -03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-12-07 12:09:40.024 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.024 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.025 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2022-12-07 12:09:40.026 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2022-12-07 12:09:40.050 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2022-12-07 12:09:40.050 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.050 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.050 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.050 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2022-12-07 12:09:40.053 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2022-12-07 12:09:40.053 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.053 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.053 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.053 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.059 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.059 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.059 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.059 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.059 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.064 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.064 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.064 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.064 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.064 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.070 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.071 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.071 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.071 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.071 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.076 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.076 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.076 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.076 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.076 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.081 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-12-07 12:09:40.081 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.081 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.081 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.081 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2022-12-07 12:09:40.086 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2022-12-07 12:09:40.086 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.086 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.087 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.087 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2022-12-07 12:09:40.090 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2022-12-07 12:09:40.090 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.090 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.091 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.091 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2022-12-07 12:09:40.093 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2022-12-07 12:09:40.093 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.093 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.093 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.093 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2022-12-07 12:09:40.095 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2022-12-07 12:09:40.095 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.095 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.095 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.095 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2022-12-07 12:09:40.098 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2022-12-07 12:09:40.099 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.099 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.099 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.099 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2022-12-07 12:09:40.100 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2022-12-07 12:09:40.101 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.101 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.101 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.101 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2022-12-07 12:09:40.103 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2022-12-07 12:09:40.103 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:09:40.103 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.103 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-07 12:09:40.103 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221207150913_AddingIdentityUser', N'7.0.0');
2022-12-07 12:09:40.105 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221207150913_AddingIdentityUser', N'7.0.0');
2022-12-07 12:09:40.108 -03:00 [DBG] Committing transaction.
2022-12-07 12:09:40.114 -03:00 [DBG] Committed transaction.
2022-12-07 12:09:40.116 -03:00 [DBG] Disposing transaction.
2022-12-07 12:09:40.116 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:40.116 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:09:40.118 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:09:40.120 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:09:40.122 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 12:32:49.762 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:32:50.443 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:32:50.445 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:32:50.795 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:32:50.821 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:32:50.886 -03:00 [DBG] Created DbConnection. (62ms).
2022-12-07 12:32:50.896 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.373 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.381 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:32:52.390 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 12:32:52.392 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-07 12:32:52.399 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:32:52.434 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:32:52.437 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.448 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 12:32:52.454 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:32:52.454 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:32:52.454 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:32:52.454 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.455 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.456 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:32:52.479 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:32:52.479 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.480 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 12:32:52.495 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:32:52.495 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:32:52.495 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:32:52.495 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.495 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.496 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:32:52.502 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:32:52.507 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.509 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 12:32:52.509 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.509 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:32:52.574 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 12:32:52.916 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 12:32:52.967 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:32:52.967 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:32:52.968 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:32:52.968 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.968 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.968 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:32:52.984 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:32:52.987 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.987 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 12:32:52.987 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.987 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:32:52.990 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:32:52.992 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:32:52.994 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 12:32:53.086 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 12:32:53.192 -03:00 [DBG] Hosting starting
2022-12-07 12:32:53.215 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 12:32:53.220 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 12:32:53.227 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 12:32:53.235 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 12:32:53.238 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:32:53.238 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 12:32:53.241 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:32:53.242 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 12:32:53.246 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 12:32:53.252 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 12:32:53.253 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 12:32:53.378 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 12:32:53.411 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 12:32:53.412 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 12:32:53.412 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 12:32:53.412 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 12:32:53.412 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 12:32:53.412 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 12:32:53.412 -03:00 [INF] Hosting environment: Development
2022-12-07 12:32:53.412 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 12:32:53.412 -03:00 [DBG] Hosting started
2022-12-07 12:32:53.685 -03:00 [DBG] Connection id "0HMMOD17CVJ0K" accepted.
2022-12-07 12:32:53.685 -03:00 [DBG] Connection id "0HMMOD17CVJ0L" accepted.
2022-12-07 12:32:53.687 -03:00 [DBG] Connection id "0HMMOD17CVJ0K" started.
2022-12-07 12:32:53.687 -03:00 [DBG] Connection id "0HMMOD17CVJ0L" started.
2022-12-07 12:32:54.074 -03:00 [DBG] Connection id "0HMMOD17CVJ0M" accepted.
2022-12-07 12:32:54.076 -03:00 [DBG] Connection id "0HMMOD17CVJ0M" started.
2022-12-07 12:32:54.145 -03:00 [DBG] Connection 0HMMOD17CVJ0M established using the following protocol: "Tls12"
2022-12-07 12:32:54.215 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 12:32:54.246 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 12:32:54.267 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 12:32:54.268 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:32:54.504 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 12:32:54.732 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 12:32:54.739 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 528.5831ms
2022-12-07 12:32:54.763 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 12:32:54.763 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 12:32:54.777 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 14.8108ms
2022-12-07 12:32:54.894 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 131.4208ms
2022-12-07 12:32:55.039 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 12:32:55.039 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 12:32:55.039 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:32:55.280 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 240.8646ms
2022-12-07 12:33:03.720 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2022-12-07 12:33:03.720 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2022-12-07 12:33:03.733 -03:00 [DBG] Connection id "0HMMOD17CVJ0L" stopped.
2022-12-07 12:33:03.733 -03:00 [DBG] Connection id "0HMMOD17CVJ0K" stopped.
2022-12-07 12:33:03.735 -03:00 [DBG] Connection id "0HMMOD17CVJ0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:33:03.735 -03:00 [DBG] Connection id "0HMMOD17CVJ0L" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:33:39.909 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/register application/json-patch+json 100
2022-12-07 12:33:39.923 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 12:33:39.930 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 12:33:39.937 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:33:39.939 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:33:40.070 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:33:40.075 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:33:40.140 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:33:40.141 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:33:40.142 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:33:40.143 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:33:40.143 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:33:40.144 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:33:40.145 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:33:40.420 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:33:40.448 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 12:33:40.452 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 12:33:40.453 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:33:40.454 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:33:40.490 -03:00 [DBG] Connection id "0HMMOD17CVJ0M", Request id "0HMMOD17CVJ0M:00000009": started reading request body.
2022-12-07 12:33:40.491 -03:00 [DBG] Connection id "0HMMOD17CVJ0M", Request id "0HMMOD17CVJ0M:00000009": done reading request body.
2022-12-07 12:33:40.922 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:33:40.922 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:33:40.922 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 12:33:40.941 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:33:40.976 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:33:41.014 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName == __username_0)'
2022-12-07 12:33:41.227 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:33:41.271 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:33:41.272 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:33:41.272 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:33:41.272 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:41.284 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2022-12-07 12:33:41.284 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.285 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.298 -03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 12:33:41.421 -03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 12:33:41.422 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.426 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 12:33:41.426 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.426 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:33:41.560 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-12-07 12:33:41.571 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 12:33:41.620 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:33:41.620 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:41.620 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:41.636 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.647 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.649 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 12:33:41.714 -03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 12:33:41.773 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.773 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 59ms reading results.
2022-12-07 12:33:41.785 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:41.788 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (3ms).
2022-12-07 12:33:42.084 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:33:42.106 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 12:33:42.113 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 12:33:42.156 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 12:33:42.364 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.365 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.378 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:33:42.378 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:42.379 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 12:33:42.382 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 12:33:42.400 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 12:33:42.413 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.413 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 12ms reading results.
2022-12-07 12:33:42.417 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.417 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:33:42.443 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:33:42.450 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-07 12:33:42.472 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2022-12-07 12:33:42.480 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 12:33:42.481 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:33:42.481 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:42.481 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:42.481 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.481 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.481 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:33:42.488 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:33:42.488 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.488 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:33:42.488 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.488 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:33:42.507 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:33:42.507 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:42.507 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:33:42.508 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.508 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.508 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:33:42.510 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:33:42.510 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.510 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:33:42.510 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.511 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:33:42.593 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:33:42.598 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 12:33:42.598 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 12:33:42.599 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 12:33:42.601 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:33:42.602 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:33:42.736 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 2582.6526ms
2022-12-07 12:33:42.740 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:33:42.750 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:33:42.767 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:33:42.769 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 12:33:42.770 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/register application/json-patch+json 100 - 200 67 application/json;+charset=utf-8 2860.6138ms
2022-12-07 12:34:47.889 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61
2022-12-07 12:34:47.892 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 12:34:47.892 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 12:34:47.892 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:34:47.892 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:34:47.911 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:34:47.918 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:34:47.922 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:34:47.922 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:34:47.922 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:34:47.922 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:34:47.922 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:34:47.922 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:34:47.923 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:34:47.923 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:34:47.923 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:34:47.924 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 12:34:47.924 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:34:47.924 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:34:47.924 -03:00 [DBG] Connection id "0HMMOD17CVJ0M", Request id "0HMMOD17CVJ0M:0000000B": started reading request body.
2022-12-07 12:34:47.924 -03:00 [DBG] Connection id "0HMMOD17CVJ0M", Request id "0HMMOD17CVJ0M:0000000B": done reading request body.
2022-12-07 12:34:47.926 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:34:47.926 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:34:47.926 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:34:47.927 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:34:48.036 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:34:48.039 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 12:34:48.134 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:34:48.148 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:34:48.148 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:34:48.148 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:34:48.148 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:34:48.148 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:34:48.148 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.149 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.149 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:34:48.169 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:34:48.188 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:34:48.189 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.190 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 20ms reading results.
2022-12-07 12:34:48.190 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.190 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:34:48.246 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 12:34:48.327 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:34:48.332 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:34:48.332 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:34:48.332 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:34:48.332 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.332 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.332 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:34:48.338 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:34:48.342 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.342 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 12:34:48.343 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.343 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:34:48.489 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 565.9682ms
2022-12-07 12:34:48.490 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:34:48.493 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at HotelComercy_WebAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Repository\UserRepository.cs:line 63
   at HotelComercy_WebAPI.Controllers.UserController.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Controllers\UserController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-07 12:34:48.563 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:34:48.563 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:34:48.563 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:34:48.563 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61 - 500 - text/plain;+charset=utf-8 675.6141ms
2022-12-07 12:40:08.768 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:40:09.358 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:40:09.359 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:40:09.671 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:40:09.691 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:40:09.745 -03:00 [DBG] Created DbConnection. (51ms).
2022-12-07 12:40:09.752 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.157 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.164 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:40:11.170 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-07 12:40:11.173 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 12:40:11.178 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:40:11.210 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:40:11.213 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.223 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-07 12:40:11.226 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:40:11.226 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:40:11.226 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:40:11.226 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.227 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.228 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:40:11.255 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:40:11.255 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.256 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:40:11.272 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:40:11.272 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:40:11.272 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:40:11.272 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.273 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.273 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:40:11.289 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:40:11.293 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.296 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 12:40:11.296 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.296 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:40:11.337 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 12:40:11.537 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 12:40:11.567 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:40:11.567 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:40:11.567 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:40:11.567 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.567 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.567 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:40:11.571 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:40:11.575 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.575 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 12:40:11.575 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.575 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:40:11.577 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:40:11.579 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:40:11.581 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 12:40:11.668 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 12:40:11.729 -03:00 [DBG] Hosting starting
2022-12-07 12:40:11.753 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 12:40:11.756 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 12:40:11.763 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 12:40:11.769 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 12:40:11.771 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:40:11.771 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 12:40:11.772 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:40:11.772 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 12:40:11.775 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 12:40:11.778 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 12:40:11.778 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 12:40:11.902 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 12:40:11.944 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 12:40:11.944 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 12:40:11.944 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 12:40:11.944 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 12:40:11.944 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 12:40:11.944 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 12:40:11.944 -03:00 [INF] Hosting environment: Development
2022-12-07 12:40:11.944 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 12:40:11.944 -03:00 [DBG] Hosting started
2022-12-07 12:40:12.273 -03:00 [DBG] Connection id "0HMMOD5A3N0FJ" accepted.
2022-12-07 12:40:12.273 -03:00 [DBG] Connection id "0HMMOD5A3N0FI" accepted.
2022-12-07 12:40:12.274 -03:00 [DBG] Connection id "0HMMOD5A3N0FJ" started.
2022-12-07 12:40:12.274 -03:00 [DBG] Connection id "0HMMOD5A3N0FI" started.
2022-12-07 12:40:12.293 -03:00 [DBG] Connection id "0HMMOD5A3N0FJ" received FIN.
2022-12-07 12:40:12.293 -03:00 [DBG] Connection id "0HMMOD5A3N0FI" received FIN.
2022-12-07 12:40:12.310 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:40:12.310 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:40:12.332 -03:00 [DBG] Connection id "0HMMOD5A3N0FI" stopped.
2022-12-07 12:40:12.332 -03:00 [DBG] Connection id "0HMMOD5A3N0FJ" stopped.
2022-12-07 12:40:12.334 -03:00 [DBG] Connection id "0HMMOD5A3N0FI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:40:12.334 -03:00 [DBG] Connection id "0HMMOD5A3N0FJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:40:12.538 -03:00 [DBG] Connection id "0HMMOD5A3N0FK" accepted.
2022-12-07 12:40:12.539 -03:00 [DBG] Connection id "0HMMOD5A3N0FK" started.
2022-12-07 12:40:12.596 -03:00 [DBG] Connection 0HMMOD5A3N0FK established using the following protocol: "Tls12"
2022-12-07 12:40:12.654 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 12:40:12.687 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 12:40:12.716 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 12:40:12.716 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:40:12.995 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 12:40:13.229 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 12:40:13.243 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 588.4769ms
2022-12-07 12:40:13.275 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 12:40:13.275 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 12:40:13.291 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 16.0922ms
2022-12-07 12:40:13.352 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.5443ms
2022-12-07 12:40:13.474 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 12:40:13.474 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 12:40:13.474 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:40:13.701 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 227.8748ms
2022-12-07 12:41:29.779 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/register application/json-patch+json 99
2022-12-07 12:41:29.809 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 12:41:29.815 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 12:41:29.825 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:41:29.829 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:41:29.970 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:41:29.975 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:41:30.048 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:41:30.050 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:41:30.050 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:41:30.050 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:41:30.051 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:41:30.051 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:41:30.053 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:41:30.345 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:41:30.370 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 12:41:30.375 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 12:41:30.376 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:41:30.377 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:41:30.410 -03:00 [DBG] Connection id "0HMMOD5A3N0FK", Request id "0HMMOD5A3N0FK:00000009": started reading request body.
2022-12-07 12:41:30.411 -03:00 [DBG] Connection id "0HMMOD5A3N0FK", Request id "0HMMOD5A3N0FK:00000009": done reading request body.
2022-12-07 12:41:30.677 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:41:30.677 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:41:30.677 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 12:41:30.692 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:41:30.746 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:41:30.780 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName == __username_0)'
2022-12-07 12:41:30.987 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:41:31.027 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:31.028 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:41:31.028 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:41:31.029 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 12:41:31.038 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2022-12-07 12:41:31.038 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.039 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.051 -03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 12:41:31.144 -03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 12:41:31.145 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.147 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 12:41:31.147 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.148 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:31.283 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-12-07 12:41:31.293 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 12:41:31.340 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:31.340 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:31.340 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:31.359 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.371 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.374 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 12:41:31.438 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 12:41:31.491 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.491 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 52ms reading results.
2022-12-07 12:41:31.503 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:31.505 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 12:41:31.785 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:31.803 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:31.810 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:31.855 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 12:41:32.108 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.108 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.125 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.125 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.126 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 12:41:32.131 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 12:41:32.154 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 12:41:32.171 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.171 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 16ms reading results.
2022-12-07 12:41:32.175 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.176 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.201 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.211 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-07 12:41:32.233 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2022-12-07 12:41:32.242 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 12:41:32.244 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.245 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.245 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.245 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.245 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.245 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 12:41:32.253 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 12:41:32.254 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.254 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 12:41:32.255 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.255 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.302 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.302 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.302 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.302 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.302 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.302 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 12:41:32.304 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 12:41:32.304 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.304 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:41:32.304 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.304 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.371 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.388 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:32.388 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:32.400 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 12:41:32.402 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.402 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.402 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.402 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.402 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.402 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2022-12-07 12:41:32.406 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2022-12-07 12:41:32.407 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.407 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:41:32.407 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.408 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.409 -03:00 [DBG] An entity of type 'IdentityRole' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.409 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-07 12:41:32.417 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.417 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.417 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.418 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.418 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.418 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 12:41:32.428 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 12:41:32.429 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.429 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:41:32.429 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.429 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.429 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.430 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:32.430 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:32.430 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 12:41:32.431 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.431 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.431 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.431 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.431 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.431 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2022-12-07 12:41:32.433 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2022-12-07 12:41:32.434 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.434 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:41:32.434 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.434 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.434 -03:00 [DBG] An entity of type 'IdentityRole' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.434 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-07 12:41:32.454 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2022-12-07 12:41:32.461 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 12:41:32.461 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.461 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.462 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.462 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.462 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.463 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:41:32.467 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:41:32.481 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.481 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 14ms reading results.
2022-12-07 12:41:32.481 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.481 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.511 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2022-12-07 12:41:32.548 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 12:41:32.553 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.553 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.553 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.553 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.554 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.554 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2022-12-07 12:41:32.556 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2022-12-07 12:41:32.557 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.557 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:41:32.557 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.557 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.569 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.569 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.569 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.569 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.569 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.569 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:41:32.570 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 12:41:32.571 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.571 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:41:32.571 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.571 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.605 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.613 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.613 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.613 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.614 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.614 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.614 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 12:41:32.619 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 12:41:32.624 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.625 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 12:41:32.625 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.625 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.643 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.644 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:32.644 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 12:41:32.645 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 12:41:32.684 -03:00 [DBG] Executing 2 update commands as a batch.
2022-12-07 12:41:32.696 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.697 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.702 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-12-07 12:41:32.744 -03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-12-07 12:41:32.748 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.748 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.752 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-07 12:41:32.753 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2022-12-07 12:41:32.769 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2022-12-07 12:41:32.784 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.784 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 14ms reading results.
2022-12-07 12:41:32.796 -03:00 [DBG] Committing transaction.
2022-12-07 12:41:32.811 -03:00 [DBG] Committed transaction.
2022-12-07 12:41:32.824 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.824 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:32.833 -03:00 [DBG] Disposing transaction.
2022-12-07 12:41:32.834 -03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.834 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:32.834 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 2 entities written to the database.
2022-12-07 12:41:32.838 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .First(x => x.UserName == __registrationRequestDTO_UserName_0)'
2022-12-07 12:41:32.843 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.UserName == @__registrationRequestDTO_UserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 12:41:32.851 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:32.851 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.851 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:32.851 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.851 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.851 -03:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2022-12-07 12:41:32.854 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2022-12-07 12:41:32.858 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.858 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 12:41:32.858 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:32.858 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:33.037 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:41:33.044 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 12:41:33.044 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 12:41:33.044 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 12:41:33.047 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:41:33.048 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:41:33.179 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 3116.2567ms
2022-12-07 12:41:33.184 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:41:33.195 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:41:33.213 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:33.215 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 12:41:33.215 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/register application/json-patch+json 99 - 200 67 application/json;+charset=utf-8 3436.1510ms
2022-12-07 12:41:54.279 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61
2022-12-07 12:41:54.282 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 12:41:54.282 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 12:41:54.283 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:41:54.283 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:41:54.283 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:41:54.284 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:41:54.304 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:41:54.304 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:41:54.304 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:41:54.304 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:41:54.304 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:41:54.304 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:41:54.304 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:41:54.305 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:41:54.305 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:41:54.306 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 12:41:54.306 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:41:54.306 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:41:54.306 -03:00 [DBG] Connection id "0HMMOD5A3N0FK", Request id "0HMMOD5A3N0FK:0000000B": started reading request body.
2022-12-07 12:41:54.306 -03:00 [DBG] Connection id "0HMMOD5A3N0FK", Request id "0HMMOD5A3N0FK:0000000B": done reading request body.
2022-12-07 12:41:54.308 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:41:54.308 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:41:54.308 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:41:54.310 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:41:54.416 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:41:54.419 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 12:41:54.494 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:41:54.503 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:54.504 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:41:54.504 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:41:54.504 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:54.504 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:54.504 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.504 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.504 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:41:54.507 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:41:54.511 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:41:54.511 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.512 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 12:41:54.512 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.512 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:54.565 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 12:41:54.645 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:41:54.648 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:41:54.648 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:54.648 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:41:54.648 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.649 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.649 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:41:54.661 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:41:54.669 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.669 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 7ms reading results.
2022-12-07 12:41:54.670 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.670 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:41:54.967 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:41:54.967 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 12:41:54.967 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 12:41:54.967 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 12:41:54.968 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:41:54.968 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:41:54.979 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 674.4797ms
2022-12-07 12:41:54.979 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:41:54.980 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:41:54.980 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:41:54.980 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:41:54.980 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61 - 200 426 application/json;+charset=utf-8 701.2916ms
2022-12-07 12:52:04.543 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:52:05.261 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:52:05.262 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:52:05.760 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:52:05.794 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:52:05.903 -03:00 [DBG] Created DbConnection. (101ms).
2022-12-07 12:52:05.917 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.578 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.591 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:52:07.598 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-07 12:52:07.601 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 12:52:07.612 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:52:07.646 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:52:07.648 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.662 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-07 12:52:07.670 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:52:07.670 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:52:07.670 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:52:07.670 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.673 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.675 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:52:07.698 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:52:07.698 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.699 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:52:07.715 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:52:07.715 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:07.715 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:07.715 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.715 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.717 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:52:07.738 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:52:07.743 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.745 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 12:52:07.745 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:07.745 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:52:07.801 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 12:52:08.074 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 12:52:08.114 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:52:08.114 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:08.114 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:08.114 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:08.114 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:08.114 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:52:08.129 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:52:08.135 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:08.135 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 12:52:08.135 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:08.135 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:52:08.140 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:52:08.144 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:08.146 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 12:52:08.280 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 12:52:08.373 -03:00 [DBG] Hosting starting
2022-12-07 12:52:08.406 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 12:52:08.411 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 12:52:08.425 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 12:52:08.443 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 12:52:08.447 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:52:08.448 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 12:52:08.449 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:52:08.451 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 12:52:08.457 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 12:52:08.460 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 12:52:08.461 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 12:52:08.697 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 12:52:08.746 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 12:52:08.746 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 12:52:08.746 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 12:52:08.746 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 12:52:08.746 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 12:52:08.746 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 12:52:08.746 -03:00 [INF] Hosting environment: Development
2022-12-07 12:52:08.746 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 12:52:08.746 -03:00 [DBG] Hosting started
2022-12-07 12:52:08.967 -03:00 [DBG] Connection id "0HMMODBVML080" accepted.
2022-12-07 12:52:08.969 -03:00 [DBG] Connection id "0HMMODBVML080" started.
2022-12-07 12:52:09.007 -03:00 [DBG] Connection id "0HMMODBVML080" received FIN.
2022-12-07 12:52:09.014 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:52:09.050 -03:00 [DBG] Connection id "0HMMODBVML080" stopped.
2022-12-07 12:52:09.055 -03:00 [DBG] Connection id "0HMMODBVML080" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:52:09.172 -03:00 [DBG] Connection id "0HMMODBVML081" accepted.
2022-12-07 12:52:09.172 -03:00 [DBG] Connection id "0HMMODBVML081" started.
2022-12-07 12:52:09.243 -03:00 [DBG] Connection 0HMMODBVML081 established using the following protocol: "Tls12"
2022-12-07 12:52:09.294 -03:00 [DBG] Connection id "0HMMODBVML082" accepted.
2022-12-07 12:52:09.315 -03:00 [DBG] Connection id "0HMMODBVML082" started.
2022-12-07 12:52:09.332 -03:00 [DBG] Connection 0HMMODBVML082 established using the following protocol: "Tls12"
2022-12-07 12:52:09.373 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 12:52:09.373 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 12:52:09.391 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 12:52:09.428 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 12:52:09.428 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:52:09.435 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 12:52:09.443 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 12:52:09.448 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:52:09.458 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:52:09.577 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:52:09.580 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:52:09.627 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 12:52:09.628 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:52:09.628 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:52:09.628 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 12:52:09.628 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:52:09.628 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:52:09.629 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:52:09.650 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:52:09.777 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 12:52:09.789 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:52:09.811 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:52:09.812 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:52:09.812 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.812 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.812 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.812 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:52:09.813 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.814 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 12:52:09.814 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 12:52:09.814 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 12:52:09.814 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:52:09.814 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:52:09.814 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 12:52:09.815 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 12:52:09.815 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:52:09.815 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:52:09.815 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.815 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.815 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.815 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:52:09.815 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.815 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:52:09.815 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:52:09.815 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.815 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.815 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.815 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:52:09.815 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:52:09.820 -03:00 [INF] Retornando todas as vilas.
2022-12-07 12:52:09.861 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 12:52:09.921 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:52:09.938 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:52:09.938 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:52:09.938 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:52:09.938 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:09.938 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:09.941 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 12:52:09.944 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:09.944 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 577.9467ms
2022-12-07 12:52:09.958 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:09.959 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:52:09.963 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 12:52:09.963 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 12:52:09.972 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 9.3698ms
2022-12-07 12:52:10.004 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:52:10.026 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 63.7939ms
2022-12-07 12:52:10.032 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:10.033 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 28ms reading results.
2022-12-07 12:52:10.038 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:10.039 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:52:10.086 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:52:10.091 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:52:10.092 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:52:10.092 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:52:10.127 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 12:52:10.127 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 12:52:10.127 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:52:10.280 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 648.2084ms
2022-12-07 12:52:10.282 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:52:10.285 -03:00 [DBG] Connection id "0HMMODBVML081" completed keep alive response.
2022-12-07 12:52:10.289 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:52:10.296 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:10.297 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 12:52:10.298 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 931.4461ms
2022-12-07 12:52:10.345 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.0879ms
2022-12-07 12:52:26.227 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52
2022-12-07 12:52:26.230 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 12:52:26.230 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 12:52:26.231 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:52:26.231 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:52:26.231 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:52:26.231 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:52:26.235 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:52:26.235 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:52:26.235 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:52:26.235 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:52:26.235 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:52:26.235 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:52:26.235 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:52:26.241 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:52:26.241 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:52:26.242 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 12:52:26.242 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:52:26.242 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:52:26.250 -03:00 [DBG] Connection id "0HMMODBVML081", Request id "0HMMODBVML081:00000003": started reading request body.
2022-12-07 12:52:26.251 -03:00 [DBG] Connection id "0HMMODBVML081", Request id "0HMMODBVML081:00000003": done reading request body.
2022-12-07 12:52:26.288 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:52:26.288 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:52:26.288 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:52:26.293 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:52:26.337 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:52:26.349 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 12:52:26.420 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:52:26.436 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:52:26.436 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:52:26.436 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:52:26.436 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:26.440 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-07 12:52:26.440 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.440 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.444 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:52:26.488 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:52:26.532 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:52:26.571 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.572 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 83ms reading results.
2022-12-07 12:52:26.572 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.572 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:52:26.604 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 12:52:26.631 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:52:26.633 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:52:26.633 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:26.633 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:52:26.633 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.633 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.633 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:52:26.640 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:52:26.640 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.640 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:52:26.640 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.640 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:52:26.758 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:52:26.758 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:52:26.759 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:52:26.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:52:26.760 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 525.0457ms
2022-12-07 12:52:26.760 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:52:26.760 -03:00 [DBG] Connection id "0HMMODBVML081" completed keep alive response.
2022-12-07 12:52:26.761 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:52:26.761 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:52:26.761 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:52:26.761 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52 - 200 382 application/json;+charset=utf-8 534.0398ms
2022-12-07 12:53:06.418 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:53:07.251 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:53:07.253 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:53:07.690 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:53:07.718 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:53:07.835 -03:00 [DBG] Created DbConnection. (114ms).
2022-12-07 12:53:07.844 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.414 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.425 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:53:09.432 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 12:53:09.434 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2022-12-07 12:53:09.443 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:53:09.483 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:53:09.487 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.505 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (11ms).
2022-12-07 12:53:09.512 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:53:09.512 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:53:09.512 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:53:09.512 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.514 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.515 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:53:09.542 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:53:09.542 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.543 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 12:53:09.561 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:53:09.561 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:09.561 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:09.561 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.561 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.562 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:53:09.568 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:53:09.575 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.578 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 6ms reading results.
2022-12-07 12:53:09.578 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.578 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:53:09.638 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 12:53:09.908 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 12:53:09.945 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:53:09.945 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:09.945 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:09.945 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.945 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.945 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:53:09.948 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:53:09.950 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.950 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 12:53:09.950 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.950 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:53:09.953 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:53:09.957 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:09.960 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2022-12-07 12:53:10.107 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 12:53:10.215 -03:00 [DBG] Hosting starting
2022-12-07 12:53:10.249 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 12:53:10.254 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 12:53:10.261 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 12:53:10.268 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 12:53:10.273 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:53:10.275 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 12:53:10.276 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:53:10.277 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 12:53:10.279 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 12:53:10.282 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 12:53:10.283 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 12:53:10.510 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 12:53:10.582 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 12:53:10.582 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 12:53:10.582 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 12:53:10.582 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 12:53:10.582 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 12:53:10.583 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 12:53:10.583 -03:00 [INF] Hosting environment: Development
2022-12-07 12:53:10.583 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 12:53:10.583 -03:00 [DBG] Hosting started
2022-12-07 12:53:10.634 -03:00 [DBG] Connection id "0HMMODCI2NJCR" accepted.
2022-12-07 12:53:10.635 -03:00 [DBG] Connection id "0HMMODCI2NJCR" started.
2022-12-07 12:53:10.718 -03:00 [DBG] Connection 0HMMODCI2NJCR established using the following protocol: "Tls12"
2022-12-07 12:53:10.777 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 12:53:10.792 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 12:53:10.829 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 12:53:10.831 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 12:53:10.837 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:53:10.872 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:53:10.934 -03:00 [DBG] Connection id "0HMMODCI2NJCS" accepted.
2022-12-07 12:53:10.935 -03:00 [DBG] Connection id "0HMMODCI2NJCS" started.
2022-12-07 12:53:10.965 -03:00 [DBG] Connection id "0HMMODCI2NJCT" accepted.
2022-12-07 12:53:10.965 -03:00 [DBG] Connection id "0HMMODCI2NJCT" started.
2022-12-07 12:53:10.965 -03:00 [DBG] Connection id "0HMMODCI2NJCT" received FIN.
2022-12-07 12:53:10.965 -03:00 [DBG] Connection id "0HMMODCI2NJCS" received FIN.
2022-12-07 12:53:10.998 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:53:10.998 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:53:11.041 -03:00 [DBG] Connection id "0HMMODCI2NJCT" stopped.
2022-12-07 12:53:11.041 -03:00 [DBG] Connection id "0HMMODCI2NJCS" stopped.
2022-12-07 12:53:11.042 -03:00 [DBG] Connection id "0HMMODCI2NJCT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:53:11.042 -03:00 [DBG] Connection id "0HMMODCI2NJCS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:53:11.043 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:53:11.045 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:53:11.085 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 12:53:11.086 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:53:11.086 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:53:11.086 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 12:53:11.086 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:53:11.087 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:53:11.088 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:53:11.093 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:53:11.225 -03:00 [DBG] Connection id "0HMMODCI2NJCU" accepted.
2022-12-07 12:53:11.225 -03:00 [DBG] Connection id "0HMMODCI2NJCU" started.
2022-12-07 12:53:11.245 -03:00 [DBG] Connection 0HMMODCI2NJCU established using the following protocol: "Tls12"
2022-12-07 12:53:11.299 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 12:53:11.312 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:53:11.333 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:53:11.338 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:53:11.340 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 12:53:11.340 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:53:11.340 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.341 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.341 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.341 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:53:11.345 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.346 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 12:53:11.346 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 12:53:11.347 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:53:11.347 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 12:53:11.347 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:53:11.347 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:53:11.347 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.347 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.347 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:53:11.347 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:53:11.347 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.347 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:53:11.347 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:53:11.351 -03:00 [INF] Retornando todas as vilas.
2022-12-07 12:53:11.369 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 12:53:11.427 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:53:11.446 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:53:11.446 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:53:11.447 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:53:11.447 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:11.447 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:11.453 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:11.459 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:11.460 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:53:11.491 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:53:11.518 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:11.518 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 26ms reading results.
2022-12-07 12:53:11.523 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:11.525 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 12:53:11.547 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 12:53:11.562 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:53:11.566 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:53:11.567 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:53:11.567 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:53:11.790 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 696.2254ms
2022-12-07 12:53:11.791 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:53:11.795 -03:00 [DBG] Connection id "0HMMODCI2NJCR" completed keep alive response.
2022-12-07 12:53:11.799 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:53:11.809 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:11.810 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 12:53:11.811 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1039.1461ms
2022-12-07 12:53:11.856 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 12:53:11.859 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 559.3443ms
2022-12-07 12:53:11.885 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 12:53:11.885 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 12:53:11.897 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 12.0540ms
2022-12-07 12:53:11.980 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 94.8833ms
2022-12-07 12:53:12.082 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 12:53:12.082 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 12:53:12.082 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:53:12.332 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 249.4112ms
2022-12-07 12:53:18.330 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52
2022-12-07 12:53:18.334 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 12:53:18.335 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 12:53:18.335 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:53:18.335 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:53:18.335 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:53:18.336 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:53:18.341 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:53:18.342 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:53:18.342 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:53:18.342 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:53:18.342 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:53:18.342 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:53:18.342 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:53:18.359 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:53:18.359 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:53:18.363 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 12:53:18.365 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:53:18.366 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:53:18.384 -03:00 [DBG] Connection id "0HMMODCI2NJCR", Request id "0HMMODCI2NJCR:00000003": started reading request body.
2022-12-07 12:53:18.385 -03:00 [DBG] Connection id "0HMMODCI2NJCR", Request id "0HMMODCI2NJCR:00000003": done reading request body.
2022-12-07 12:53:18.475 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:53:18.475 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:53:18.475 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:53:18.489 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:53:18.598 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:53:18.621 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 12:53:18.819 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:53:18.860 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:53:18.860 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:53:18.860 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:53:18.860 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:18.871 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2022-12-07 12:53:18.871 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:18.872 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:18.885 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:53:18.974 -03:00 [INF] Executed DbCommand (102ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:53:19.086 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:53:19.186 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:19.189 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 214ms reading results.
2022-12-07 12:53:19.189 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:19.189 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:53:19.270 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 12:53:19.366 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:53:19.371 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:53:19.371 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:19.371 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:53:19.372 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:19.372 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:19.372 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:53:19.382 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:53:19.382 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:19.383 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:53:19.383 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:19.383 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:53:19.689 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:53:19.690 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:53:19.690 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:53:19.690 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:53:19.694 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 1351.6633ms
2022-12-07 12:53:19.694 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:53:19.694 -03:00 [DBG] Connection id "0HMMODCI2NJCR" completed keep alive response.
2022-12-07 12:53:19.696 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:53:19.696 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:53:19.696 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:53:19.697 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52 - 200 382 application/json;+charset=utf-8 1366.5143ms
2022-12-07 12:54:30.928 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:54:31.731 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:54:31.732 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:54:32.199 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:54:32.228 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:54:32.309 -03:00 [DBG] Created DbConnection. (74ms).
2022-12-07 12:54:32.321 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.830 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.841 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:54:33.847 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-07 12:54:33.849 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-07 12:54:33.858 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:54:33.892 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:54:33.896 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.909 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (10ms).
2022-12-07 12:54:33.913 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:54:33.913 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:54:33.913 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:54:33.913 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.914 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.915 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:54:33.942 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:54:33.942 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.943 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:54:33.959 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:54:33.959 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:33.959 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:33.959 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.959 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.960 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:54:33.965 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:54:33.970 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.973 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 12:54:33.973 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:33.973 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:54:34.028 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 12:54:34.294 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 12:54:34.331 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:54:34.331 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:34.331 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:34.331 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:34.332 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:34.332 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:54:34.336 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:54:34.340 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:34.340 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 12:54:34.340 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:34.340 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:54:34.342 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:54:34.345 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:34.346 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 12:54:34.468 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 12:54:34.539 -03:00 [DBG] Hosting starting
2022-12-07 12:54:34.573 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 12:54:34.576 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 12:54:34.581 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 12:54:34.593 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 12:54:34.596 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:54:34.596 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 12:54:34.597 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:54:34.598 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 12:54:34.603 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 12:54:34.607 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 12:54:34.607 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 12:54:34.808 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 12:54:34.867 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 12:54:34.867 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 12:54:34.868 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 12:54:34.868 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 12:54:34.868 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 12:54:34.868 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 12:54:34.869 -03:00 [INF] Hosting environment: Development
2022-12-07 12:54:34.869 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 12:54:34.869 -03:00 [DBG] Hosting started
2022-12-07 12:54:34.997 -03:00 [DBG] Connection id "0HMMODDB72H2I" received FIN.
2022-12-07 12:54:34.997 -03:00 [DBG] Connection id "0HMMODDB72H2I" accepted.
2022-12-07 12:54:34.997 -03:00 [DBG] Connection id "0HMMODDB72H2J" accepted.
2022-12-07 12:54:34.997 -03:00 [DBG] Connection id "0HMMODDB72H2J" received FIN.
2022-12-07 12:54:35.018 -03:00 [DBG] Connection id "0HMMODDB72H2J" started.
2022-12-07 12:54:35.018 -03:00 [DBG] Connection id "0HMMODDB72H2I" started.
2022-12-07 12:54:35.042 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:54:35.042 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:54:35.073 -03:00 [DBG] Connection id "0HMMODDB72H2J" stopped.
2022-12-07 12:54:35.073 -03:00 [DBG] Connection id "0HMMODDB72H2I" stopped.
2022-12-07 12:54:35.075 -03:00 [DBG] Connection id "0HMMODDB72H2J" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:54:35.075 -03:00 [DBG] Connection id "0HMMODDB72H2I" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:54:35.222 -03:00 [DBG] Connection id "0HMMODDB72H2K" accepted.
2022-12-07 12:54:35.222 -03:00 [DBG] Connection id "0HMMODDB72H2K" started.
2022-12-07 12:54:35.245 -03:00 [DBG] Connection id "0HMMODDB72H2L" accepted.
2022-12-07 12:54:35.245 -03:00 [DBG] Connection id "0HMMODDB72H2L" started.
2022-12-07 12:54:35.296 -03:00 [DBG] Connection 0HMMODDB72H2L established using the following protocol: "Tls12"
2022-12-07 12:54:35.296 -03:00 [DBG] Connection 0HMMODDB72H2K established using the following protocol: "Tls12"
2022-12-07 12:54:35.352 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 12:54:35.352 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 12:54:35.368 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 12:54:35.400 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 12:54:35.400 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:54:35.406 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 12:54:35.410 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 12:54:35.413 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:54:35.424 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:54:35.540 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:54:35.542 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:54:35.581 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 12:54:35.581 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:54:35.581 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:54:35.582 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 12:54:35.582 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:54:35.582 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:54:35.582 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:54:35.589 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:54:35.699 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 12:54:35.707 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:54:35.725 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:54:35.726 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:54:35.727 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.727 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.727 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.727 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:54:35.728 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.729 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 12:54:35.729 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 12:54:35.729 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 12:54:35.729 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:54:35.729 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:54:35.729 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 12:54:35.729 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 12:54:35.729 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:54:35.729 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:54:35.729 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.730 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.730 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.730 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:54:35.730 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.730 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:54:35.730 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:54:35.730 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.730 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.730 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.730 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:54:35.730 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:54:35.733 -03:00 [INF] Retornando todas as vilas.
2022-12-07 12:54:35.765 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 12:54:35.819 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:54:35.837 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:54:35.837 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:54:35.838 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:54:35.838 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:35.838 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:35.844 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 12:54:35.846 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:35.850 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 504.0468ms
2022-12-07 12:54:35.850 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:35.853 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:54:35.880 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 12:54:35.880 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 12:54:35.886 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 5.9283ms
2022-12-07 12:54:35.899 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:54:35.942 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.6310ms
2022-12-07 12:54:35.946 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:35.946 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 46ms reading results.
2022-12-07 12:54:35.950 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:35.951 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:54:35.996 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:54:36.000 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:54:36.001 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:54:36.002 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:54:36.045 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 12:54:36.045 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 12:54:36.046 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:54:36.201 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 613.9495ms
2022-12-07 12:54:36.204 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:54:36.206 -03:00 [DBG] Connection id "0HMMODDB72H2K" completed keep alive response.
2022-12-07 12:54:36.211 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:54:36.219 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:36.221 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 12:54:36.221 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 876.1281ms
2022-12-07 12:54:36.265 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 220.0595ms
2022-12-07 12:54:49.590 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61
2022-12-07 12:54:49.595 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 12:54:49.595 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 12:54:49.596 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:54:49.596 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:54:49.596 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:54:49.597 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:54:49.602 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:54:49.602 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:54:49.602 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:54:49.602 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:54:49.602 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:54:49.602 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:54:49.602 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:54:49.616 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:54:49.617 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:54:49.619 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 12:54:49.620 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:54:49.621 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 12:54:49.638 -03:00 [DBG] Connection id "0HMMODDB72H2L", Request id "0HMMODDB72H2L:00000009": started reading request body.
2022-12-07 12:54:49.640 -03:00 [DBG] Connection id "0HMMODDB72H2L", Request id "0HMMODDB72H2L:00000009": done reading request body.
2022-12-07 12:54:49.750 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:54:49.750 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:54:49.750 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:54:49.766 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:54:49.880 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:54:49.903 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 12:54:50.106 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:54:50.151 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:54:50.151 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:54:50.151 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:54:50.151 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:50.163 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2022-12-07 12:54:50.163 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.163 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.177 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:54:50.282 -03:00 [INF] Executed DbCommand (119ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:54:50.392 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:54:50.500 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.503 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 221ms reading results.
2022-12-07 12:54:50.504 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.504 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:54:50.589 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 12:54:50.686 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:54:50.691 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:54:50.692 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:54:50.692 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 12:54:50.692 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.693 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.694 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:54:50.704 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:54:50.704 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.704 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:54:50.704 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:50.705 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:54:51.037 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:54:51.038 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 12:54:51.038 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 12:54:51.038 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 12:54:51.038 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:54:51.038 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:54:51.044 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 1441.7153ms
2022-12-07 12:54:51.044 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:54:51.046 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:54:51.046 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:54:51.046 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:54:51.047 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61 - 200 382 application/json;+charset=utf-8 1456.3899ms
2022-12-07 12:55:47.168 -03:00 [DBG] Connection id "0HMMODDB72H2K" received FIN.
2022-12-07 12:55:47.178 -03:00 [DBG] Connection id "0HMMODDB72H2K" disconnecting.
2022-12-07 12:55:47.197 -03:00 [DBG] Connection id "0HMMODDB72H2K" sending FIN because: "The client closed the connection."
2022-12-07 12:55:47.215 -03:00 [DBG] Connection id "0HMMODDB72H2K" stopped.
2022-12-07 12:56:05.977 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:56:06.736 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:56:06.737 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:56:07.189 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:56:07.219 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:56:07.295 -03:00 [DBG] Created DbConnection. (72ms).
2022-12-07 12:56:07.307 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.864 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.876 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:56:08.884 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2022-12-07 12:56:08.888 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2022-12-07 12:56:08.896 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:56:08.930 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:56:08.933 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.945 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-07 12:56:08.949 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:56:08.949 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:56:08.949 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:56:08.949 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.951 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.952 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:56:08.975 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:56:08.975 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.975 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:56:08.989 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:56:08.989 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:08.989 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:08.989 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.989 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:08.990 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:56:08.994 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:56:08.999 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:09.002 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 12:56:09.003 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:09.003 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:56:09.069 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 12:56:09.295 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 12:56:09.331 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:56:09.331 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:09.331 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:09.331 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:09.331 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:09.331 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:56:09.335 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:56:09.340 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:09.340 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 12:56:09.341 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:09.341 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:56:09.343 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:56:09.345 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:09.347 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 12:56:09.467 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 12:56:09.544 -03:00 [DBG] Hosting starting
2022-12-07 12:56:09.577 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 12:56:09.580 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 12:56:09.590 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 12:56:09.597 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 12:56:09.599 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:56:09.599 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 12:56:09.602 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:56:09.603 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 12:56:09.607 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 12:56:09.611 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 12:56:09.611 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 12:56:09.799 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 12:56:09.932 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 12:56:09.932 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 12:56:09.932 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 12:56:09.932 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 12:56:09.932 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 12:56:09.932 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 12:56:09.932 -03:00 [INF] Hosting environment: Development
2022-12-07 12:56:09.932 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 12:56:09.933 -03:00 [DBG] Hosting started
2022-12-07 12:56:09.943 -03:00 [DBG] Connection id "0HMMODE7GPNO5" received FIN.
2022-12-07 12:56:09.955 -03:00 [DBG] Connection id "0HMMODE7GPNO5" accepted.
2022-12-07 12:56:09.958 -03:00 [DBG] Connection id "0HMMODE7GPNO5" started.
2022-12-07 12:56:09.972 -03:00 [DBG] Connection id "0HMMODE7GPNO6" accepted.
2022-12-07 12:56:09.973 -03:00 [DBG] Connection id "0HMMODE7GPNO6" started.
2022-12-07 12:56:09.972 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:56:10.006 -03:00 [DBG] Connection id "0HMMODE7GPNO5" stopped.
2022-12-07 12:56:10.008 -03:00 [DBG] Connection id "0HMMODE7GPNO5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:56:10.031 -03:00 [DBG] Connection 0HMMODE7GPNO6 established using the following protocol: "Tls12"
2022-12-07 12:56:10.076 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 12:56:10.096 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 12:56:10.157 -03:00 [DBG] Connection id "0HMMODE7GPNO7" accepted.
2022-12-07 12:56:10.157 -03:00 [DBG] Connection id "0HMMODE7GPNO7" started.
2022-12-07 12:56:10.165 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 12:56:10.169 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 12:56:10.173 -03:00 [DBG] Connection 0HMMODE7GPNO7 established using the following protocol: "Tls12"
2022-12-07 12:56:10.180 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:56:10.202 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 12:56:10.210 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:56:10.288 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 12:56:10.289 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:56:10.322 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:56:10.325 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:56:10.360 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 12:56:10.361 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:56:10.361 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:56:10.361 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 12:56:10.361 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:56:10.361 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:56:10.362 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:56:10.375 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:56:10.502 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:56:10.522 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:56:10.526 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:56:10.527 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.528 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.528 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.528 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:56:10.529 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.531 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 12:56:10.531 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 12:56:10.531 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 12:56:10.531 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:56:10.531 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:56:10.531 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 12:56:10.531 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 12:56:10.531 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:56:10.531 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:56:10.531 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.532 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.532 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.532 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:56:10.532 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.532 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:56:10.532 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:56:10.532 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.532 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.532 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.532 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:56:10.532 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:56:10.538 -03:00 [INF] Retornando todas as vilas.
2022-12-07 12:56:10.552 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 12:56:10.557 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 12:56:10.625 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:56:10.645 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:56:10.645 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:56:10.645 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:56:10.645 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:10.645 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:10.651 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:10.660 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:10.661 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:56:10.691 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:56:10.716 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:10.716 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 24ms reading results.
2022-12-07 12:56:10.723 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:10.724 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 12:56:10.730 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 12:56:10.734 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 531.0018ms
2022-12-07 12:56:10.755 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 12:56:10.755 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 12:56:10.767 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 12.4488ms
2022-12-07 12:56:10.792 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:56:10.797 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:56:10.798 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:56:10.798 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:56:10.825 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.2807ms
2022-12-07 12:56:10.918 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 12:56:10.918 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 12:56:10.918 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:56:10.985 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 619.8423ms
2022-12-07 12:56:10.988 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:56:10.991 -03:00 [DBG] Connection id "0HMMODE7GPNO6" completed keep alive response.
2022-12-07 12:56:10.995 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:56:11.003 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:11.004 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 12:56:11.005 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 931.8287ms
2022-12-07 12:56:11.137 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.9615ms
2022-12-07 12:56:18.258 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52
2022-12-07 12:56:18.261 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 12:56:18.262 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 12:56:18.262 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:56:18.263 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:56:18.263 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:56:18.263 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:56:18.270 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:56:18.270 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:56:18.270 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:56:18.270 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:56:18.270 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:56:18.270 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:56:18.270 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:56:18.286 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:56:18.287 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:56:18.289 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 12:56:18.291 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:56:18.291 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:56:18.308 -03:00 [DBG] Connection id "0HMMODE7GPNO6", Request id "0HMMODE7GPNO6:00000003": started reading request body.
2022-12-07 12:56:18.308 -03:00 [DBG] Connection id "0HMMODE7GPNO6", Request id "0HMMODE7GPNO6:00000003": done reading request body.
2022-12-07 12:56:18.406 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:56:18.406 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:56:18.406 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 12:56:18.419 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 12:56:18.527 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:56:18.549 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 12:56:18.774 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 12:56:18.821 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:56:18.821 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:56:18.821 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:56:18.821 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:18.831 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2022-12-07 12:56:18.831 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:18.831 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:18.846 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:56:18.941 -03:00 [INF] Executed DbCommand (109ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 12:56:19.046 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 12:56:19.149 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:19.152 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 211ms reading results.
2022-12-07 12:56:19.153 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:19.153 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:56:19.224 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 12:56:19.302 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:56:19.305 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:56:19.306 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:19.306 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:56:19.306 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:19.306 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:19.306 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:56:19.314 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 12:56:19.316 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:19.316 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 12:56:19.316 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:19.317 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:56:19.649 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:56:19.650 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:56:19.650 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:56:19.650 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:56:19.656 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 1385.1314ms
2022-12-07 12:56:19.656 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 12:56:19.656 -03:00 [DBG] Connection id "0HMMODE7GPNO6" completed keep alive response.
2022-12-07 12:56:19.659 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:56:19.659 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:56:19.659 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:56:19.659 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52 - 200 382 application/json;+charset=utf-8 1401.0110ms
2022-12-07 12:57:32.267 -03:00 [DBG] Connection id "0HMMODE7GPNO6" received FIN.
2022-12-07 12:57:32.275 -03:00 [DBG] Connection id "0HMMODE7GPNO6" disconnecting.
2022-12-07 12:57:32.280 -03:00 [DBG] Connection id "0HMMODE7GPNO6" sending FIN because: "The client closed the connection."
2022-12-07 12:57:32.280 -03:00 [DBG] Connection id "0HMMODE7GPNO8" accepted.
2022-12-07 12:57:32.280 -03:00 [DBG] Connection id "0HMMODE7GPNO8" started.
2022-12-07 12:57:32.282 -03:00 [DBG] Connection 0HMMODE7GPNO8 established using the following protocol: "Tls12"
2022-12-07 12:57:32.283 -03:00 [DBG] Connection id "0HMMODE7GPNO6" stopped.
2022-12-07 12:57:32.286 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 12:57:32.287 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 12:57:32.287 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 12:57:32.287 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:57:32.287 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:57:32.458 -03:00 [DBG] Successfully validated the token.
2022-12-07 12:57:32.460 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 12:57:32.461 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:57:32.461 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 12:57:32.461 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:57:32.461 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:57:32.461 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 12:57:32.461 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:57:32.461 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:57:32.462 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:57:32.464 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:57:32.464 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:57:32.464 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:32.464 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:57:32.464 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.464 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.464 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.464 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:32.464 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.464 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 12:57:32.465 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 12:57:32.465 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 12:57:32.465 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:57:32.465 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:57:32.465 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 12:57:32.465 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 12:57:32.465 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:32.465 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:57:32.465 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.465 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.465 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.465 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:32.465 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.465 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:32.465 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:57:32.465 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.465 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.466 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.466 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:32.466 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:32.466 -03:00 [INF] Retornando todas as vilas.
2022-12-07 12:57:32.468 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:57:32.468 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:57:32.468 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:57:32.468 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:57:32.469 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:57:32.469 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:32.469 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:32.469 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:57:32.473 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:57:32.473 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:32.473 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 12:57:32.474 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:32.474 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:57:32.474 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:57:32.475 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:57:32.475 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:57:32.475 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:57:32.475 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 13.7109ms
2022-12-07 12:57:32.475 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:57:32.475 -03:00 [DBG] Connection id "0HMMODE7GPNO8" completed keep alive response.
2022-12-07 12:57:32.475 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:57:32.476 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:32.476 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:57:32.476 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 189.5375ms
2022-12-07 12:57:47.085 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 12:57:47.085 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 12:57:47.085 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 12:57:47.086 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:57:47.086 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:57:47.086 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:57:47.086 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:57:47.086 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 12:57:47.086 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:57:47.086 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:57:47.086 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 12:57:47.086 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:57:47.086 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:57:47.086 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:57:47.093 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:57:47.094 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:57:47.094 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:47.094 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:57:47.094 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.094 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.094 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.094 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:47.094 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.094 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 12:57:47.094 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 12:57:47.095 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:57:47.095 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 12:57:47.095 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:47.095 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:57:47.095 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:47.095 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:57:47.095 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:57:47.095 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:57:47.095 -03:00 [INF] Retornando todas as vilas.
2022-12-07 12:57:47.096 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:57:47.096 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:57:47.097 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:57:47.097 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:57:47.097 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:57:47.097 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:47.097 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:47.097 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:57:47.102 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:57:47.105 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:47.105 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 12:57:47.105 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:47.105 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:57:47.106 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:57:47.106 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:57:47.106 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:57:47.106 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:57:47.106 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 19.9219ms
2022-12-07 12:57:47.106 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:57:47.106 -03:00 [DBG] Connection id "0HMMODE7GPNO8" completed keep alive response.
2022-12-07 12:57:47.106 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:57:47.106 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:57:47.107 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:57:47.107 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 21.4374ms
2022-12-07 12:57:58.996 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 12:57:59.001 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 12:57:59.001 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 12:57:59.002 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:57:59.002 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:57:59.002 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:57:59.002 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:57:59.007 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 12:57:59.008 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:57:59.008 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:57:59.008 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:57:59.008 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:57:59.008 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:57:59.008 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:57:59.009 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 12:57:59.009 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 12:57:59.010 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 12:57:59.010 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:57:59.010 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 12:57:59.011 -03:00 [DBG] Connection id "0HMMODE7GPNO8", Request id "0HMMODE7GPNO8:00000004": started reading request body.
2022-12-07 12:57:59.011 -03:00 [DBG] Connection id "0HMMODE7GPNO8", Request id "0HMMODE7GPNO8:00000004": done reading request body.
2022-12-07 12:57:59.020 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:57:59.021 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:57:59.021 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 12:57:59.026 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 12:57:59.028 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 12:57:59.032 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 12:57:59.032 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:57:59.033 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 12:57:59.033 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 12:57:59.033 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 12:57:59.096 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 88.2095ms
2022-12-07 12:57:59.096 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 12:57:59.097 -03:00 [DBG] Connection id "0HMMODE7GPNO8" completed keep alive response.
2022-12-07 12:57:59.097 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 101.1607ms
2022-12-07 12:58:58.808 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 12:58:59.611 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 12:58:59.612 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 12:59:00.141 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:59:00.169 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:59:00.246 -03:00 [DBG] Created DbConnection. (70ms).
2022-12-07 12:59:00.254 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:01.878 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:01.885 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 12:59:01.896 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-07 12:59:01.899 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2022-12-07 12:59:01.907 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:59:01.944 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 12:59:01.948 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:01.961 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-07 12:59:01.966 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 12:59:01.966 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:59:01.966 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 12:59:01.966 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:01.967 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:01.968 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:59:01.988 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 12:59:01.989 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:01.990 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:59:02.014 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:59:02.014 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:59:02.014 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:59:02.014 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.014 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.015 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:59:02.019 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 12:59:02.026 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.029 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 7ms reading results.
2022-12-07 12:59:02.030 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.030 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:59:02.083 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 12:59:02.363 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 12:59:02.396 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:59:02.396 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:59:02.396 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:59:02.396 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.396 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.396 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:59:02.399 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 12:59:02.402 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.402 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 12:59:02.402 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.402 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 12:59:02.404 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:59:02.408 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:02.411 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2022-12-07 12:59:02.539 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 12:59:02.617 -03:00 [DBG] Hosting starting
2022-12-07 12:59:02.650 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 12:59:02.652 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 12:59:02.659 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 12:59:02.669 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 12:59:02.671 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:59:02.671 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 12:59:02.672 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 12:59:02.672 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 12:59:02.677 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 12:59:02.681 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 12:59:02.681 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 12:59:02.885 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 12:59:02.961 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 12:59:02.962 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 12:59:02.962 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 12:59:02.962 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 12:59:02.962 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 12:59:02.962 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 12:59:02.963 -03:00 [INF] Hosting environment: Development
2022-12-07 12:59:02.963 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 12:59:02.963 -03:00 [DBG] Hosting started
2022-12-07 12:59:03.091 -03:00 [DBG] Connection id "0HMMODFR3VSD6" accepted.
2022-12-07 12:59:03.094 -03:00 [DBG] Connection id "0HMMODFR3VSD6" received FIN.
2022-12-07 12:59:03.094 -03:00 [DBG] Connection id "0HMMODFR3VSD6" started.
2022-12-07 12:59:03.126 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 12:59:03.173 -03:00 [DBG] Connection id "0HMMODFR3VSD6" stopped.
2022-12-07 12:59:03.176 -03:00 [DBG] Connection id "0HMMODFR3VSD6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 12:59:03.226 -03:00 [DBG] Connection id "0HMMODFR3VSD7" accepted.
2022-12-07 12:59:03.227 -03:00 [DBG] Connection id "0HMMODFR3VSD7" started.
2022-12-07 12:59:03.290 -03:00 [DBG] Connection 0HMMODFR3VSD7 established using the following protocol: "Tls12"
2022-12-07 12:59:03.363 -03:00 [DBG] Connection id "0HMMODFR3VSD8" accepted.
2022-12-07 12:59:03.364 -03:00 [DBG] Connection id "0HMMODFR3VSD8" started.
2022-12-07 12:59:03.383 -03:00 [DBG] Connection 0HMMODFR3VSD8 established using the following protocol: "Tls12"
2022-12-07 12:59:03.418 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 12:59:03.434 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 12:59:03.435 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 12:59:03.472 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 12:59:03.472 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:59:03.481 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 12:59:03.484 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 12:59:03.488 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:59:03.499 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 12:59:03.602 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 12:59:03.604 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:59:03.637 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 12:59:03.638 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 12:59:03.638 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 12:59:03.638 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 12:59:03.638 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 12:59:03.638 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 12:59:03.638 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:59:03.644 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 12:59:03.766 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 12:59:03.782 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:59:03.784 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:59:03.784 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.784 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.784 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.785 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:59:03.786 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.787 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 12:59:03.787 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 12:59:03.787 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 12:59:03.787 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:59:03.787 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 12:59:03.787 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 12:59:03.788 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 12:59:03.788 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:59:03.788 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:59:03.788 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.788 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.788 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.788 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:59:03.788 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.788 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:59:03.788 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 12:59:03.788 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.788 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.788 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.789 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 12:59:03.789 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 12:59:03.795 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 12:59:03.798 -03:00 [INF] Retornando todas as vilas.
2022-12-07 12:59:03.816 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 12:59:03.889 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 12:59:03.912 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 12:59:03.912 -03:00 [DBG] Creating DbConnection.
2022-12-07 12:59:03.912 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 12:59:03.912 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:59:03.912 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 12:59:03.918 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:03.922 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:03.923 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:59:03.928 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 12:59:03.934 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 498.8786ms
2022-12-07 12:59:03.959 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 12:59:03.959 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 12:59:03.970 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 12:59:03.971 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 12.0429ms
2022-12-07 12:59:04.021 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:04.021 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 50ms reading results.
2022-12-07 12:59:04.027 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:04.029 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 12:59:04.032 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 72.2918ms
2022-12-07 12:59:04.073 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 12:59:04.079 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 12:59:04.081 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 12:59:04.081 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 12:59:04.140 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 12:59:04.140 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 12:59:04.141 -03:00 [DBG] Request did not match any endpoints
2022-12-07 12:59:04.288 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 646.3778ms
2022-12-07 12:59:04.289 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 12:59:04.291 -03:00 [DBG] Connection id "0HMMODFR3VSD7" completed keep alive response.
2022-12-07 12:59:04.296 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 12:59:04.302 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 12:59:04.303 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 12:59:04.303 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 889.4397ms
2022-12-07 12:59:04.383 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 242.6879ms
2022-12-07 13:00:14.532 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:00:15.592 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:00:15.593 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:00:16.132 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:00:16.166 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:00:16.255 -03:00 [DBG] Created DbConnection. (87ms).
2022-12-07 13:00:16.264 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.848 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.859 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:00:17.870 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-07 13:00:17.873 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (17ms).
2022-12-07 13:00:17.882 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:00:17.919 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:00:17.922 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.936 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 13:00:17.943 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:00:17.943 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:00:17.944 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:00:17.944 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.945 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.947 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:00:17.973 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:00:17.973 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.974 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:00:17.995 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:00:17.995 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:00:17.995 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:00:17.995 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.995 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:17.997 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:00:18.006 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:00:18.014 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:18.019 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 8ms reading results.
2022-12-07 13:00:18.020 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:18.020 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:00:18.100 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:00:18.519 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:00:18.571 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:00:18.571 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:00:18.571 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:00:18.571 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:18.571 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:18.572 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:00:18.574 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:00:18.579 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:18.579 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 13:00:18.579 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:18.579 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:00:18.584 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:00:18.590 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:18.592 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:00:18.744 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:00:18.891 -03:00 [DBG] Hosting starting
2022-12-07 13:00:18.945 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:00:18.953 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:00:18.964 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:00:18.981 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:00:18.987 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:00:18.988 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:00:18.990 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:00:18.992 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:00:18.996 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:00:19.003 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:00:19.004 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:00:19.252 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:00:19.344 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:00:19.345 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:00:19.345 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:00:19.345 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:00:19.345 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:00:19.345 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:00:19.346 -03:00 [INF] Hosting environment: Development
2022-12-07 13:00:19.346 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:00:19.346 -03:00 [DBG] Hosting started
2022-12-07 13:00:19.596 -03:00 [DBG] Connection id "0HMMODGHTEIMT" accepted.
2022-12-07 13:00:19.596 -03:00 [DBG] Connection id "0HMMODGHTEIMU" accepted.
2022-12-07 13:00:19.598 -03:00 [DBG] Connection id "0HMMODGHTEIMU" started.
2022-12-07 13:00:19.598 -03:00 [DBG] Connection id "0HMMODGHTEIMT" started.
2022-12-07 13:00:19.598 -03:00 [DBG] Connection id "0HMMODGHTEIMT" received FIN.
2022-12-07 13:00:19.598 -03:00 [DBG] Connection id "0HMMODGHTEIMU" received FIN.
2022-12-07 13:00:19.637 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:00:19.637 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:00:19.674 -03:00 [DBG] Connection id "0HMMODGHTEIMT" stopped.
2022-12-07 13:00:19.674 -03:00 [DBG] Connection id "0HMMODGHTEIMU" stopped.
2022-12-07 13:00:19.677 -03:00 [DBG] Connection id "0HMMODGHTEIMU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:00:19.677 -03:00 [DBG] Connection id "0HMMODGHTEIMT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:00:19.743 -03:00 [DBG] Connection id "0HMMODGHTEIMV" accepted.
2022-12-07 13:00:19.743 -03:00 [DBG] Connection id "0HMMODGHTEIMV" started.
2022-12-07 13:00:19.816 -03:00 [DBG] Connection 0HMMODGHTEIMV established using the following protocol: "Tls12"
2022-12-07 13:00:19.858 -03:00 [DBG] Connection id "0HMMODGHTEIN0" accepted.
2022-12-07 13:00:19.858 -03:00 [DBG] Connection id "0HMMODGHTEIN0" started.
2022-12-07 13:00:19.891 -03:00 [DBG] Connection 0HMMODGHTEIN0 established using the following protocol: "Tls12"
2022-12-07 13:00:19.956 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:00:19.956 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:00:19.976 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:00:20.021 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:00:20.021 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:00:20.028 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:00:20.033 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:00:20.040 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:00:20.050 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:00:20.162 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:00:20.165 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:00:20.231 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:00:20.233 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:00:20.233 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:00:20.234 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:00:20.234 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:00:20.234 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:00:20.237 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:00:20.256 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:00:20.563 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:00:20.594 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:00:20.601 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:00:20.603 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.603 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.603 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.604 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:00:20.608 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.608 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:00:20.613 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:00:20.613 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:00:20.613 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:00:20.613 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:00:20.613 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:00:20.613 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:00:20.614 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:00:20.614 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:00:20.614 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:00:20.614 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.614 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.614 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.614 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:00:20.615 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.615 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:00:20.615 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:00:20.615 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.615 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.615 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.615 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:00:20.615 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:00:20.629 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:00:20.674 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:00:20.838 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:00:20.896 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:00:20.896 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:00:20.897 -03:00 [DBG] Created DbConnection. (1ms).
2022-12-07 13:00:20.898 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:00:20.898 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2022-12-07 13:00:20.918 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:20.933 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:20.936 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:00:20.942 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:00:20.952 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 1000.4586ms
2022-12-07 13:00:20.970 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:00:20.983 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 12.5351ms
2022-12-07 13:00:20.996 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:00:21.024 -03:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:00:21.087 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 91.3915ms
2022-12-07 13:00:21.092 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:21.093 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 68ms reading results.
2022-12-07 13:00:21.103 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:21.105 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 13:00:21.217 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:00:21.230 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:00:21.233 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:00:21.233 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:00:21.264 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:00:21.265 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:00:21.265 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:00:21.658 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1409.5079ms
2022-12-07 13:00:21.663 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:00:21.668 -03:00 [DBG] Connection id "0HMMODGHTEIMV" completed keep alive response.
2022-12-07 13:00:21.676 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:00:21.697 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:00:21.700 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:00:21.700 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1750.3815ms
2022-12-07 13:00:21.814 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 549.3798ms
2022-12-07 13:00:39.951 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:00:39.954 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:00:39.954 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:00:39.954 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:00:39.954 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:00:39.955 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:00:39.955 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:00:39.962 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:00:39.962 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:00:39.962 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:00:39.962 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:00:39.962 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:00:39.962 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:00:39.962 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:00:39.981 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:00:39.981 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:00:39.984 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:00:39.985 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:00:39.985 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:00:40.002 -03:00 [DBG] Connection id "0HMMODGHTEIMV", Request id "0HMMODGHTEIMV:00000003": started reading request body.
2022-12-07 13:00:40.003 -03:00 [DBG] Connection id "0HMMODGHTEIMV", Request id "0HMMODGHTEIMV:00000003": done reading request body.
2022-12-07 13:00:40.107 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:00:40.107 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:00:40.107 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:00:40.125 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:00:40.127 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:00:40.131 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:00:40.131 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:00:40.132 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:00:40.132 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:00:40.132 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:00:40.192 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 229.7653ms
2022-12-07 13:00:40.193 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:00:40.193 -03:00 [DBG] Connection id "0HMMODGHTEIMV" completed keep alive response.
2022-12-07 13:00:40.194 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 243.9850ms
2022-12-07 13:01:26.239 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:01:27.013 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:01:27.014 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:01:27.539 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:01:27.581 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:01:27.683 -03:00 [DBG] Created DbConnection. (95ms).
2022-12-07 13:01:27.706 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.312 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.325 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:01:29.334 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-07 13:01:29.336 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2022-12-07 13:01:29.343 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:01:29.381 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:01:29.385 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.398 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-07 13:01:29.403 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:01:29.403 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:01:29.403 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:01:29.403 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.404 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.405 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:01:29.430 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:01:29.430 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.431 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:01:29.443 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:01:29.443 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:01:29.443 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:01:29.443 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.443 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.444 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:01:29.451 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:01:29.458 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.462 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 6ms reading results.
2022-12-07 13:01:29.463 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.463 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:01:29.519 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:01:29.755 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:01:29.801 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:01:29.801 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:01:29.801 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:01:29.801 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.801 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.801 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:01:29.804 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:01:29.807 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.807 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 13:01:29.807 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.807 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:01:29.809 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:01:29.812 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:29.815 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:01:29.958 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:01:30.050 -03:00 [DBG] Hosting starting
2022-12-07 13:01:30.082 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:01:30.086 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:01:30.092 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:01:30.100 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:01:30.103 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:01:30.103 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:01:30.104 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:01:30.104 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:01:30.107 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:01:30.110 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:01:30.111 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:01:30.304 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:01:30.339 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:01:30.340 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:01:30.340 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:01:30.340 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:01:30.340 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:01:30.340 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:01:30.341 -03:00 [INF] Hosting environment: Development
2022-12-07 13:01:30.341 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:01:30.341 -03:00 [DBG] Hosting started
2022-12-07 13:01:30.728 -03:00 [DBG] Connection id "0HMMODH741I20" received FIN.
2022-12-07 13:01:30.728 -03:00 [DBG] Connection id "0HMMODH741I1V" received FIN.
2022-12-07 13:01:30.741 -03:00 [DBG] Connection id "0HMMODH741I20" accepted.
2022-12-07 13:01:30.741 -03:00 [DBG] Connection id "0HMMODH741I1V" accepted.
2022-12-07 13:01:30.742 -03:00 [DBG] Connection id "0HMMODH741I1V" started.
2022-12-07 13:01:30.742 -03:00 [DBG] Connection id "0HMMODH741I20" started.
2022-12-07 13:01:30.759 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:01:30.759 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:01:30.792 -03:00 [DBG] Connection id "0HMMODH741I20" stopped.
2022-12-07 13:01:30.792 -03:00 [DBG] Connection id "0HMMODH741I1V" stopped.
2022-12-07 13:01:30.795 -03:00 [DBG] Connection id "0HMMODH741I20" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:01:30.795 -03:00 [DBG] Connection id "0HMMODH741I1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:01:30.801 -03:00 [DBG] Connection id "0HMMODH741I21" accepted.
2022-12-07 13:01:30.801 -03:00 [DBG] Connection id "0HMMODH741I21" started.
2022-12-07 13:01:30.848 -03:00 [DBG] Connection 0HMMODH741I21 established using the following protocol: "Tls12"
2022-12-07 13:01:30.908 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:01:30.941 -03:00 [DBG] Connection id "0HMMODH741I22" accepted.
2022-12-07 13:01:30.941 -03:00 [DBG] Connection id "0HMMODH741I22" started.
2022-12-07 13:01:30.957 -03:00 [DBG] Connection 0HMMODH741I22 established using the following protocol: "Tls12"
2022-12-07 13:01:30.960 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:01:30.994 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:01:31.008 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:01:31.012 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:01:31.020 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:01:31.021 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:01:31.021 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:01:31.048 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:01:31.144 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:01:31.146 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:01:31.183 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:01:31.184 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:01:31.184 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:01:31.185 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:01:31.185 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:01:31.185 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:01:31.186 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:01:31.204 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:01:31.337 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:01:31.353 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:01:31.354 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:01:31.355 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:01:31.356 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.356 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.356 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.356 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:01:31.357 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.359 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:01:31.359 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:01:31.359 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:01:31.359 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:01:31.359 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:01:31.359 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:01:31.362 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:01:31.362 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:01:31.362 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:01:31.362 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.362 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.362 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.362 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:01:31.362 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.362 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:01:31.362 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:01:31.363 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.363 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.363 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.363 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:01:31.363 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:01:31.370 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:01:31.393 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:01:31.453 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:01:31.470 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:01:31.470 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:01:31.470 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:01:31.470 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:01:31.470 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:01:31.476 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:31.482 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:31.483 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:01:31.495 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:01:31.502 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 506.5854ms
2022-12-07 13:01:31.525 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:01:31.525 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:01:31.528 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:01:31.540 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 14.2463ms
2022-12-07 13:01:31.569 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:31.569 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 40ms reading results.
2022-12-07 13:01:31.575 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:31.577 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 13:01:31.592 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.7848ms
2022-12-07 13:01:31.631 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:01:31.638 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:01:31.639 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:01:31.639 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:01:31.689 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:01:31.689 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:01:31.689 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:01:31.818 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 627.8288ms
2022-12-07 13:01:31.820 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:01:31.822 -03:00 [DBG] Connection id "0HMMODH741I21" completed keep alive response.
2022-12-07 13:01:31.825 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:01:31.835 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:01:31.836 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:01:31.836 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 934.9607ms
2022-12-07 13:01:31.910 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 221.0668ms
2022-12-07 13:01:42.803 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66
2022-12-07 13:01:42.806 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:01:42.806 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:01:42.806 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:01:42.806 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:01:42.807 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:01:42.807 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:01:42.813 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:01:42.814 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:01:42.814 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:01:42.814 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:01:42.814 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:01:42.814 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:01:42.814 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:01:42.831 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:01:42.832 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:01:42.834 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:01:42.835 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:01:42.835 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:01:42.854 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000003": started reading request body.
2022-12-07 13:01:42.854 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000003": done reading request body.
2022-12-07 13:01:42.956 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:01:42.956 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:01:42.956 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:01:42.973 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:01:42.974 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:01:42.975 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:01:42.975 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:01:42.976 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:01:42.976 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:01:42.976 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:01:43.038 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 223.7127ms
2022-12-07 13:01:43.038 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:01:43.038 -03:00 [DBG] Connection id "0HMMODH741I21" completed keep alive response.
2022-12-07 13:01:43.039 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66 - 400 241 application/problem+json;+charset=utf-8 236.3404ms
2022-12-07 13:01:51.813 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66
2022-12-07 13:01:51.814 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:01:51.815 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:01:51.815 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:01:51.815 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:01:51.818 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:01:51.818 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:01:51.818 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:01:51.819 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:01:51.819 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:01:51.819 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:01:51.819 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:01:51.819 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:01:51.819 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:01:51.819 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:01:51.819 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:01:51.820 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:01:51.820 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:01:51.820 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:01:51.820 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000004": started reading request body.
2022-12-07 13:01:51.820 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000004": done reading request body.
2022-12-07 13:01:51.820 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:01:51.820 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:01:51.820 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:01:51.821 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:01:51.821 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:01:51.821 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:01:51.821 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:01:51.821 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:01:51.821 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:01:51.821 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:01:51.821 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 2.5677ms
2022-12-07 13:01:51.822 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:01:51.822 -03:00 [DBG] Connection id "0HMMODH741I21" completed keep alive response.
2022-12-07 13:01:51.822 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66 - 400 241 application/problem+json;+charset=utf-8 8.9353ms
2022-12-07 13:02:27.627 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66
2022-12-07 13:02:27.627 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:02:27.627 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:02:27.627 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:02:27.628 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:02:27.628 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:02:27.628 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:02:27.628 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:02:27.628 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:02:27.628 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:02:27.628 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:02:27.628 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:02:27.628 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:02:27.628 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:02:27.648 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:02:27.648 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:02:27.648 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:02:27.648 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:02:27.648 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:02:27.648 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000005": started reading request body.
2022-12-07 13:02:27.648 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000005": done reading request body.
2022-12-07 13:02:27.648 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:02:27.648 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:02:27.648 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:02:27.649 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:02:27.649 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:02:27.649 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:02:27.649 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:02:27.649 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:02:27.649 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:02:27.649 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:02:27.649 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 20.8101ms
2022-12-07 13:02:27.649 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:02:27.649 -03:00 [DBG] Connection id "0HMMODH741I21" completed keep alive response.
2022-12-07 13:02:27.649 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66 - 400 241 application/problem+json;+charset=utf-8 25.6119ms
2022-12-07 13:03:10.569 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66
2022-12-07 13:03:10.571 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:03:10.573 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:03:10.573 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:03:10.573 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:03:10.574 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:03:10.574 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:03:10.574 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:03:10.574 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:03:10.574 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:03:10.574 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:03:10.574 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:03:10.575 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:03:10.575 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:03:10.575 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:03:10.575 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:03:10.575 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:03:10.575 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:03:10.575 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:03:10.575 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000006": started reading request body.
2022-12-07 13:03:10.575 -03:00 [DBG] Connection id "0HMMODH741I21", Request id "0HMMODH741I21:00000006": done reading request body.
2022-12-07 13:03:10.575 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:03:10.575 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:03:10.575 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:03:10.575 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:03:10.575 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:03:10.576 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:03:10.576 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:03:10.576 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:03:10.576 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:03:10.576 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:03:10.576 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 1.4338ms
2022-12-07 13:03:10.576 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:03:10.576 -03:00 [DBG] Connection id "0HMMODH741I21" completed keep alive response.
2022-12-07 13:03:10.576 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66 - 400 241 application/problem+json;+charset=utf-8 7.7621ms
2022-12-07 13:03:49.031 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:03:49.965 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:03:49.967 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:03:54.755 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:03:54.776 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:03:54.837 -03:00 [DBG] Created DbConnection. (58ms).
2022-12-07 13:03:54.845 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.350 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.378 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:03:56.400 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (20ms).
2022-12-07 13:03:56.408 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (39ms).
2022-12-07 13:03:56.430 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:03:56.525 -03:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:03:56.535 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.566 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (21ms).
2022-12-07 13:03:56.581 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:03:56.581 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:03:56.581 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:03:56.581 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.584 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.587 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:03:56.649 -03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:03:56.649 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.651 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 13:03:56.708 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:03:56.708 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:03:56.708 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:03:56.708 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.708 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.712 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:03:56.723 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:03:56.736 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.742 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 11ms reading results.
2022-12-07 13:03:56.743 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:56.743 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:03:56.896 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:03:57.591 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:03:57.690 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:03:57.691 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:03:57.691 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:03:57.691 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:57.691 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:57.692 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:03:57.696 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:03:57.704 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:57.704 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 8ms reading results.
2022-12-07 13:03:57.704 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:57.704 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:03:57.711 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:03:57.719 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:03:57.726 -03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2022-12-07 13:03:57.938 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:03:58.136 -03:00 [DBG] Hosting starting
2022-12-07 13:03:58.187 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:03:58.197 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:03:58.215 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:03:58.237 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:03:58.246 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:03:58.247 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:03:58.251 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:03:58.253 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:03:58.262 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:03:58.271 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:03:58.272 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:03:58.511 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:03:58.592 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:03:58.593 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:03:58.593 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:03:58.593 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:03:58.593 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:03:58.594 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:03:58.594 -03:00 [INF] Hosting environment: Development
2022-12-07 13:03:58.594 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:03:58.594 -03:00 [DBG] Hosting started
2022-12-07 13:03:58.702 -03:00 [DBG] Connection id "0HMMODIJ75EU0" received FIN.
2022-12-07 13:03:58.702 -03:00 [DBG] Connection id "0HMMODIJ75EU0" accepted.
2022-12-07 13:03:58.704 -03:00 [DBG] Connection id "0HMMODIJ75EU0" started.
2022-12-07 13:03:58.731 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:03:58.765 -03:00 [DBG] Connection id "0HMMODIJ75EU1" accepted.
2022-12-07 13:03:58.768 -03:00 [DBG] Connection id "0HMMODIJ75EU1" started.
2022-12-07 13:03:58.777 -03:00 [DBG] Connection id "0HMMODIJ75EU0" stopped.
2022-12-07 13:03:58.781 -03:00 [DBG] Connection id "0HMMODIJ75EU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:03:58.833 -03:00 [DBG] Connection 0HMMODIJ75EU1 established using the following protocol: "Tls12"
2022-12-07 13:03:58.919 -03:00 [DBG] Connection id "0HMMODIJ75EU2" accepted.
2022-12-07 13:03:58.919 -03:00 [DBG] Connection id "0HMMODIJ75EU2" started.
2022-12-07 13:03:58.928 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:03:58.941 -03:00 [DBG] Connection 0HMMODIJ75EU2 established using the following protocol: "Tls12"
2022-12-07 13:03:58.967 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:03:59.001 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:03:59.047 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:03:59.049 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:03:59.050 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:03:59.056 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:03:59.069 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:03:59.101 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:03:59.253 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:03:59.261 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:03:59.347 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:03:59.349 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:03:59.349 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:03:59.350 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:03:59.350 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:03:59.350 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:03:59.352 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:03:59.368 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:03:59.679 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:03:59.703 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:03:59.706 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:03:59.707 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.707 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.707 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.707 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:03:59.709 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.714 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:03:59.714 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:03:59.715 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:03:59.715 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:03:59.715 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:03:59.715 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:03:59.715 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:03:59.716 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:03:59.716 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:03:59.716 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.716 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.716 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.716 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:03:59.716 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.716 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:03:59.716 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:03:59.716 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.716 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.716 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.716 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:03:59.716 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:03:59.726 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:03:59.746 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:03:59.770 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:03:59.914 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:03:59.973 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:03:59.973 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:03:59.974 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:03:59.974 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:03:59.974 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:03:59.996 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:04:00.017 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:04:00.020 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:04:00.087 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:04:00.089 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:04:00.103 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 1100.9293ms
2022-12-07 13:04:00.118 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:04:00.118 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:04:00.133 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 14.8843ms
2022-12-07 13:04:00.156 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:04:00.156 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 68ms reading results.
2022-12-07 13:04:00.166 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:04:00.169 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (3ms).
2022-12-07 13:04:00.198 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 80.1143ms
2022-12-07 13:04:00.271 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:04:00.282 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:04:00.284 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:04:00.285 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:04:00.343 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:04:00.343 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:04:00.344 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:04:00.651 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1290.9302ms
2022-12-07 13:04:00.654 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:04:00.657 -03:00 [DBG] Connection id "0HMMODIJ75EU1" completed keep alive response.
2022-12-07 13:04:00.664 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:04:00.682 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:04:00.684 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:04:00.685 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1778.3777ms
2022-12-07 13:04:00.817 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 473.5711ms
2022-12-07 13:04:08.075 -03:00 [DBG] Connection id "0HMMODIJ75EU1" received FIN.
2022-12-07 13:13:51.616 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:13:52.415 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:13:52.416 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:13:58.259 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:13:58.311 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:13:58.440 -03:00 [DBG] Created DbConnection. (124ms).
2022-12-07 13:13:58.464 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.205 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.228 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:14:00.250 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (19ms).
2022-12-07 13:14:00.259 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (38ms).
2022-12-07 13:14:00.280 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:14:00.371 -03:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:14:00.379 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.410 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (21ms).
2022-12-07 13:14:00.423 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:14:00.424 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:14:00.424 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:14:00.424 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.428 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.431 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:14:00.500 -03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:14:00.500 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.502 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 13:14:00.546 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:14:00.546 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:14:00.546 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:14:00.546 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.547 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.550 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:14:00.562 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:14:00.577 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.582 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 14ms reading results.
2022-12-07 13:14:00.582 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:00.583 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:14:00.737 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:14:01.418 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:14:01.513 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:14:01.513 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:14:01.513 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:14:01.513 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:01.514 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:01.514 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:14:01.518 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:14:01.526 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:01.527 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 8ms reading results.
2022-12-07 13:14:01.527 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:01.527 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:14:01.533 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:14:01.540 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:14:01.545 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2022-12-07 13:14:01.728 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:14:01.912 -03:00 [DBG] Hosting starting
2022-12-07 13:14:01.954 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:14:01.961 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:14:01.980 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:14:02.008 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:14:02.017 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:14:02.018 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:14:02.021 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:14:02.024 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:14:02.035 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:14:02.050 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:14:02.051 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:14:02.348 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:14:02.410 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:14:02.410 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:14:02.410 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:14:02.410 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:14:02.410 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:14:02.411 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:14:02.411 -03:00 [INF] Hosting environment: Development
2022-12-07 13:14:02.411 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:14:02.411 -03:00 [DBG] Hosting started
2022-12-07 13:14:02.554 -03:00 [DBG] Connection id "0HMMODO75UTAM" accepted.
2022-12-07 13:14:02.554 -03:00 [DBG] Connection id "0HMMODO75UTAL" accepted.
2022-12-07 13:14:02.559 -03:00 [DBG] Connection id "0HMMODO75UTAL" started.
2022-12-07 13:14:02.559 -03:00 [DBG] Connection id "0HMMODO75UTAM" started.
2022-12-07 13:14:02.568 -03:00 [DBG] Connection id "0HMMODO75UTAM" received FIN.
2022-12-07 13:14:02.568 -03:00 [DBG] Connection id "0HMMODO75UTAL" received FIN.
2022-12-07 13:14:02.596 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:14:02.596 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:14:02.631 -03:00 [DBG] Connection id "0HMMODO75UTAL" stopped.
2022-12-07 13:14:02.631 -03:00 [DBG] Connection id "0HMMODO75UTAM" stopped.
2022-12-07 13:14:02.633 -03:00 [DBG] Connection id "0HMMODO75UTAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:14:02.633 -03:00 [DBG] Connection id "0HMMODO75UTAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:14:02.749 -03:00 [DBG] Connection id "0HMMODO75UTAN" accepted.
2022-12-07 13:14:02.749 -03:00 [DBG] Connection id "0HMMODO75UTAN" started.
2022-12-07 13:14:02.834 -03:00 [DBG] Connection 0HMMODO75UTAN established using the following protocol: "Tls12"
2022-12-07 13:14:02.929 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:14:03.024 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:14:03.109 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:14:03.109 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:14:03.751 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:14:04.066 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:14:04.082 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 1160.9833ms
2022-12-07 13:14:04.127 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:14:04.127 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:14:04.144 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 17.6845ms
2022-12-07 13:14:04.208 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.5432ms
2022-12-07 13:14:04.327 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:14:04.327 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:14:04.327 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:14:04.845 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 517.2580ms
2022-12-07 13:17:01.888 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:17:02.592 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:17:02.593 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:17:03.021 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:17:03.046 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:17:03.123 -03:00 [DBG] Created DbConnection. (69ms).
2022-12-07 13:17:03.136 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.643 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.654 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:17:04.661 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2022-12-07 13:17:04.663 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2022-12-07 13:17:04.672 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:17:04.706 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:17:04.710 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.721 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-07 13:17:04.725 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:17:04.725 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:17:04.725 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:17:04.725 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.726 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.727 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:17:04.751 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:17:04.751 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.752 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:17:04.765 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:17:04.765 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:17:04.765 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:17:04.765 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.765 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.767 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:17:04.772 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:17:04.778 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.780 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 13:17:04.780 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:04.780 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:17:04.836 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:17:05.071 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:17:05.106 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:17:05.106 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:17:05.107 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:17:05.107 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:05.107 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:05.107 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:17:05.111 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:17:05.114 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:05.114 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 13:17:05.114 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:05.114 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:17:05.117 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:17:05.121 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:05.124 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:17:05.248 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:17:05.330 -03:00 [DBG] Hosting starting
2022-12-07 13:17:05.361 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:17:05.364 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:17:05.373 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:17:05.382 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:17:05.389 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:17:05.389 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:17:05.391 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:17:05.393 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:17:05.397 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:17:05.402 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:17:05.403 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:17:05.589 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:17:05.641 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:17:05.641 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:17:05.641 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:17:05.641 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:17:05.641 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:17:05.642 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:17:05.642 -03:00 [INF] Hosting environment: Development
2022-12-07 13:17:05.642 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:17:05.642 -03:00 [DBG] Hosting started
2022-12-07 13:17:05.847 -03:00 [DBG] Connection id "0HMMODPTQ06L1" accepted.
2022-12-07 13:17:05.848 -03:00 [DBG] Connection id "0HMMODPTQ06L1" started.
2022-12-07 13:17:05.914 -03:00 [DBG] Connection id "0HMMODPTQ06L2" accepted.
2022-12-07 13:17:05.914 -03:00 [DBG] Connection id "0HMMODPTQ06L2" started.
2022-12-07 13:17:05.932 -03:00 [DBG] Connection 0HMMODPTQ06L1 established using the following protocol: "Tls12"
2022-12-07 13:17:05.944 -03:00 [DBG] Connection id "0HMMODPTQ06L2" received FIN.
2022-12-07 13:17:05.948 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:17:05.987 -03:00 [DBG] Connection id "0HMMODPTQ06L2" stopped.
2022-12-07 13:17:05.989 -03:00 [DBG] Connection id "0HMMODPTQ06L2" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:17:06.001 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:17:06.025 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:17:06.072 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:17:06.076 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:17:06.083 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:17:06.119 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:17:06.200 -03:00 [DBG] Connection id "0HMMODPTQ06L3" accepted.
2022-12-07 13:17:06.200 -03:00 [DBG] Connection id "0HMMODPTQ06L3" started.
2022-12-07 13:17:06.222 -03:00 [DBG] Connection 0HMMODPTQ06L3 established using the following protocol: "Tls12"
2022-12-07 13:17:06.282 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:17:06.288 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:17:06.289 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:17:06.313 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:17:06.313 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:17:06.330 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:17:06.330 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:17:06.330 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:17:06.331 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:17:06.331 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:17:06.331 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:06.331 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:17:06.344 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:17:06.461 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:17:06.478 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:17:06.479 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:17:06.479 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.480 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.480 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.480 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:17:06.480 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.481 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:17:06.481 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:17:06.481 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:17:06.482 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:17:06.482 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:17:06.482 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:17:06.482 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.482 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.482 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:17:06.482 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:17:06.482 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.482 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:17:06.482 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:17:06.488 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:17:06.502 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:17:06.531 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:17:06.555 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:17:06.593 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:17:06.593 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:17:06.594 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:17:06.594 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:17:06.594 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:17:06.601 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:06.608 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:06.610 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:17:06.642 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:17:06.671 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:06.671 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 28ms reading results.
2022-12-07 13:17:06.678 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:06.679 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 13:17:06.723 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:17:06.728 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:17:06.729 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:17:06.729 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:17:06.834 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:17:06.840 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 550.8253ms
2022-12-07 13:17:06.867 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:17:06.867 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:17:06.883 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 16.0831ms
2022-12-07 13:17:06.940 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 73.2678ms
2022-12-07 13:17:06.974 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 637.0978ms
2022-12-07 13:17:06.976 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:17:06.978 -03:00 [DBG] Connection id "0HMMODPTQ06L1" completed keep alive response.
2022-12-07 13:17:06.981 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:17:06.987 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:17:06.989 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 13:17:06.990 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 993.0173ms
2022-12-07 13:17:07.053 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:17:07.053 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:17:07.053 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:17:07.266 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 213.6175ms
2022-12-07 13:17:20.456 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:17:20.457 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:20.458 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:20.458 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:20.458 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:17:20.459 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:17:20.459 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:20.464 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:17:20.465 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:17:20.465 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:17:20.465 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:20.465 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:17:20.465 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:20.465 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:20.480 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:20.481 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:20.483 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:17:20.484 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:20.484 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:20.500 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000003": started reading request body.
2022-12-07 13:17:20.501 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000003": done reading request body.
2022-12-07 13:17:20.595 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:20.596 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:20.596 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:20.610 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:20.611 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:17:20.612 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:17:20.613 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:17:20.613 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:17:20.614 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:17:20.614 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:17:20.665 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 200.169ms
2022-12-07 13:17:20.665 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:20.665 -03:00 [DBG] Connection id "0HMMODPTQ06L1" completed keep alive response.
2022-12-07 13:17:20.667 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 210.9656ms
2022-12-07 13:17:44.603 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:17:44.605 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:44.606 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:44.606 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:44.606 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:17:44.609 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:17:44.610 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:44.610 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:17:44.611 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:17:44.611 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:17:44.611 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:44.611 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:17:44.611 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:44.611 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:44.612 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:44.612 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:44.613 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:17:44.613 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:44.613 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:44.614 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000004": started reading request body.
2022-12-07 13:17:44.614 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000004": done reading request body.
2022-12-07 13:17:44.614 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:44.614 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:44.614 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:44.615 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:44.615 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:17:44.615 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:17:44.615 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:17:44.615 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:17:44.615 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:17:44.615 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:17:44.616 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 4.7496ms
2022-12-07 13:17:44.616 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:44.616 -03:00 [DBG] Connection id "0HMMODPTQ06L1" completed keep alive response.
2022-12-07 13:17:44.616 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 12.5923ms
2022-12-07 13:17:47.022 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:17:47.022 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:47.022 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:47.022 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:47.022 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:17:47.022 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:17:47.022 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:47.022 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:17:47.022 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:17:47.022 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:17:47.022 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:47.023 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:17:47.023 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:47.023 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:47.042 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:47.042 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:47.042 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:17:47.043 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:47.043 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:47.043 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000005": started reading request body.
2022-12-07 13:17:47.043 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000005": done reading request body.
2022-12-07 13:17:47.043 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:47.043 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:47.043 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:47.043 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:47.043 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:17:47.043 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:17:47.044 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:17:47.044 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:17:47.044 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:17:47.044 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:17:47.044 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 21.3567ms
2022-12-07 13:17:47.044 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:47.044 -03:00 [DBG] Connection id "0HMMODPTQ06L1" completed keep alive response.
2022-12-07 13:17:47.044 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 22.5119ms
2022-12-07 13:17:47.995 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:17:47.996 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:47.996 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:47.996 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:47.997 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:17:47.997 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:17:47.997 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:47.997 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:17:47.997 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:17:47.997 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:17:47.997 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:47.997 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:17:47.998 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:47.998 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:47.999 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:47.999 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:47.999 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:17:47.999 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:47.999 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:47.999 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000006": started reading request body.
2022-12-07 13:17:48.000 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000006": done reading request body.
2022-12-07 13:17:48.000 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:48.000 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:48.000 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:48.000 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:48.000 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:17:48.001 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:17:48.001 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:17:48.001 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:17:48.001 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:17:48.001 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:17:48.001 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 3.4916ms
2022-12-07 13:17:48.001 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:48.001 -03:00 [DBG] Connection id "0HMMODPTQ06L1" completed keep alive response.
2022-12-07 13:17:48.001 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 6.5058ms
2022-12-07 13:17:55.496 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:17:55.496 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:55.496 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:17:55.497 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:55.497 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:17:55.497 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:17:55.497 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:55.498 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:17:55.498 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:17:55.498 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:17:55.498 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:55.498 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:17:55.498 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:17:55.498 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:55.499 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:17:55.500 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:55.500 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:17:55.500 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:55.500 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:17:55.500 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000007": started reading request body.
2022-12-07 13:17:55.501 -03:00 [DBG] Connection id "0HMMODPTQ06L1", Request id "0HMMODPTQ06L1:00000007": done reading request body.
2022-12-07 13:17:55.501 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:55.501 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:55.501 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:17:55.501 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:17:55.501 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:17:55.501 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:17:55.501 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:17:55.502 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:17:55.502 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:17:55.502 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:17:55.502 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 3.5154ms
2022-12-07 13:17:55.502 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:17:55.502 -03:00 [DBG] Connection id "0HMMODPTQ06L1" completed keep alive response.
2022-12-07 13:17:55.502 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 7.1021ms
2022-12-07 13:19:05.546 -03:00 [DBG] Connection id "0HMMODPTQ06L1" received FIN.
2022-12-07 13:19:05.571 -03:00 [DBG] Connection id "0HMMODPTQ06L1" disconnecting.
2022-12-07 13:19:05.572 -03:00 [DBG] Connection id "0HMMODPTQ06L1" sending FIN because: "The client closed the connection."
2022-12-07 13:19:05.576 -03:00 [DBG] Connection id "0HMMODPTQ06L1" stopped.
2022-12-07 13:19:35.713 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/register application/json-patch+json 98
2022-12-07 13:19:35.713 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:19:35.714 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:19:35.714 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:19:35.714 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:19:35.714 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:19:35.714 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:19:35.715 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:19:35.715 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:19:35.715 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:19:35.715 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:19:35.715 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:19:35.715 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:19:35.716 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:19:35.716 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:19:35.716 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:19:35.717 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:19:35.717 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 13:19:35.717 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 13:19:35.720 -03:00 [DBG] Connection id "0HMMODPTQ06L3", Request id "0HMMODPTQ06L3:00000009": started reading request body.
2022-12-07 13:19:35.720 -03:00 [DBG] Connection id "0HMMODPTQ06L3", Request id "0HMMODPTQ06L3:00000009": done reading request body.
2022-12-07 13:19:35.723 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:19:35.723 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:19:35.723 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:19:35.724 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:19:39.497 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:19:39.516 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName == __username_0)'
2022-12-07 13:19:39.622 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 13:19:39.655 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:39.655 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:19:39.655 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:19:39.655 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:39.664 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2022-12-07 13:19:39.665 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:39.665 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:39.677 -03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 13:19:39.758 -03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 13:19:39.759 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:39.762 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 13:19:39.762 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:39.762 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:41.372 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-12-07 13:19:41.380 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:19:41.384 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:41.384 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:41.384 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:41.384 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:41.384 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:41.384 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:19:41.393 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:19:41.425 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:41.425 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 32ms reading results.
2022-12-07 13:19:41.426 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:41.426 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:41.705 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:41.723 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 13:19:41.728 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 13:19:41.772 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 13:19:41.971 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:41.972 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:41.984 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:41.984 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:41.985 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:19:41.987 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 13:19:42.009 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 13:19:42.023 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.024 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 13ms reading results.
2022-12-07 13:19:42.028 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.028 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.054 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:42.061 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-07 13:19:42.084 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2022-12-07 13:19:42.092 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:19:42.093 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:42.093 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.093 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.093 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.093 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.094 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:19:42.099 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:19:42.116 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:42.127 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.127 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 27ms reading results.
2022-12-07 13:19:42.127 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.127 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.151 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2022-12-07 13:19:42.177 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:19:42.181 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:42.181 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.181 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.181 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.181 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.181 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2022-12-07 13:19:42.184 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2022-12-07 13:19:42.184 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.184 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:19:42.185 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.185 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.199 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:42.199 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.200 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.200 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.200 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.200 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:19:42.202 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:19:42.202 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.202 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:19:42.202 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.203 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.232 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:42.238 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:42.238 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.239 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.239 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.239 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.239 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:19:42.241 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:19:42.247 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.248 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 6ms reading results.
2022-12-07 13:19:42.248 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.248 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.269 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:42.269 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 13:19:42.269 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 13:19:42.283 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 13:19:42.335 -03:00 [DBG] Executing 2 update commands as a batch.
2022-12-07 13:19:42.348 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.349 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.355 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-12-07 13:19:42.380 -03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-12-07 13:19:42.382 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:42.382 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.385 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-07 13:19:42.385 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2022-12-07 13:19:42.399 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2022-12-07 13:19:42.416 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.416 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 16ms reading results.
2022-12-07 13:19:42.428 -03:00 [DBG] Committing transaction.
2022-12-07 13:19:42.446 -03:00 [DBG] Committed transaction.
2022-12-07 13:19:42.458 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.458 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.466 -03:00 [DBG] Disposing transaction.
2022-12-07 13:19:42.467 -03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:42.467 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:42.467 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 2 entities written to the database.
2022-12-07 13:19:42.479 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2022-12-07 13:19:42.483 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:19:42.483 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:42.484 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.484 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.484 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.484 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.484 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 13:19:42.490 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 13:19:42.490 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.491 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:19:42.491 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.491 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.496 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .First(x => x.UserName == __registrationRequestDTO_UserName_0)'
2022-12-07 13:19:42.504 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.UserName == @__registrationRequestDTO_UserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:19:42.513 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:42.514 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.514 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:42.514 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.514 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.514 -03:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2022-12-07 13:19:42.518 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2022-12-07 13:19:42.523 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.523 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 13:19:42.523 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.524 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:42.594 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:19:42.594 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 13:19:42.594 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 13:19:42.595 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 13:19:42.595 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:19:42.595 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:19:42.596 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 6880.1261ms
2022-12-07 13:19:42.596 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:19:42.596 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:19:42.596 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:42.596 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:19:42.596 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/register application/json-patch+json 98 - 200 67 application/json;+charset=utf-8 6883.0850ms
2022-12-07 13:19:59.600 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61
2022-12-07 13:19:59.600 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 13:19:59.600 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 13:19:59.600 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:19:59.600 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:19:59.600 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:19:59.600 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:19:59.606 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:19:59.606 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:19:59.606 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:19:59.606 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:19:59.606 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:19:59.607 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:19:59.607 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:19:59.608 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:19:59.608 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:19:59.608 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 13:19:59.608 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 13:19:59.608 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 13:19:59.608 -03:00 [DBG] Connection id "0HMMODPTQ06L3", Request id "0HMMODPTQ06L3:0000000B": started reading request body.
2022-12-07 13:19:59.608 -03:00 [DBG] Connection id "0HMMODPTQ06L3", Request id "0HMMODPTQ06L3:0000000B": done reading request body.
2022-12-07 13:19:59.612 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:19:59.613 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:19:59.613 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:19:59.614 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:19:59.620 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:19:59.621 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 13:19:59.700 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 13:19:59.710 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:19:59.710 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:19:59.710 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:19:59.710 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:59.710 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:19:59.711 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:59.711 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:59.711 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:19:59.714 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:19:59.714 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:19:59.715 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:59.715 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:19:59.715 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:59.715 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:19:59.736 -03:00 [WRN] Invalid password for user.
2022-12-07 13:19:59.737 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:19:59.737 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 13:19:59.737 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 13:19:59.737 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 13:19:59.737 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:19:59.737 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:19:59.738 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 131.0221ms
2022-12-07 13:19:59.738 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:19:59.738 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:19:59.738 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:19:59.738 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:19:59.738 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 61 - 400 99 application/json;+charset=utf-8 138.7300ms
2022-12-07 13:20:20.568 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 60
2022-12-07 13:20:20.568 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 13:20:20.568 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 13:20:20.568 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:20:20.568 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:20:20.568 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:20:20.568 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:20:20.568 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:20:20.569 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:20:20.569 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:20:20.569 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:20:20.569 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:20:20.569 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:20:20.569 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:20:20.569 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:20:20.569 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:20:20.569 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 13:20:20.569 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 13:20:20.570 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-07 13:20:20.570 -03:00 [DBG] Connection id "0HMMODPTQ06L3", Request id "0HMMODPTQ06L3:0000000D": started reading request body.
2022-12-07 13:20:20.570 -03:00 [DBG] Connection id "0HMMODPTQ06L3", Request id "0HMMODPTQ06L3:0000000D": done reading request body.
2022-12-07 13:20:20.570 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:20:20.570 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:20:20.570 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:20:20.570 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:20:20.571 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:20:20.572 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:20:20.572 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:20:20.572 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:20:20.572 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:20:20.572 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:20:20.572 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.572 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.572 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:20:20.578 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:20:20.578 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:20:20.579 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.579 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:20:20.579 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.579 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:20:20.611 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 13:20:20.695 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:20:20.699 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:20:20.699 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:20:20.699 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:20:20.699 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.699 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.700 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:20:20.706 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:20:20.706 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.706 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:20:20.706 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:20.706 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:20:21.011 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:20:21.012 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-07 13:20:21.012 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-07 13:20:21.012 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-07 13:20:21.012 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:20:21.012 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:20:21.016 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 447.2451ms
2022-12-07 13:20:21.016 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:20:21.016 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:20:21.016 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:20:21.017 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:20:21.017 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 60 - 200 382 application/json;+charset=utf-8 449.0669ms
2022-12-07 13:22:05.330 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:22:06.498 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:22:06.500 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:22:06.989 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:22:07.035 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:22:07.164 -03:00 [DBG] Created DbConnection. (123ms).
2022-12-07 13:22:07.179 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.017 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.040 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:22:09.060 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (17ms).
2022-12-07 13:22:09.068 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (36ms).
2022-12-07 13:22:09.082 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:22:09.161 -03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:22:09.171 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.202 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (25ms).
2022-12-07 13:22:09.211 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:22:09.212 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:22:09.212 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:22:09.212 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.214 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.215 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:22:09.246 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:22:09.246 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.247 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:22:09.265 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:22:09.265 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:09.265 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:09.265 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.266 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.267 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:22:09.272 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:22:09.282 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.285 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 10ms reading results.
2022-12-07 13:22:09.286 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.286 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:22:09.359 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:22:09.638 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:22:09.690 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:22:09.690 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:09.690 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:09.690 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.691 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.691 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:22:09.696 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:22:09.700 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.700 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 13:22:09.700 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.700 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:22:09.703 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:22:09.706 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:09.708 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:22:09.847 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:22:09.949 -03:00 [DBG] Hosting starting
2022-12-07 13:22:09.985 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:22:09.989 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:22:10.000 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:22:10.009 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:22:10.013 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:22:10.014 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:22:10.017 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:22:10.018 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:22:10.022 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:22:10.026 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:22:10.027 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:22:10.214 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:22:10.306 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:22:10.306 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:22:10.307 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:22:10.307 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:22:10.307 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:22:10.307 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:22:10.308 -03:00 [INF] Hosting environment: Development
2022-12-07 13:22:10.308 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:22:10.308 -03:00 [DBG] Hosting started
2022-12-07 13:22:10.330 -03:00 [DBG] Connection id "0HMMODSOHQ1J8" received FIN.
2022-12-07 13:22:10.348 -03:00 [DBG] Connection id "0HMMODSOHQ1J8" accepted.
2022-12-07 13:22:10.350 -03:00 [DBG] Connection id "0HMMODSOHQ1J8" started.
2022-12-07 13:22:10.369 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:22:10.404 -03:00 [DBG] Connection id "0HMMODSOHQ1J8" stopped.
2022-12-07 13:22:10.411 -03:00 [DBG] Connection id "0HMMODSOHQ1J8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:22:10.618 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" accepted.
2022-12-07 13:22:10.619 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" started.
2022-12-07 13:22:10.660 -03:00 [DBG] Connection id "0HMMODSOHQ1JA" accepted.
2022-12-07 13:22:10.661 -03:00 [DBG] Connection id "0HMMODSOHQ1JA" started.
2022-12-07 13:22:10.717 -03:00 [DBG] Connection 0HMMODSOHQ1JA established using the following protocol: "Tls12"
2022-12-07 13:22:10.717 -03:00 [DBG] Connection 0HMMODSOHQ1J9 established using the following protocol: "Tls12"
2022-12-07 13:22:10.819 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:22:10.819 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:22:10.855 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:22:10.948 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:22:10.949 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:22:10.964 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:22:10.972 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:22:10.984 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:22:11.005 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:22:11.171 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:22:11.178 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:22:11.285 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:22:11.287 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:22:11.287 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:22:11.288 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:22:11.288 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:22:11.288 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:11.289 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:22:11.297 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:22:11.632 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:22:11.657 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:11.663 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:22:11.665 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.665 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.665 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.666 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:11.667 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.671 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:22:11.671 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:22:11.671 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:22:11.671 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:22:11.672 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:22:11.672 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:22:11.672 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:22:11.672 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:11.673 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:22:11.673 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.673 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.673 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.673 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:11.673 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.673 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:11.673 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:22:11.673 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.673 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.673 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.673 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:11.674 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:11.685 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:22:11.702 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:22:11.731 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:22:11.871 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:22:11.930 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:22:11.931 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:22:11.931 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:22:11.931 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:22:11.932 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:22:11.951 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:11.964 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:11.967 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:22:12.042 -03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:22:12.048 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:22:12.067 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 1258.0232ms
2022-12-07 13:22:12.116 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:22:12.116 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:22:12.130 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 13.5662ms
2022-12-07 13:22:12.152 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:12.152 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 109ms reading results.
2022-12-07 13:22:12.165 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:12.167 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (3ms).
2022-12-07 13:22:12.218 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 101.5222ms
2022-12-07 13:22:12.279 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:22:12.290 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:22:12.294 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:22:12.294 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:22:12.346 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:22:12.346 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:22:12.346 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:22:12.704 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1400.3185ms
2022-12-07 13:22:12.708 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:22:12.714 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" completed keep alive response.
2022-12-07 13:22:12.722 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:22:12.745 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:12.747 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2022-12-07 13:22:12.748 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1941.8278ms
2022-12-07 13:22:12.892 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 545.4576ms
2022-12-07 13:22:19.055 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:22:19.058 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:22:19.058 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:22:19.058 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:22:19.058 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:22:19.059 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:22:19.059 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:22:19.066 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:22:19.067 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:22:19.067 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:22:19.067 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:19.067 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:22:19.067 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:19.067 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:22:19.083 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:22:19.084 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:22:19.086 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:22:19.088 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:22:19.088 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:22:19.104 -03:00 [DBG] Connection id "0HMMODSOHQ1J9", Request id "0HMMODSOHQ1J9:00000003": started reading request body.
2022-12-07 13:22:19.105 -03:00 [DBG] Connection id "0HMMODSOHQ1J9", Request id "0HMMODSOHQ1J9:00000003": done reading request body.
2022-12-07 13:22:19.216 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:22:19.216 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:22:19.216 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:22:19.236 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:22:19.237 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:22:19.239 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:22:19.240 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:22:19.241 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:22:19.241 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:22:19.241 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:22:19.302 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 234.6978ms
2022-12-07 13:22:19.302 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:22:19.302 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" completed keep alive response.
2022-12-07 13:22:19.304 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 248.2428ms
2022-12-07 13:22:29.305 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52
2022-12-07 13:22:29.308 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 13:22:29.308 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 13:22:29.308 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:22:29.309 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:22:29.313 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:22:29.314 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:22:29.320 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:22:29.320 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:22:29.320 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:22:29.320 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:29.320 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:22:29.320 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:29.320 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:22:29.321 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:22:29.321 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:22:29.321 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 13:22:29.321 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:22:29.321 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:22:29.321 -03:00 [DBG] Connection id "0HMMODSOHQ1J9", Request id "0HMMODSOHQ1J9:00000004": started reading request body.
2022-12-07 13:22:29.321 -03:00 [DBG] Connection id "0HMMODSOHQ1J9", Request id "0HMMODSOHQ1J9:00000004": done reading request body.
2022-12-07 13:22:29.324 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:22:29.324 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:22:29.324 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:22:29.325 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:22:29.426 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:22:29.452 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 13:22:29.666 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 13:22:29.707 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:22:29.708 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:22:29.708 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:22:29.708 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:29.727 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2022-12-07 13:22:29.727 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:29.728 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:29.751 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:22:29.879 -03:00 [INF] Executed DbCommand (151ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:22:30.000 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:22:30.088 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:30.091 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 211ms reading results.
2022-12-07 13:22:30.092 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:30.092 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:22:30.162 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 13:22:30.234 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:22:30.237 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:22:30.238 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:30.238 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:30.238 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:30.238 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:30.238 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:22:30.247 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:22:30.248 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:30.249 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 13:22:30.249 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:30.249 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:22:30.575 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:22:30.575 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:22:30.575 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:22:30.575 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:22:30.581 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 1260.6542ms
2022-12-07 13:22:30.581 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:22:30.581 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" completed keep alive response.
2022-12-07 13:22:30.582 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:22:30.582 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:30.582 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:22:30.582 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52 - 200 382 application/json;+charset=utf-8 1277.2918ms
2022-12-07 13:22:30.841 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:22:30.842 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:22:30.842 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:22:30.842 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:22:30.842 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:22:31.014 -03:00 [DBG] Successfully validated the token.
2022-12-07 13:22:31.016 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 13:22:31.017 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:22:31.018 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:22:31.019 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:22:31.019 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:22:31.019 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:22:31.019 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:22:31.019 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:31.019 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:22:31.020 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:22:31.021 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:22:31.021 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:31.021 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:22:31.021 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.021 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.021 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.021 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:31.021 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.021 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:22:31.022 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:22:31.022 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:22:31.022 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:22:31.022 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:22:31.022 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:22:31.022 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:22:31.022 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:31.022 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:22:31.022 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.022 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.022 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.022 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:31.023 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.023 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:31.023 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:22:31.023 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.023 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.023 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.023 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:22:31.023 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:22:31.023 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:22:31.025 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:22:31.025 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:22:31.026 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:22:31.026 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:31.026 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:22:31.026 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:31.026 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:31.026 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:22:31.032 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:22:31.032 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:31.032 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:22:31.032 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:31.032 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:22:31.033 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:22:31.033 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:22:31.033 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:22:31.033 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:22:31.033 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 14.1945ms
2022-12-07 13:22:31.033 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:22:31.033 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" completed keep alive response.
2022-12-07 13:22:31.033 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:22:31.034 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:22:31.034 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:22:31.034 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 192.2351ms
2022-12-07 13:22:34.773 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - -
2022-12-07 13:22:34.773 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaNumberApi'
2022-12-07 13:22:34.773 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/villaNumberApi'
2022-12-07 13:22:34.773 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 13:22:34.774 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:22:34.775 -03:00 [DBG] Successfully validated the token.
2022-12-07 13:22:34.775 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 13:22:34.786 -03:00 [DBG] Authorization was successful.
2022-12-07 13:22:34.788 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 13:22:34.794 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-07 13:22:34.794 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:22:34.794 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:22:34.794 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:34.794 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:22:34.794 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:22:34.794 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 13:22:34.799 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:22:34.800 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 13:22:34.802 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-07 13:23:26.740 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:23:26.740 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:23:26.740 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:23:26.740 -03:00 [INF] Executing ObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:23:26.741 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 51946.9538ms
2022-12-07 13:23:26.741 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 13:23:26.741 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" completed keep alive response.
2022-12-07 13:23:26.741 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:23:26.742 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - - - 200 637 application/json;+charset=utf-8 51969.0460ms
2022-12-07 13:24:33.367 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" received FIN.
2022-12-07 13:24:33.387 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" disconnecting.
2022-12-07 13:24:33.394 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" sending FIN because: "The client closed the connection."
2022-12-07 13:24:33.397 -03:00 [DBG] Connection id "0HMMODSOHQ1J9" stopped.
2022-12-07 13:42:42.385 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:42:43.513 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:42:43.514 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:42:44.058 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:42:44.098 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:42:44.249 -03:00 [DBG] Created DbConnection. (140ms).
2022-12-07 13:42:44.268 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.059 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.071 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:42:46.082 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-07 13:42:46.085 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2022-12-07 13:42:46.096 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:42:46.142 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:42:46.146 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.162 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-07 13:42:46.167 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:42:46.167 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:42:46.167 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:42:46.167 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.169 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.170 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:42:46.199 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:42:46.199 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.200 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:42:46.218 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:42:46.218 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:42:46.218 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:42:46.218 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.218 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.219 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:42:46.227 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:42:46.233 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.236 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 13:42:46.236 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.236 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:42:46.318 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:42:46.610 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:42:46.653 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:42:46.653 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:42:46.653 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:42:46.653 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.653 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.653 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:42:46.659 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:42:46.663 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.663 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 13:42:46.663 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.663 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:42:46.666 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:42:46.669 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:46.672 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:42:46.848 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:42:46.951 -03:00 [DBG] Hosting starting
2022-12-07 13:42:46.992 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:42:46.999 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:42:47.016 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:42:47.033 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:42:47.036 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:42:47.036 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:42:47.038 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:42:47.039 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:42:47.045 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:42:47.049 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:42:47.049 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:42:47.254 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:42:47.303 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:42:47.303 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:42:47.303 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:42:47.303 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:42:47.303 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:42:47.304 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:42:47.304 -03:00 [INF] Hosting environment: Development
2022-12-07 13:42:47.305 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:42:47.305 -03:00 [DBG] Hosting started
2022-12-07 13:42:47.701 -03:00 [DBG] Connection id "0HMMOE89A7IFN" accepted.
2022-12-07 13:42:47.703 -03:00 [DBG] Connection id "0HMMOE89A7IFN" started.
2022-12-07 13:42:47.738 -03:00 [DBG] Connection id "0HMMOE89A7IFO" accepted.
2022-12-07 13:42:47.738 -03:00 [DBG] Connection id "0HMMOE89A7IFO" started.
2022-12-07 13:42:47.753 -03:00 [DBG] Connection id "0HMMOE89A7IFP" accepted.
2022-12-07 13:42:47.753 -03:00 [DBG] Connection id "0HMMOE89A7IFP" started.
2022-12-07 13:42:47.784 -03:00 [DBG] Connection id "0HMMOE89A7IFO" received FIN.
2022-12-07 13:42:47.784 -03:00 [DBG] Connection id "0HMMOE89A7IFP" received FIN.
2022-12-07 13:42:47.819 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:42:47.819 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:42:47.850 -03:00 [DBG] Connection 0HMMOE89A7IFN established using the following protocol: "Tls12"
2022-12-07 13:42:47.887 -03:00 [DBG] Connection id "0HMMOE89A7IFO" stopped.
2022-12-07 13:42:47.887 -03:00 [DBG] Connection id "0HMMOE89A7IFP" stopped.
2022-12-07 13:42:47.889 -03:00 [DBG] Connection id "0HMMOE89A7IFP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:42:47.889 -03:00 [DBG] Connection id "0HMMOE89A7IFO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:42:47.994 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:42:48.036 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:42:48.131 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:42:48.136 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:42:48.153 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:42:48.176 -03:00 [DBG] Connection id "0HMMOE89A7IFQ" accepted.
2022-12-07 13:42:48.176 -03:00 [DBG] Connection id "0HMMOE89A7IFQ" started.
2022-12-07 13:42:48.189 -03:00 [DBG] Connection 0HMMOE89A7IFQ established using the following protocol: "Tls12"
2022-12-07 13:42:48.224 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:42:48.297 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:42:48.379 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:42:48.380 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:42:48.397 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:42:48.403 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:42:48.497 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:42:48.499 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:42:48.499 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:42:48.500 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:42:48.500 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:42:48.500 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:42:48.502 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:42:48.511 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:42:48.814 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:42:48.845 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:42:48.849 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:42:48.850 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.850 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.851 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.851 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:42:48.852 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.856 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:42:48.856 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:42:48.857 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:42:48.857 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:42:48.857 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:42:48.857 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:42:48.857 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:42:48.857 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:42:48.858 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:42:48.858 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.858 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.858 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.858 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:42:48.858 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.858 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:42:48.858 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:42:48.858 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.858 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.858 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.858 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:42:48.858 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:42:48.872 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:42:48.910 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:42:48.933 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:42:49.087 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:42:49.141 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:42:49.141 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:42:49.142 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:42:49.142 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:42:49.142 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:42:49.167 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:49.184 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:49.188 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:42:49.278 -03:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:42:49.318 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:42:49.332 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 1033.0452ms
2022-12-07 13:42:49.364 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:42:49.364 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:42:49.368 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:49.368 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 89ms reading results.
2022-12-07 13:42:49.382 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 17.3456ms
2022-12-07 13:42:49.387 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:49.389 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 13:42:49.448 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.2965ms
2022-12-07 13:42:49.493 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:42:49.506 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:42:49.509 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:42:49.510 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:42:49.670 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:42:49.670 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:42:49.670 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:42:49.927 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1417.3779ms
2022-12-07 13:42:49.931 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:42:49.936 -03:00 [DBG] Connection id "0HMMOE89A7IFN" completed keep alive response.
2022-12-07 13:42:49.944 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:42:49.965 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:49.966 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:42:49.967 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1986.5834ms
2022-12-07 13:42:50.180 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 510.8014ms
2022-12-07 13:42:58.532 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52
2022-12-07 13:42:58.536 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 13:42:58.537 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 13:42:58.537 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:42:58.538 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:42:58.538 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:42:58.539 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:42:58.547 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:42:58.547 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:42:58.547 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:42:58.547 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:42:58.548 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:42:58.548 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:42:58.548 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:42:58.566 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:42:58.567 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:42:58.570 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 13:42:58.572 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:42:58.572 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:42:58.591 -03:00 [DBG] Connection id "0HMMOE89A7IFN", Request id "0HMMOE89A7IFN:00000003": started reading request body.
2022-12-07 13:42:58.592 -03:00 [DBG] Connection id "0HMMOE89A7IFN", Request id "0HMMOE89A7IFN:00000003": done reading request body.
2022-12-07 13:42:58.700 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:42:58.700 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:42:58.700 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:42:58.714 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:42:58.826 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:42:58.846 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 13:42:59.038 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 13:42:59.080 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:42:59.080 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:42:59.080 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:42:59.080 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:42:59.090 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2022-12-07 13:42:59.090 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.090 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.102 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:42:59.212 -03:00 [INF] Executed DbCommand (121ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:42:59.327 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:42:59.428 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.431 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 218ms reading results.
2022-12-07 13:42:59.431 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.431 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:42:59.502 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 13:42:59.581 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:42:59.585 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:42:59.585 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:42:59.585 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:42:59.585 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.585 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.585 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:42:59.595 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:42:59.596 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.596 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:42:59.596 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.597 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:42:59.889 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:42:59.890 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:42:59.890 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:42:59.890 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:42:59.895 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 1347.014ms
2022-12-07 13:42:59.895 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:42:59.895 -03:00 [DBG] Connection id "0HMMOE89A7IFN" completed keep alive response.
2022-12-07 13:42:59.897 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:42:59.897 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:42:59.897 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:42:59.897 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52 - 200 382 application/json;+charset=utf-8 1365.3689ms
2022-12-07 13:43:00.151 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:43:00.151 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:43:00.151 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:43:00.151 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:00.151 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:43:00.342 -03:00 [DBG] Successfully validated the token.
2022-12-07 13:43:00.345 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 13:43:00.346 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:00.346 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:43:00.346 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:43:00.346 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:43:00.346 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:43:00.346 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:43:00.346 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:43:00.347 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:43:00.347 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:43:00.348 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:43:00.348 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:00.348 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:00.348 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.348 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.348 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.348 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:00.348 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.348 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:43:00.349 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:43:00.349 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:43:00.349 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:43:00.349 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:43:00.349 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:43:00.349 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:43:00.349 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:00.349 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:00.349 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.349 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.349 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.349 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:00.349 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.349 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:00.350 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:00.350 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.350 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.350 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.350 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:00.350 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:00.350 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:43:00.353 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:43:00.353 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:43:00.353 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:43:00.353 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:00.353 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:00.353 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:00.353 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:00.353 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:43:00.361 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:43:00.362 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:00.362 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:43:00.362 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:00.363 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:43:00.363 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:43:00.363 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:43:00.363 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:43:00.363 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:43:00.364 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 17.1851ms
2022-12-07 13:43:00.364 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:00.364 -03:00 [DBG] Connection id "0HMMOE89A7IFN" completed keep alive response.
2022-12-07 13:43:00.364 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:43:00.364 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:00.364 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:43:00.364 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 213.7415ms
2022-12-07 13:43:01.555 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - -
2022-12-07 13:43:01.555 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaNumberApi'
2022-12-07 13:43:01.555 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/villaNumberApi'
2022-12-07 13:43:01.556 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 13:43:01.556 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:43:01.557 -03:00 [DBG] Successfully validated the token.
2022-12-07 13:43:01.558 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 13:43:01.570 -03:00 [DBG] Authorization was successful.
2022-12-07 13:43:01.573 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 13:43:01.579 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-07 13:43:01.579 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:43:01.579 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:43:01.579 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:43:01.579 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:43:01.579 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:43:01.579 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 13:43:01.583 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:43:01.583 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-07 13:43:01.585 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-07 13:43:01.589 -03:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .AsNoTracking()
    .Include("Villa")'
2022-12-07 13:43:01.640 -03:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2022-12-07 13:43:01.660 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string) Required, 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string) Required, 8], [Property: Villa.ImageUrl (string) Required, 9], [Property: Villa.Name (string) Required MaxLength(30), 10], [Property: Villa.Occupancy (int) Required, 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqtf (int) Required, 13], [Property: Villa.UpdatedDate (DateTime) Required, 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqtf, v0.UpdatedDate
        FROM VillasNumber AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:43:01.661 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:43:01.661 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:43:01.661 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:43:01.661 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:01.662 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:01.662 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:01.662 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:01.662 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-07 13:43:01.679 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-07 13:43:01.684 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:01.685 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 13:43:01.685 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:01.685 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:43:01.702 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:43:01.702 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:43:01.702 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:43:01.702 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:43:01.708 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 128.6652ms
2022-12-07 13:43:01.708 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-07 13:43:01.711 -03:00 [DBG] Connection id "0HMMOE89A7IFN" completed keep alive response.
2022-12-07 13:43:01.711 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:43:01.712 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:01.712 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:43:01.712 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 157.1949ms
2022-12-07 13:43:03.618 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:43:03.619 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:43:03.619 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:43:03.619 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:03.619 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:43:03.619 -03:00 [DBG] Successfully validated the token.
2022-12-07 13:43:03.619 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 13:43:03.619 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:03.620 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:43:03.620 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:43:03.620 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:43:03.620 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:43:03.620 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:43:03.620 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:43:03.620 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:43:03.621 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:43:03.621 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:43:03.621 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:03.621 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:03.621 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.621 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.621 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.621 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:43:03.622 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:03.622 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:03.622 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:03.622 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:03.622 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:43:03.623 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:43:03.623 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:43:03.623 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:43:03.623 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:03.623 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:03.623 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:03.623 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:03.623 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:43:03.629 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:43:03.630 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:03.630 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:43:03.630 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:03.630 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:43:03.631 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:43:03.631 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:43:03.631 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:43:03.631 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:43:03.631 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 11.2656ms
2022-12-07 13:43:03.631 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:03.631 -03:00 [DBG] Connection id "0HMMOE89A7IFN" completed keep alive response.
2022-12-07 13:43:03.631 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:43:03.632 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:03.632 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:43:03.632 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 13.4495ms
2022-12-07 13:43:08.065 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:43:08.065 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:43:08.066 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:43:08.066 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:08.066 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:43:08.066 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:43:08.066 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:08.066 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:43:08.067 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:43:08.067 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:43:08.067 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:43:08.067 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:43:08.067 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:43:08.067 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:43:08.068 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:43:08.069 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:43:08.069 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:08.069 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:08.069 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.069 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.069 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.069 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:08.069 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.069 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:43:08.069 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:43:08.069 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:43:08.070 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:43:08.070 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:43:08.070 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:43:08.070 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:43:08.070 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:08.070 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:08.070 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.070 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.070 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.070 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:08.070 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.070 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:08.070 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:43:08.070 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.071 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.071 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.071 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:43:08.071 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:43:08.071 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:43:08.071 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:43:08.071 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:43:08.072 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:43:08.072 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:08.072 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:43:08.072 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:08.072 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:08.072 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:43:08.080 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:43:08.080 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:08.080 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:43:08.080 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:08.080 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:43:08.081 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:43:08.081 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:43:08.081 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:43:08.081 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:43:08.081 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 14.0468ms
2022-12-07 13:43:08.081 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:43:08.081 -03:00 [DBG] Connection id "0HMMOE89A7IFN" completed keep alive response.
2022-12-07 13:43:08.081 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:43:08.081 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:43:08.081 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:43:08.082 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 16.5450ms
2022-12-07 13:44:52.859 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:44:53.875 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:44:53.876 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:44:54.428 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:44:54.463 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:44:54.596 -03:00 [DBG] Created DbConnection. (128ms).
2022-12-07 13:44:54.608 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.344 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.355 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:44:56.366 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-07 13:44:56.369 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2022-12-07 13:44:56.378 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:44:56.430 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:44:56.439 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.477 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (25ms).
2022-12-07 13:44:56.492 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:44:56.493 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:44:56.493 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:44:56.493 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.496 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.499 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:44:56.533 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:44:56.533 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.534 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:44:56.551 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:44:56.551 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:44:56.551 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:44:56.551 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.551 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.552 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:44:56.557 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:44:56.563 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.565 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 13:44:56.566 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.566 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:44:56.633 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:44:56.935 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:44:56.982 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:44:56.982 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:44:56.982 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:44:56.982 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.982 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.983 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:44:56.986 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:44:56.990 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.991 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-07 13:44:56.991 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:56.991 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:44:56.994 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:44:56.998 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:57.001 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:44:57.174 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:44:57.313 -03:00 [DBG] Hosting starting
2022-12-07 13:44:57.351 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:44:57.355 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:44:57.365 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:44:57.378 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:44:57.381 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:44:57.381 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:44:57.382 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:44:57.383 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:44:57.388 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:44:57.393 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:44:57.393 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:44:57.618 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:44:57.724 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:44:57.725 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:44:57.725 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:44:57.725 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:44:57.725 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:44:57.726 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:44:57.726 -03:00 [INF] Hosting environment: Development
2022-12-07 13:44:57.726 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:44:57.726 -03:00 [DBG] Hosting started
2022-12-07 13:44:57.782 -03:00 [DBG] Connection id "0HMMOE9G2NQE9" accepted.
2022-12-07 13:44:57.786 -03:00 [DBG] Connection id "0HMMOE9G2NQE9" started.
2022-12-07 13:44:57.829 -03:00 [DBG] Connection id "0HMMOE9G2NQEA" accepted.
2022-12-07 13:44:57.830 -03:00 [DBG] Connection id "0HMMOE9G2NQEA" started.
2022-12-07 13:44:57.871 -03:00 [DBG] Connection id "0HMMOE9G2NQEA" received FIN.
2022-12-07 13:44:57.882 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:44:57.902 -03:00 [DBG] Connection 0HMMOE9G2NQE9 established using the following protocol: "Tls12"
2022-12-07 13:44:57.931 -03:00 [DBG] Connection id "0HMMOE9G2NQEA" stopped.
2022-12-07 13:44:57.934 -03:00 [DBG] Connection id "0HMMOE9G2NQEA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:44:58.010 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:44:58.038 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:44:58.107 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:44:58.113 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:44:58.122 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:44:58.178 -03:00 [DBG] Connection id "0HMMOE9G2NQEB" accepted.
2022-12-07 13:44:58.178 -03:00 [DBG] Connection id "0HMMOE9G2NQEB" started.
2022-12-07 13:44:58.205 -03:00 [DBG] Connection 0HMMOE9G2NQEB established using the following protocol: "Tls12"
2022-12-07 13:44:58.214 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:44:58.320 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:44:58.348 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:44:58.355 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:44:58.365 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:44:58.365 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:44:58.451 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:44:58.453 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:44:58.453 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:44:58.453 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:44:58.454 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:44:58.454 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:44:58.455 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:44:58.478 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:44:58.740 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:44:58.768 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:44:58.773 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:44:58.775 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.775 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.775 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.776 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:44:58.778 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.783 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:44:58.784 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:44:58.784 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:44:58.784 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:44:58.784 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:44:58.784 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:44:58.786 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:44:58.786 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:44:58.786 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:44:58.786 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.786 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.786 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.786 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:44:58.787 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.787 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:44:58.787 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:44:58.787 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.787 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.787 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.787 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:44:58.787 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:44:58.798 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:44:58.836 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:44:58.887 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:44:58.960 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:44:59.031 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:44:59.031 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:44:59.032 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:44:59.032 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:44:59.032 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:44:59.053 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:59.064 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:59.068 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:44:59.148 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:44:59.220 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:59.220 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 71ms reading results.
2022-12-07 13:44:59.230 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:59.233 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-07 13:44:59.235 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:44:59.247 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 925.6816ms
2022-12-07 13:44:59.264 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:44:59.264 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:44:59.286 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 22.0320ms
2022-12-07 13:44:59.353 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:44:59.362 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.1765ms
2022-12-07 13:44:59.365 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:44:59.367 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:44:59.368 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:44:59.533 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:44:59.534 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:44:59.534 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:44:59.781 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1313.8077ms
2022-12-07 13:44:59.785 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:44:59.790 -03:00 [DBG] Connection id "0HMMOE9G2NQE9" completed keep alive response.
2022-12-07 13:44:59.796 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:44:59.816 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:44:59.819 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:44:59.820 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1818.3681ms
2022-12-07 13:45:00.005 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 471.5075ms
2022-12-07 13:45:16.430 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66
2022-12-07 13:45:16.434 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:45:16.434 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:45:16.434 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:45:16.434 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:45:16.435 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:45:16.435 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:45:16.441 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:45:16.441 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:45:16.441 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:45:16.441 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:45:16.441 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:45:16.441 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:45:16.442 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:45:16.457 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:45:16.458 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:45:16.461 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:45:16.462 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:45:16.462 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:45:16.481 -03:00 [DBG] Connection id "0HMMOE9G2NQE9", Request id "0HMMOE9G2NQE9:00000003": started reading request body.
2022-12-07 13:45:16.482 -03:00 [DBG] Connection id "0HMMOE9G2NQE9", Request id "0HMMOE9G2NQE9:00000003": done reading request body.
2022-12-07 13:45:16.584 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:45:16.584 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:45:16.584 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:45:16.602 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:45:16.603 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:45:16.605 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:45:16.605 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:45:16.606 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:45:16.606 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:45:16.606 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:45:16.662 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 220.2911ms
2022-12-07 13:45:16.662 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:45:16.662 -03:00 [DBG] Connection id "0HMMOE9G2NQE9" completed keep alive response.
2022-12-07 13:45:16.664 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 66 - 400 241 application/problem+json;+charset=utf-8 233.8699ms
2022-12-07 13:46:01.223 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:46:02.464 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:46:02.465 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:46:02.912 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:46:02.942 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:46:03.079 -03:00 [DBG] Created DbConnection. (128ms).
2022-12-07 13:46:03.100 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:04.917 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:04.929 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:46:04.937 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2022-12-07 13:46:04.940 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2022-12-07 13:46:04.950 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:46:04.995 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:46:05.000 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.022 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (14ms).
2022-12-07 13:46:05.031 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:46:05.032 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:46:05.032 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:46:05.032 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.033 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.034 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:46:05.065 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:46:05.065 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.066 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:46:05.085 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:46:05.085 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:46:05.085 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:46:05.085 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.085 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.086 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:46:05.091 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:46:05.099 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.102 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 7ms reading results.
2022-12-07 13:46:05.102 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.102 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:46:05.185 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:46:05.550 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:46:05.591 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:46:05.591 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:46:05.591 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:46:05.591 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.592 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.592 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:46:05.596 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:46:05.600 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.600 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 13:46:05.600 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.600 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:46:05.602 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:46:05.605 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:05.608 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 13:46:05.800 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:46:05.916 -03:00 [DBG] Hosting starting
2022-12-07 13:46:05.953 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:46:05.959 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:46:05.974 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:46:05.991 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:46:05.998 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:46:05.998 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:46:06.000 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:46:06.001 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:46:06.006 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:46:06.012 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:46:06.014 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:46:06.283 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:46:06.369 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:46:06.370 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:46:06.370 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:46:06.370 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:46:06.370 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:46:06.371 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:46:06.371 -03:00 [INF] Hosting environment: Development
2022-12-07 13:46:06.371 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:46:06.371 -03:00 [DBG] Hosting started
2022-12-07 13:46:06.663 -03:00 [DBG] Connection id "0HMMOEA4JL787" accepted.
2022-12-07 13:46:06.664 -03:00 [DBG] Connection id "0HMMOEA4JL788" accepted.
2022-12-07 13:46:06.666 -03:00 [DBG] Connection id "0HMMOEA4JL788" started.
2022-12-07 13:46:06.666 -03:00 [DBG] Connection id "0HMMOEA4JL787" started.
2022-12-07 13:46:06.675 -03:00 [DBG] Connection id "0HMMOEA4JL789" accepted.
2022-12-07 13:46:06.678 -03:00 [DBG] Connection id "0HMMOEA4JL789" started.
2022-12-07 13:46:06.717 -03:00 [DBG] Connection id "0HMMOEA4JL788" received FIN.
2022-12-07 13:46:06.717 -03:00 [DBG] Connection id "0HMMOEA4JL789" received FIN.
2022-12-07 13:46:06.745 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:46:06.745 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:46:06.818 -03:00 [DBG] Connection 0HMMOEA4JL787 established using the following protocol: "Tls12"
2022-12-07 13:46:06.825 -03:00 [DBG] Connection id "0HMMOEA4JL788" stopped.
2022-12-07 13:46:06.826 -03:00 [DBG] Connection id "0HMMOEA4JL789" stopped.
2022-12-07 13:46:06.829 -03:00 [DBG] Connection id "0HMMOEA4JL788" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:46:06.829 -03:00 [DBG] Connection id "0HMMOEA4JL789" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:46:06.938 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:46:06.966 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:46:07.058 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:46:07.067 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:46:07.082 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:46:07.152 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:46:07.199 -03:00 [DBG] Connection id "0HMMOEA4JL78A" accepted.
2022-12-07 13:46:07.199 -03:00 [DBG] Connection id "0HMMOEA4JL78A" started.
2022-12-07 13:46:07.230 -03:00 [DBG] Connection 0HMMOEA4JL78A established using the following protocol: "Tls12"
2022-12-07 13:46:07.346 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:46:07.353 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:46:07.358 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:46:07.389 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:46:07.389 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:46:07.439 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:46:07.440 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:46:07.440 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:46:07.441 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:46:07.441 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:46:07.441 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:46:07.444 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:46:07.451 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:46:07.758 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:46:07.782 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:46:07.786 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:46:07.787 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.788 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.788 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.788 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:46:07.791 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.796 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:46:07.797 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:46:07.797 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:46:07.797 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:46:07.797 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:46:07.797 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:46:07.798 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:46:07.799 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:46:07.799 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:46:07.799 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.799 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.799 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.799 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:46:07.799 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.799 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:46:07.799 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:46:07.800 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.800 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.800 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.800 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:46:07.800 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:46:07.813 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:46:07.850 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:46:07.911 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:46:07.952 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:46:08.029 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:46:08.029 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:46:08.030 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:46:08.030 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:46:08.030 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:46:08.054 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:08.071 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:08.074 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:46:08.149 -03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:46:08.223 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:46:08.224 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:08.225 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 73ms reading results.
2022-12-07 13:46:08.236 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 888.0557ms
2022-12-07 13:46:08.250 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:08.253 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (14ms).
2022-12-07 13:46:08.287 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:46:08.287 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:46:08.305 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 18.4050ms
2022-12-07 13:46:08.366 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:46:08.377 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:46:08.378 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:46:08.379 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:46:08.394 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 107.0851ms
2022-12-07 13:46:08.504 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:46:08.504 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:46:08.504 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:46:08.712 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1257.7811ms
2022-12-07 13:46:08.715 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:46:08.720 -03:00 [DBG] Connection id "0HMMOEA4JL787" completed keep alive response.
2022-12-07 13:46:08.728 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:46:08.749 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:46:08.751 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-07 13:46:08.751 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1822.6798ms
2022-12-07 13:46:08.923 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 419.2057ms
2022-12-07 13:46:35.071 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:46:35.074 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:46:35.074 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:46:35.074 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:46:35.074 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:46:35.075 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:46:35.075 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:46:35.082 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:46:35.082 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:46:35.082 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:46:35.082 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:46:35.082 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:46:35.082 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:46:35.082 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:46:35.098 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:46:35.099 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:46:35.101 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:46:35.102 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:46:35.102 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:46:35.119 -03:00 [DBG] Connection id "0HMMOEA4JL787", Request id "0HMMOEA4JL787:00000003": started reading request body.
2022-12-07 13:46:35.120 -03:00 [DBG] Connection id "0HMMOEA4JL787", Request id "0HMMOEA4JL787:00000003": done reading request body.
2022-12-07 13:46:35.224 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:46:35.225 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:46:35.225 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:46:35.248 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:46:35.249 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:46:35.251 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:46:35.252 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:46:35.252 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:46:35.253 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:46:35.253 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:46:35.311 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 228.2556ms
2022-12-07 13:46:35.311 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:46:35.311 -03:00 [DBG] Connection id "0HMMOEA4JL787" completed keep alive response.
2022-12-07 13:46:35.313 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 242.4075ms
2022-12-07 13:47:08.581 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78
2022-12-07 13:47:08.582 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:47:08.582 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:47:08.582 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:47:08.582 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:47:08.585 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:47:08.585 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:47:08.585 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:47:08.585 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:47:08.585 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:47:08.585 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:47:08.585 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:47:08.585 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:47:08.585 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:47:08.586 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:47:08.586 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:47:08.586 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:47:08.586 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:47:08.586 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:47:08.586 -03:00 [DBG] Connection id "0HMMOEA4JL787", Request id "0HMMOEA4JL787:00000004": started reading request body.
2022-12-07 13:47:08.586 -03:00 [DBG] Connection id "0HMMOEA4JL787", Request id "0HMMOEA4JL787:00000004": done reading request body.
2022-12-07 13:47:08.587 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:47:08.587 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:47:08.587 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:47:08.587 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:47:08.587 -03:00 [DBG] The request has model state errors, returning an error response.
2022-12-07 13:47:08.587 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2022-12-07 13:47:08.587 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:47:08.587 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2022-12-07 13:47:08.587 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-12-07 13:47:08.587 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2022-12-07 13:47:08.587 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 2.1034ms
2022-12-07 13:47:08.588 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:47:08.588 -03:00 [DBG] Connection id "0HMMOEA4JL787" completed keep alive response.
2022-12-07 13:47:08.588 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 78 - 400 241 application/problem+json;+charset=utf-8 6.9682ms
2022-12-07 13:47:32.572 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-07 13:47:33.613 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2022-12-07 13:47:33.616 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2022-12-07 13:47:34.153 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:47:34.187 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:47:34.324 -03:00 [DBG] Created DbConnection. (132ms).
2022-12-07 13:47:34.336 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.011 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.027 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-07 13:47:36.045 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-07 13:47:36.051 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (31ms).
2022-12-07 13:47:36.063 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:47:36.114 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-07 13:47:36.119 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.144 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (15ms).
2022-12-07 13:47:36.156 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-07 13:47:36.156 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:47:36.156 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-07 13:47:36.156 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.159 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.162 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:47:36.207 -03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-07 13:47:36.208 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.208 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:36.226 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:36.226 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:36.226 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:36.226 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.226 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.228 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:47:36.234 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-07 13:47:36.241 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.244 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 7ms reading results.
2022-12-07 13:47:36.245 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.245 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:36.325 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-07 13:47:36.612 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-07 13:47:36.657 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:36.658 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:36.658 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:36.658 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.658 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.658 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:47:36.661 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-07 13:47:36.664 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.664 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-07 13:47:36.664 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.664 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:36.666 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:47:36.669 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:36.671 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-07 13:47:36.815 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-07 13:47:36.903 -03:00 [DBG] Hosting starting
2022-12-07 13:47:36.939 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-07 13:47:36.947 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-07 13:47:36.960 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-07 13:47:36.979 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-07 13:47:36.984 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:47:36.985 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-07 13:47:36.987 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-07 13:47:36.989 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-07 13:47:36.995 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-07 13:47:36.999 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-07 13:47:37.000 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-07 13:47:37.225 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-07 13:47:37.297 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-07 13:47:37.297 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-07 13:47:37.297 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-07 13:47:37.297 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-07 13:47:37.297 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-07 13:47:37.298 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-07 13:47:37.298 -03:00 [INF] Hosting environment: Development
2022-12-07 13:47:37.298 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-07 13:47:37.298 -03:00 [DBG] Hosting started
2022-12-07 13:47:37.385 -03:00 [DBG] Connection id "0HMMOEAVKTEIS" accepted.
2022-12-07 13:47:37.386 -03:00 [DBG] Connection id "0HMMOEAVKTEIS" started.
2022-12-07 13:47:37.453 -03:00 [DBG] Connection 0HMMOEAVKTEIS established using the following protocol: "Tls12"
2022-12-07 13:47:37.474 -03:00 [DBG] Connection id "0HMMOEAVKTEIT" accepted.
2022-12-07 13:47:37.475 -03:00 [DBG] Connection id "0HMMOEAVKTEIT" started.
2022-12-07 13:47:37.475 -03:00 [DBG] Connection id "0HMMOEAVKTEIT" received FIN.
2022-12-07 13:47:37.478 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-07 13:47:37.515 -03:00 [DBG] Connection id "0HMMOEAVKTEIT" stopped.
2022-12-07 13:47:37.517 -03:00 [DBG] Connection id "0HMMOEAVKTEIT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-07 13:47:37.537 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:47:37.555 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-07 13:47:37.621 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:47:37.629 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:47:37.644 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:47:37.703 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:47:37.791 -03:00 [DBG] Connection id "0HMMOEAVKTEIU" accepted.
2022-12-07 13:47:37.792 -03:00 [DBG] Connection id "0HMMOEAVKTEIU" started.
2022-12-07 13:47:37.818 -03:00 [DBG] Connection 0HMMOEAVKTEIU established using the following protocol: "Tls12"
2022-12-07 13:47:37.935 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-07 13:47:37.945 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:47:37.951 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:47:37.975 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-07 13:47:37.976 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:47:38.029 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:47:38.031 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:47:38.031 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:47:38.032 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:47:38.032 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:47:38.032 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:47:38.033 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:47:38.050 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:47:38.369 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:47:38.394 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:47:38.397 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:47:38.398 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.399 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.399 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.399 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:47:38.400 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.404 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:47:38.404 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:47:38.404 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:47:38.404 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:47:38.404 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:47:38.404 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:47:38.405 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:47:38.405 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:47:38.405 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:47:38.405 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.405 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.405 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.405 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:47:38.405 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.405 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:47:38.405 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:47:38.405 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.406 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.406 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.406 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:47:38.406 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:47:38.418 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:47:38.456 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-07 13:47:38.540 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-07 13:47:38.578 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:47:38.647 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:38.647 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:47:38.649 -03:00 [DBG] Created DbConnection. (1ms).
2022-12-07 13:47:38.649 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-12-07 13:47:38.649 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2022-12-07 13:47:38.679 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:38.697 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:38.701 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:47:38.782 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:47:38.861 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:38.862 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 79ms reading results.
2022-12-07 13:47:38.876 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:38.880 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (3ms).
2022-12-07 13:47:38.900 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-07 13:47:38.915 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 978.3991ms
2022-12-07 13:47:38.954 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-07 13:47:38.958 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-07 13:47:38.972 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 18.6573ms
2022-12-07 13:47:39.017 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:47:39.027 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:47:39.029 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:47:39.030 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:47:39.053 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 98.6569ms
2022-12-07 13:47:39.184 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-07 13:47:39.184 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-07 13:47:39.184 -03:00 [DBG] Request did not match any endpoints
2022-12-07 13:47:39.420 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 1370.3139ms
2022-12-07 13:47:39.424 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:47:39.430 -03:00 [DBG] Connection id "0HMMOEAVKTEIS" completed keep alive response.
2022-12-07 13:47:39.438 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:47:39.461 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:39.463 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2022-12-07 13:47:39.464 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 1933.1500ms
2022-12-07 13:47:39.669 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 485.4614ms
2022-12-07 13:47:50.113 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 82
2022-12-07 13:47:50.116 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/register'
2022-12-07 13:47:50.116 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/register' is valid for the request path '/api/v1/UserAuth/register'
2022-12-07 13:47:50.117 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:47:50.117 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:47:50.117 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:47:50.117 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:47:50.122 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:47:50.122 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:47:50.123 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:47:50.123 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:47:50.123 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:47:50.123 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:47:50.123 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:47:50.134 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:47:50.134 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:47:50.136 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-07 13:47:50.137 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:47:50.137 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:47:50.150 -03:00 [DBG] Connection id "0HMMOEAVKTEIS", Request id "0HMMOEAVKTEIS:00000003": started reading request body.
2022-12-07 13:47:50.151 -03:00 [DBG] Connection id "0HMMOEAVKTEIS", Request id "0HMMOEAVKTEIS:00000003": done reading request body.
2022-12-07 13:47:50.240 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:47:50.240 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:47:50.240 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-07 13:47:50.254 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-07 13:47:54.465 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:47:54.483 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName == __username_0)'
2022-12-07 13:47:54.586 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE a.UserName == @__username_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 13:47:54.617 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:54.618 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:47:54.618 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:47:54.618 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:54.628 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2022-12-07 13:47:54.628 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:54.628 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:54.642 -03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 13:47:54.730 -03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__username_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__username_0
2022-12-07 13:47:54.730 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:54.733 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 13:47:54.733 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:54.733 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:57.958 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2022-12-07 13:47:57.966 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:47:57.974 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:57.974 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:57.974 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:57.975 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:57.975 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:57.975 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:47:57.984 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:47:57.987 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:57.988 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 13:47:57.988 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:57.988 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:58.266 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:47:58.284 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 13:47:58.290 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 13:47:58.330 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 13:47:58.518 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.519 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.532 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:58.532 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.533 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-07 13:47:58.535 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 13:47:58.553 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2022-12-07 13:47:58.565 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.565 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 12ms reading results.
2022-12-07 13:47:58.569 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.569 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:58.594 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:47:58.601 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-07 13:47:58.623 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2022-12-07 13:47:58.630 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:47:58.631 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:58.631 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.631 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.631 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.631 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.631 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:47:58.636 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:47:58.654 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:47:58.665 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.665 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 28ms reading results.
2022-12-07 13:47:58.665 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.666 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:58.688 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2022-12-07 13:47:58.713 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:47:58.717 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:58.717 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.717 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.717 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.717 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.718 -03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2022-12-07 13:47:58.721 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2022-12-07 13:47:58.721 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.721 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:47:58.721 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.721 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:58.737 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:58.737 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.737 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.737 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.737 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.737 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:47:58.740 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2022-12-07 13:47:58.740 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.740 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:47:58.740 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.741 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:58.768 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:47:58.774 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:58.774 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.774 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.774 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.775 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.775 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:47:58.778 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2022-12-07 13:47:58.784 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.784 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 13:47:58.784 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.784 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:58.800 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:47:58.800 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-07 13:47:58.801 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-07 13:47:58.809 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-07 13:47:58.844 -03:00 [DBG] Executing 2 update commands as a batch.
2022-12-07 13:47:58.858 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.858 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.865 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-12-07 13:47:58.896 -03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-12-07 13:47:58.898 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:58.899 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:58.904 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2022-12-07 13:47:58.904 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2022-12-07 13:47:58.926 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p17='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p18='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [Name] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2022-12-07 13:47:58.939 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.939 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 13ms reading results.
2022-12-07 13:47:58.952 -03:00 [DBG] Committing transaction.
2022-12-07 13:47:58.967 -03:00 [DBG] Committed transaction.
2022-12-07 13:47:58.980 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:58.981 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-07 13:47:58.991 -03:00 [DBG] Disposing transaction.
2022-12-07 13:47:58.992 -03:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:47:58.992 -03:00 [DBG] An entity of type 'ApplicationUser' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:47:58.993 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 2 entities written to the database.
2022-12-07 13:47:59.006 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2022-12-07 13:47:59.012 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:47:59.013 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:59.013 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:59.013 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:59.013 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.014 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.014 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 13:47:59.018 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2022-12-07 13:47:59.018 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.018 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:47:59.018 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.018 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:59.024 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .First(x => x.UserName == __registrationRequestDTO_UserName_0)'
2022-12-07 13:47:59.034 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<ApplicationUser>(
    asyncEnumerable: new SingleQueryingEnumerable<ApplicationUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.UserName == @__registrationRequestDTO_UserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-07 13:47:59.042 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:47:59.042 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:59.042 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:47:59.042 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.042 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.043 -03:00 [DBG] Executing DbCommand [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2022-12-07 13:47:59.046 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__registrationRequestDTO_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[UserName] = @__registrationRequestDTO_UserName_0
2022-12-07 13:47:59.052 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.052 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-07 13:47:59.052 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.052 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:47:59.172 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:47:59.172 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:47:59.173 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:47:59.173 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:47:59.175 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 9051.6805ms
2022-12-07 13:47:59.175 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-07 13:47:59.175 -03:00 [DBG] Connection id "0HMMOEAVKTEIS" completed keep alive response.
2022-12-07 13:47:59.177 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:47:59.177 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:47:59.177 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:47:59.177 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/register application/json;+charset=utf-8 82 - 200 67 application/json;+charset=utf-8 9063.8788ms
2022-12-07 13:48:22.199 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52
2022-12-07 13:48:22.201 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-07 13:48:22.202 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-07 13:48:22.202 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:48:22.203 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:48:22.207 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-07 13:48:22.207 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:48:22.212 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-07 13:48:22.212 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:48:22.212 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:48:22.212 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:48:22.212 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:48:22.212 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:48:22.212 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:48:22.213 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-07 13:48:22.213 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:48:22.214 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-07 13:48:22.214 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:48:22.214 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-07 13:48:22.214 -03:00 [DBG] Connection id "0HMMOEAVKTEIS", Request id "0HMMOEAVKTEIS:00000004": started reading request body.
2022-12-07 13:48:22.214 -03:00 [DBG] Connection id "0HMMOEAVKTEIS", Request id "0HMMOEAVKTEIS:00000004": done reading request body.
2022-12-07 13:48:22.216 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:48:22.216 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:48:22.216 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-07 13:48:22.217 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-07 13:48:22.223 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:48:22.225 -03:00 [DBG] Compiling query expression: 
'DbSet<ApplicationUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0)'
2022-12-07 13:48:22.309 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ApplicationUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApplicationUser.Id (string) Required PK AfterSave:Throw, 0], [Property: ApplicationUser.AccessFailedCount (int) Required, 1], [Property: ApplicationUser.ConcurrencyStamp (string) Concurrency, 2], [Property: ApplicationUser.Email (string) MaxLength(256), 3], [Property: ApplicationUser.EmailConfirmed (bool) Required, 4], [Property: ApplicationUser.LockoutEnabled (bool) Required, 5], [Property: ApplicationUser.LockoutEnd (DateTimeOffset?), 6], [Property: ApplicationUser.Name (string) Required, 7], [Property: ApplicationUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: ApplicationUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: ApplicationUser.PasswordHash (string), 10], [Property: ApplicationUser.PhoneNumber (string), 11], [Property: ApplicationUser.PhoneNumberConfirmed (bool) Required, 12], [Property: ApplicationUser.SecurityStamp (string), 13], [Property: ApplicationUser.TwoFactorEnabled (bool) Required, 14], [Property: ApplicationUser.UserName (string) MaxLength(256), 15] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.Name, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM AspNetUsers AS a
        WHERE LOWER(a.UserName) == @__ToLower_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ApplicationUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-07 13:48:22.321 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:48:22.321 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:48:22.321 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:48:22.321 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:48:22.321 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:48:22.322 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.322 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.322 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:48:22.327 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Name], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE LOWER([a].[UserName]) = @__ToLower_0
2022-12-07 13:48:22.328 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'ApplicationUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-07 13:48:22.329 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.329 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-07 13:48:22.329 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.329 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:48:22.376 -03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2022-12-07 13:48:22.451 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-07 13:48:22.456 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:48:22.456 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:48:22.456 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:48:22.456 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.456 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.456 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:48:22.464 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2022-12-07 13:48:22.476 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.477 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-07 13:48:22.477 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.477 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-07 13:48:22.766 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:48:22.766 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:48:22.766 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:48:22.766 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:48:22.770 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 557.3093ms
2022-12-07 13:48:22.770 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-07 13:48:22.770 -03:00 [DBG] Connection id "0HMMOEAVKTEIS" completed keep alive response.
2022-12-07 13:48:22.771 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:48:22.771 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:22.771 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:48:22.771 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 52 - 200 382 application/json;+charset=utf-8 572.3364ms
2022-12-07 13:48:23.040 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-07 13:48:23.040 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-07 13:48:23.041 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-07 13:48:23.041 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:48:23.041 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-07 13:48:23.224 -03:00 [DBG] Successfully validated the token.
2022-12-07 13:48:23.226 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-07 13:48:23.227 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:48:23.227 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas(System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-07 13:48:23.227 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-07 13:48:23.227 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-07 13:48:23.227 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Filters.ResponseCacheFilter"]
2022-12-07 13:48:23.227 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-07 13:48:23.227 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-07 13:48:23.227 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:48:23.228 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-07 13:48:23.228 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-07 13:48:23.228 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:48:23.229 -03:00 [DBG] Attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:48:23.229 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.229 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.229 -03:00 [DBG] Done attempting to bind parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.229 -03:00 [DBG] Attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:48:23.229 -03:00 [DBG] Done attempting to validate the bound parameter 'Occupancy' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.229 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2022-12-07 13:48:23.230 -03:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2022-12-07 13:48:23.235 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2022-12-07 13:48:23.238 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:48:23.238 -03:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2022-12-07 13:48:23.238 -03:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2022-12-07 13:48:23.238 -03:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2022-12-07 13:48:23.238 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:48:23.238 -03:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:48:23.238 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:48:23.239 -03:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:48:23.239 -03:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2022-12-07 13:48:23.239 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]' ...
2022-12-07 13:48:23.239 -03:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Nullable`1[System.Int32]'.
2022-12-07 13:48:23.239 -03:00 [INF] Retornando todas as vilas.
2022-12-07 13:48:23.240 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-07 13:48:23.240 -03:00 [DBG] Creating DbConnection.
2022-12-07 13:48:23.240 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-07 13:48:23.240 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:48:23.240 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-07 13:48:23.240 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:23.240 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:23.240 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:48:23.247 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-07 13:48:23.249 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:23.249 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-07 13:48:23.249 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:23.256 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (5ms).
2022-12-07 13:48:23.259 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-07 13:48:23.259 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-07 13:48:23.259 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-07 13:48:23.259 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-07 13:48:23.260 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 32.9037ms
2022-12-07 13:48:23.261 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-07 13:48:23.261 -03:00 [DBG] Connection id "0HMMOEAVKTEIS" completed keep alive response.
2022-12-07 13:48:23.261 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-07 13:48:23.261 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-07 13:48:23.261 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-07 13:48:23.261 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 220.9009ms
