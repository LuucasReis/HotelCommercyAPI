2022-12-02 09:45:21.314 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 09:45:22.258 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 09:45:22.280 -03:00 [DBG] Creating DbConnection.
2022-12-02 09:45:22.344 -03:00 [DBG] Created DbConnection. (54ms).
2022-12-02 09:45:22.356 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.856 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.874 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 09:45:23.880 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-02 09:45:23.882 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-02 09:45:23.887 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 09:45:23.920 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 09:45:23.923 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.933 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-02 09:45:23.938 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 09:45:23.938 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 09:45:23.938 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 09:45:23.938 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.939 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.940 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 09:45:23.960 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 09:45:23.960 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.961 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 09:45:23.979 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 09:45:23.979 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 09:45:23.979 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 09:45:23.979 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.979 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.980 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 09:45:23.984 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 09:45:23.989 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.991 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-02 09:45:23.991 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:23.991 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 09:45:24.032 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 09:45:24.224 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 09:45:24.254 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 09:45:24.254 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 09:45:24.254 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 09:45:24.254 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:24.254 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:24.254 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 09:45:24.267 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 09:45:24.269 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:24.269 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-02 09:45:24.269 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:24.269 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 09:45:24.270 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 09:45:24.272 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 09:45:24.274 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 09:45:24.371 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 09:45:24.426 -03:00 [DBG] Hosting starting
2022-12-02 09:45:24.447 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 09:45:24.450 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 09:45:24.456 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 09:45:24.461 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 09:45:24.463 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 09:45:24.464 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 09:45:24.465 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 09:45:24.465 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 09:45:24.466 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 09:45:24.468 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 09:45:24.468 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 09:45:24.590 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 09:45:24.614 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 09:45:24.614 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 09:45:24.614 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 09:45:24.614 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 09:45:24.614 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 09:45:24.614 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 09:45:24.614 -03:00 [INF] Hosting environment: Development
2022-12-02 09:45:24.614 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 09:45:24.614 -03:00 [DBG] Hosting started
2022-12-02 09:45:24.835 -03:00 [DBG] Connection id "0HMMKCCAILLJS" accepted.
2022-12-02 09:45:24.836 -03:00 [DBG] Connection id "0HMMKCCAILLJS" started.
2022-12-02 09:45:24.837 -03:00 [DBG] Connection id "0HMMKCCAILLJT" accepted.
2022-12-02 09:45:24.837 -03:00 [DBG] Connection id "0HMMKCCAILLJT" started.
2022-12-02 09:45:25.171 -03:00 [DBG] Connection id "0HMMKCCAILLJU" accepted.
2022-12-02 09:45:25.172 -03:00 [DBG] Connection id "0HMMKCCAILLJU" started.
2022-12-02 09:45:25.213 -03:00 [DBG] Connection 0HMMKCCAILLJU established using the following protocol: "Tls12"
2022-12-02 09:45:25.261 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 09:45:25.295 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 09:45:25.319 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 09:45:25.319 -03:00 [DBG] Request did not match any endpoints
2022-12-02 09:45:25.486 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 09:45:25.741 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 09:45:25.744 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 09:45:25.748 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 09:45:25.752 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 496.7933ms
2022-12-02 09:45:25.762 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 15.1612ms
2022-12-02 09:45:25.796 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.7205ms
2022-12-02 09:45:26.016 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-02 09:45:26.016 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-02 09:45:26.016 -03:00 [DBG] Request did not match any endpoints
2022-12-02 09:45:26.222 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.6767ms
2022-12-02 09:45:34.854 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2022-12-02 09:45:34.854 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2022-12-02 09:45:34.860 -03:00 [DBG] Connection id "0HMMKCCAILLJT" stopped.
2022-12-02 09:45:34.860 -03:00 [DBG] Connection id "0HMMKCCAILLJS" stopped.
2022-12-02 09:45:34.877 -03:00 [DBG] Connection id "0HMMKCCAILLJS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 09:45:34.878 -03:00 [DBG] Connection id "0HMMKCCAILLJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:07:23.967 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:07:25.157 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:07:25.182 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:07:25.235 -03:00 [DBG] Created DbConnection. (48ms).
2022-12-02 13:07:25.248 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.662 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.675 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:07:26.685 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-02 13:07:26.688 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2022-12-02 13:07:26.696 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:07:26.728 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:07:26.731 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.743 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-02 13:07:26.747 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:07:26.747 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:07:26.747 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:07:26.748 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.749 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.750 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:07:26.769 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:07:26.769 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.769 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:07:26.791 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:07:26.791 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:07:26.791 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:07:26.791 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.791 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.792 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:07:26.796 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:07:26.801 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.804 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-02 13:07:26.804 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:26.804 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:07:26.865 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:07:27.124 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:07:27.163 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:07:27.163 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:07:27.163 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:07:27.163 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:27.163 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:27.163 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:07:27.166 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:07:27.171 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:27.172 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-02 13:07:27.172 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:27.172 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:07:27.174 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:07:27.177 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:07:27.179 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:07:27.266 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:07:27.348 -03:00 [DBG] Hosting starting
2022-12-02 13:07:27.381 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:07:27.383 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:07:27.390 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:07:27.398 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:07:27.402 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:07:27.403 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:07:27.404 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:07:27.405 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:07:27.407 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:07:27.410 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:07:27.410 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:07:27.512 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:07:27.538 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:07:27.538 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:07:27.538 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:07:27.538 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:07:27.538 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:07:27.539 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:07:27.539 -03:00 [INF] Hosting environment: Development
2022-12-02 13:07:27.539 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:07:27.539 -03:00 [DBG] Hosting started
2022-12-02 13:07:27.679 -03:00 [DBG] Connection id "0HMMKFT7F3SJ0" accepted.
2022-12-02 13:07:27.680 -03:00 [DBG] Connection id "0HMMKFT7F3SJ0" started.
2022-12-02 13:07:27.730 -03:00 [DBG] Connection 0HMMKFT7F3SJ0 established using the following protocol: "Tls12"
2022-12-02 13:07:27.763 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-02 13:07:27.773 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:07:27.789 -03:00 [DBG] No candidates found for the request path '/api/villaAPI'
2022-12-02 13:07:27.789 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:07:27.806 -03:00 [DBG] The request path  does not match the path filter
2022-12-02 13:07:27.874 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:07:27.888 -03:00 [DBG] Connection id "0HMMKFT7F3SJ0" completed keep alive response.
2022-12-02 13:07:27.890 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 404 0 - 129.5521ms
2022-12-02 13:07:27.928 -03:00 [DBG] Connection id "0HMMKFT7F3SJ1" accepted.
2022-12-02 13:07:27.928 -03:00 [DBG] Connection id "0HMMKFT7F3SJ1" started.
2022-12-02 13:07:27.972 -03:00 [DBG] Connection id "0HMMKFT7F3SJ1" received FIN.
2022-12-02 13:07:27.974 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:07:28.002 -03:00 [DBG] Connection id "0HMMKFT7F3SJ1" stopped.
2022-12-02 13:07:28.003 -03:00 [DBG] Connection id "0HMMKFT7F3SJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:08:38.222 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:08:39.248 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:08:39.277 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:08:39.330 -03:00 [DBG] Created DbConnection. (51ms).
2022-12-02 13:08:39.340 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.718 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.727 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:08:40.733 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-02 13:08:40.736 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-02 13:08:40.742 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:08:40.778 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:08:40.780 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.791 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-02 13:08:40.795 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:08:40.795 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:08:40.795 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:08:40.795 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.796 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.796 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:08:40.816 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:08:40.817 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.818 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:08:40.842 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:08:40.842 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:08:40.842 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:08:40.842 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.842 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.843 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:08:40.849 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:08:40.853 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.854 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-02 13:08:40.855 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:40.855 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:08:40.913 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:08:41.204 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:08:41.242 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:08:41.243 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:08:41.243 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:08:41.243 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:41.243 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:41.243 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:08:41.246 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:08:41.250 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:41.250 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-02 13:08:41.250 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:41.250 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:08:41.252 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:08:41.256 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:08:41.258 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:08:41.342 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:08:41.413 -03:00 [DBG] Hosting starting
2022-12-02 13:08:41.443 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:08:41.445 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:08:41.450 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:08:41.467 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:08:41.473 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:08:41.474 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:08:41.475 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:08:41.476 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:08:41.478 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:08:41.480 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:08:41.480 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:08:41.639 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:08:41.686 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:08:41.687 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:08:41.687 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:08:41.687 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:08:41.687 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:08:41.689 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:08:41.689 -03:00 [INF] Hosting environment: Development
2022-12-02 13:08:41.689 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:08:41.689 -03:00 [DBG] Hosting started
2022-12-02 13:08:41.790 -03:00 [DBG] Connection id "0HMMKFTTHT1M5" accepted.
2022-12-02 13:08:41.791 -03:00 [DBG] Connection id "0HMMKFTTHT1M5" started.
2022-12-02 13:08:41.811 -03:00 [DBG] Connection id "0HMMKFTTHT1M5" received FIN.
2022-12-02 13:08:41.821 -03:00 [DBG] Connection id "0HMMKFTTHT1M6" accepted.
2022-12-02 13:08:41.822 -03:00 [DBG] Connection id "0HMMKFTTHT1M6" started.
2022-12-02 13:08:41.822 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:08:41.857 -03:00 [DBG] Connection id "0HMMKFTTHT1M5" stopped.
2022-12-02 13:08:41.860 -03:00 [DBG] Connection id "0HMMKFTTHT1M5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:08:41.872 -03:00 [DBG] Connection 0HMMKFTTHT1M6 established using the following protocol: "Tls12"
2022-12-02 13:08:41.910 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-02 13:08:41.927 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:08:41.965 -03:00 [DBG] No candidates found for the request path '/api/villaAPI'
2022-12-02 13:08:41.965 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:08:42.000 -03:00 [DBG] The request path  does not match the path filter
2022-12-02 13:08:42.042 -03:00 [DBG] Connection id "0HMMKFTTHT1M7" accepted.
2022-12-02 13:08:42.042 -03:00 [DBG] Connection id "0HMMKFTTHT1M7" started.
2022-12-02 13:08:42.054 -03:00 [DBG] Connection 0HMMKFTTHT1M7 established using the following protocol: "Tls12"
2022-12-02 13:08:42.109 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:08:42.109 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:08:42.122 -03:00 [DBG] Connection id "0HMMKFTTHT1M6" completed keep alive response.
2022-12-02 13:08:42.126 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 404 0 - 218.5969ms
2022-12-02 13:08:42.145 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:08:42.145 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:08:42.336 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:08:42.454 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:08:42.465 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:08:42.465 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 355.5021ms
2022-12-02 13:08:42.465 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:08:42.472 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 7.5299ms
2022-12-02 13:08:42.488 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.1159ms
2022-12-02 13:08:42.718 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/swagger/v1/swagger.json - -
2022-12-02 13:08:42.718 -03:00 [DBG] No candidates found for the request path '/swagger/swagger/v1/swagger.json'
2022-12-02 13:08:42.718 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:08:42.720 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2022-12-02 13:08:42.721 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:08:42.721 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/swagger/v1/swagger.json - - - 404 0 - 2.8106ms
2022-12-02 13:08:42.741 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/favicon-32x32.png - -
2022-12-02 13:08:42.742 -03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2022-12-02 13:08:42.742 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:08:42.748 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-12-02 13:08:42.749 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/favicon-32x32.png - - - 200 628 image/png 7.1925ms
2022-12-02 13:08:52.074 -03:00 [DBG] Connection id "0HMMKFTTHT1M6" received FIN.
2022-12-02 13:08:52.074 -03:00 [DBG] Connection id "0HMMKFTTHT1M6" disconnecting.
2022-12-02 13:09:10.347 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:09:11.114 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:09:11.137 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:09:11.184 -03:00 [DBG] Created DbConnection. (44ms).
2022-12-02 13:09:11.190 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.562 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.570 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:09:12.576 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-02 13:09:12.578 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-02 13:09:12.584 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:09:12.612 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:09:12.615 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.625 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-02 13:09:12.629 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:09:12.629 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:09:12.629 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:09:12.629 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.630 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.630 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:09:12.648 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:09:12.648 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.649 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:09:12.668 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:09:12.668 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:12.668 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:12.668 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.668 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.668 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:09:12.672 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:09:12.677 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.679 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-02 13:09:12.679 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.679 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:09:12.719 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:09:12.914 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:09:12.941 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:09:12.941 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:12.941 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:12.941 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.941 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.941 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:09:12.944 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:09:12.946 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.946 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-02 13:09:12.946 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.946 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:09:12.948 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:09:12.951 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:12.953 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:09:13.046 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:09:13.098 -03:00 [DBG] Hosting starting
2022-12-02 13:09:13.121 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:09:13.123 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:09:13.128 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:09:13.134 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:09:13.135 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:09:13.136 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:09:13.137 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:09:13.137 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:09:13.138 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:09:13.140 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:09:13.140 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:09:13.271 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:09:13.306 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:09:13.306 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:09:13.306 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:09:13.306 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:09:13.306 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:09:13.306 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:09:13.306 -03:00 [INF] Hosting environment: Development
2022-12-02 13:09:13.307 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:09:13.307 -03:00 [DBG] Hosting started
2022-12-02 13:09:13.317 -03:00 [DBG] Connection id "0HMMKFU6UJ359" received FIN.
2022-12-02 13:09:13.325 -03:00 [DBG] Connection id "0HMMKFU6UJ359" accepted.
2022-12-02 13:09:13.327 -03:00 [DBG] Connection id "0HMMKFU6UJ359" started.
2022-12-02 13:09:13.337 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:09:13.359 -03:00 [DBG] Connection id "0HMMKFU6UJ359" stopped.
2022-12-02 13:09:13.362 -03:00 [DBG] Connection id "0HMMKFU6UJ359" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:09:13.492 -03:00 [DBG] Connection id "0HMMKFU6UJ35A" accepted.
2022-12-02 13:09:13.492 -03:00 [DBG] Connection id "0HMMKFU6UJ35A" started.
2022-12-02 13:09:13.529 -03:00 [DBG] Connection 0HMMKFU6UJ35A established using the following protocol: "Tls12"
2022-12-02 13:09:13.578 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:09:13.607 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:09:13.633 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:09:13.633 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:09:13.817 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:09:13.941 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:09:13.948 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:09:13.948 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:09:13.951 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 374.5760ms
2022-12-02 13:09:13.965 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 16.7987ms
2022-12-02 13:09:13.975 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.9496ms
2022-12-02 13:09:14.058 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/swagger/v1/swagger.json - -
2022-12-02 13:09:14.058 -03:00 [DBG] No candidates found for the request path '/swagger/swagger/v1/swagger.json'
2022-12-02 13:09:14.058 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:09:14.059 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2022-12-02 13:09:14.128 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:09:14.130 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/swagger/v1/swagger.json - - - 404 0 - 72.3541ms
2022-12-02 13:09:53.728 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:09:54.515 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:09:54.538 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:09:54.595 -03:00 [DBG] Created DbConnection. (54ms).
2022-12-02 13:09:54.602 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.032 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.045 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:09:56.052 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-02 13:09:56.056 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2022-12-02 13:09:56.064 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:09:56.102 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:09:56.105 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.117 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-02 13:09:56.124 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:09:56.125 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:09:56.125 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:09:56.125 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.126 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.127 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:09:56.157 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:09:56.157 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.158 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:09:56.182 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:09:56.182 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:56.182 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:56.182 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.182 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.183 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:09:56.186 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:09:56.191 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.192 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-02 13:09:56.192 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.192 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:09:56.242 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:09:56.466 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:09:56.497 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:09:56.497 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:56.497 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:09:56.497 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.497 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.498 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:09:56.498 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:09:56.503 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.503 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-02 13:09:56.503 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.503 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:09:56.506 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:09:56.510 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:09:56.514 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2022-12-02 13:09:56.606 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:09:56.662 -03:00 [DBG] Hosting starting
2022-12-02 13:09:56.687 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:09:56.690 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:09:56.697 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:09:56.706 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:09:56.708 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:09:56.709 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:09:56.710 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:09:56.711 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:09:56.713 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:09:56.716 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:09:56.716 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:09:56.853 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:09:56.894 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:09:56.895 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:09:56.895 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:09:56.895 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:09:56.895 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:09:56.895 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:09:56.895 -03:00 [INF] Hosting environment: Development
2022-12-02 13:09:56.895 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:09:56.895 -03:00 [DBG] Hosting started
2022-12-02 13:09:57.218 -03:00 [DBG] Connection id "0HMMKFUK182R6" accepted.
2022-12-02 13:09:57.219 -03:00 [DBG] Connection id "0HMMKFUK182R6" started.
2022-12-02 13:09:57.261 -03:00 [DBG] Connection id "0HMMKFUK182R7" received FIN.
2022-12-02 13:09:57.262 -03:00 [DBG] Connection id "0HMMKFUK182R7" accepted.
2022-12-02 13:09:57.262 -03:00 [DBG] Connection id "0HMMKFUK182R7" started.
2022-12-02 13:09:57.263 -03:00 [DBG] Connection id "0HMMKFUK182R6" received FIN.
2022-12-02 13:09:57.266 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:09:57.269 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:09:57.292 -03:00 [DBG] Connection id "0HMMKFUK182R7" stopped.
2022-12-02 13:09:57.293 -03:00 [DBG] Connection id "0HMMKFUK182R6" stopped.
2022-12-02 13:09:57.295 -03:00 [DBG] Connection id "0HMMKFUK182R6" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:09:57.295 -03:00 [DBG] Connection id "0HMMKFUK182R7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:09:57.464 -03:00 [DBG] Connection id "0HMMKFUK182R8" accepted.
2022-12-02 13:09:57.464 -03:00 [DBG] Connection id "0HMMKFUK182R8" started.
2022-12-02 13:09:57.501 -03:00 [DBG] Connection 0HMMKFUK182R8 established using the following protocol: "Tls12"
2022-12-02 13:09:57.546 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:09:57.580 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:09:57.612 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:09:57.613 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:09:57.795 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:09:57.925 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:09:57.928 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:09:57.928 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:09:57.940 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 388.8017ms
2022-12-02 13:09:57.947 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 14.7496ms
2022-12-02 13:09:57.955 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.4335ms
2022-12-02 13:09:58.027 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/swagger/v1/swagger.json - -
2022-12-02 13:09:58.028 -03:00 [DBG] No candidates found for the request path '/swagger/swagger/v1/swagger.json'
2022-12-02 13:09:58.028 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:09:58.030 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2022-12-02 13:09:58.105 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:09:58.107 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/swagger/v1/swagger.json - - - 404 0 - 79.0446ms
2022-12-02 13:11:21.552 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:11:22.419 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:11:22.439 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:11:22.490 -03:00 [DBG] Created DbConnection. (46ms).
2022-12-02 13:11:22.499 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:23.891 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:23.905 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:11:23.913 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-02 13:11:23.915 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2022-12-02 13:11:23.921 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:11:23.955 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:11:23.958 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:23.968 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-02 13:11:23.972 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:11:23.972 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:11:23.972 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:11:23.972 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:23.973 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:23.974 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:11:23.994 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:11:23.994 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:23.995 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:11:24.016 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:11:24.017 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:11:24.017 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:11:24.017 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.017 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.018 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:11:24.022 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:11:24.027 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.029 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-02 13:11:24.029 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.029 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:11:24.072 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:11:24.276 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:11:24.303 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:11:24.303 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:11:24.303 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:11:24.303 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.303 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.303 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:11:24.305 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:11:24.307 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.307 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-02 13:11:24.307 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.307 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:11:24.309 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:11:24.312 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:11:24.313 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:11:24.410 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:11:24.482 -03:00 [DBG] Hosting starting
2022-12-02 13:11:24.507 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:11:24.508 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:11:24.513 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:11:24.518 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:11:24.520 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:11:24.520 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:11:24.521 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:11:24.521 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:11:24.523 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:11:24.524 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:11:24.524 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:11:24.649 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:11:24.683 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:11:24.683 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:11:24.683 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:11:24.683 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:11:24.683 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:11:24.684 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:11:24.684 -03:00 [INF] Hosting environment: Development
2022-12-02 13:11:24.684 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:11:24.684 -03:00 [DBG] Hosting started
2022-12-02 13:11:24.713 -03:00 [DBG] Connection id "0HMMKFVE3LOKG" received FIN.
2022-12-02 13:11:24.713 -03:00 [DBG] Connection id "0HMMKFVE3LOKF" received FIN.
2022-12-02 13:11:24.723 -03:00 [DBG] Connection id "0HMMKFVE3LOKG" accepted.
2022-12-02 13:11:24.723 -03:00 [DBG] Connection id "0HMMKFVE3LOKF" accepted.
2022-12-02 13:11:24.724 -03:00 [DBG] Connection id "0HMMKFVE3LOKF" started.
2022-12-02 13:11:24.724 -03:00 [DBG] Connection id "0HMMKFVE3LOKG" started.
2022-12-02 13:11:24.737 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:11:24.737 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:11:24.764 -03:00 [DBG] Connection id "0HMMKFVE3LOKF" stopped.
2022-12-02 13:11:24.764 -03:00 [DBG] Connection id "0HMMKFVE3LOKG" stopped.
2022-12-02 13:11:24.769 -03:00 [DBG] Connection id "0HMMKFVE3LOKF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:11:24.769 -03:00 [DBG] Connection id "0HMMKFVE3LOKG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:11:24.917 -03:00 [DBG] Connection id "0HMMKFVE3LOKH" accepted.
2022-12-02 13:11:24.917 -03:00 [DBG] Connection id "0HMMKFVE3LOKH" started.
2022-12-02 13:11:25.023 -03:00 [DBG] Connection 0HMMKFVE3LOKH established using the following protocol: "Tls12"
2022-12-02 13:11:25.085 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:11:25.115 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:11:25.142 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:11:25.143 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:11:25.349 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:11:25.491 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:11:25.495 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:11:25.495 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:11:25.498 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 415.7990ms
2022-12-02 13:11:25.514 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 19.5231ms
2022-12-02 13:11:25.523 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.4254ms
2022-12-02 13:11:25.598 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-02 13:11:25.598 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-02 13:11:25.598 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:11:25.793 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.4564ms
2022-12-02 13:13:46.566 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:13:47.505 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:13:47.530 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:13:47.586 -03:00 [DBG] Created DbConnection. (53ms).
2022-12-02 13:13:47.594 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.228 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.238 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:13:49.247 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-02 13:13:49.249 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-02 13:13:49.257 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:13:49.297 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:13:49.299 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.317 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-02 13:13:49.323 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:13:49.323 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:13:49.323 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:13:49.323 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.324 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.325 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:13:49.354 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:13:49.354 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.356 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-02 13:13:49.394 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:13:49.394 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:13:49.394 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:13:49.394 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.395 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.396 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:13:49.399 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:13:49.403 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.405 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-02 13:13:49.405 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.406 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:13:49.456 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:13:49.749 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:13:49.790 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:13:49.791 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:13:49.791 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:13:49.791 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.791 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.791 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:13:49.792 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:13:49.795 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.795 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-02 13:13:49.795 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.795 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:13:49.797 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:13:49.799 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:49.801 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:13:49.944 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:13:50.061 -03:00 [DBG] Hosting starting
2022-12-02 13:13:50.084 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:13:50.089 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:13:50.096 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:13:50.103 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:13:50.107 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:13:50.108 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:13:50.109 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:13:50.110 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:13:50.111 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:13:50.114 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:13:50.115 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:13:50.219 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:13:50.246 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:13:50.247 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:13:50.247 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:13:50.247 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:13:50.247 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:13:50.247 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:13:50.247 -03:00 [INF] Hosting environment: Development
2022-12-02 13:13:50.247 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:13:50.247 -03:00 [DBG] Hosting started
2022-12-02 13:13:50.470 -03:00 [DBG] Connection id "0HMMKG0PHMON9" accepted.
2022-12-02 13:13:50.471 -03:00 [DBG] Connection id "0HMMKG0PHMON9" started.
2022-12-02 13:13:50.513 -03:00 [DBG] Connection 0HMMKG0PHMON9 established using the following protocol: "Tls12"
2022-12-02 13:13:50.550 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:13:50.560 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:13:50.590 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:13:50.597 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:13:50.602 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:13:50.610 -03:00 [DBG] Connection id "0HMMKG0PHMONA" accepted.
2022-12-02 13:13:50.610 -03:00 [DBG] Connection id "0HMMKG0PHMONA" started.
2022-12-02 13:13:50.626 -03:00 [DBG] Connection id "0HMMKG0PHMONB" accepted.
2022-12-02 13:13:50.627 -03:00 [DBG] Connection id "0HMMKG0PHMONB" started.
2022-12-02 13:13:50.636 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:13:50.658 -03:00 [DBG] Connection id "0HMMKG0PHMONA" received FIN.
2022-12-02 13:13:50.658 -03:00 [DBG] Connection id "0HMMKG0PHMONB" received FIN.
2022-12-02 13:13:50.704 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:13:50.704 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:13:50.759 -03:00 [DBG] Connection id "0HMMKG0PHMONA" stopped.
2022-12-02 13:13:50.759 -03:00 [DBG] Connection id "0HMMKG0PHMONB" stopped.
2022-12-02 13:13:50.760 -03:00 [DBG] Connection id "0HMMKG0PHMONA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:13:50.760 -03:00 [DBG] Connection id "0HMMKG0PHMONB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:13:50.767 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:13:50.770 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:13:50.797 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:13:50.798 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:13:50.798 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:13:50.798 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:13:50.799 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:13:50.799 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:13:50.799 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:13:50.802 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:13:50.903 -03:00 [DBG] Connection id "0HMMKG0PHMONC" accepted.
2022-12-02 13:13:50.903 -03:00 [DBG] Connection id "0HMMKG0PHMONC" started.
2022-12-02 13:13:50.915 -03:00 [DBG] Connection 0HMMKG0PHMONC established using the following protocol: "Tls12"
2022-12-02 13:13:50.948 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:13:50.958 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:13:50.961 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:13:50.964 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:13:50.964 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:13:50.972 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-02 13:13:51.018 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-02 13:13:51.034 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:13:51.034 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:13:51.034 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:13:51.034 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:13:51.034 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:13:51.041 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:51.045 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:51.046 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:13:51.073 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:13:51.099 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:51.100 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 26ms reading results.
2022-12-02 13:13:51.104 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:51.105 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-02 13:13:51.138 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:13:51.143 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:13:51.144 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:13:51.144 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:13:51.161 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:13:51.283 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:13:51.285 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:13:51.285 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:13:51.289 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 340.5627ms
2022-12-02 13:13:51.300 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 14.6207ms
2022-12-02 13:13:51.311 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.9936ms
2022-12-02 13:13:51.335 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 531.7979ms
2022-12-02 13:13:51.336 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:13:51.337 -03:00 [DBG] Connection id "0HMMKG0PHMON9" completed keep alive response.
2022-12-02 13:13:51.340 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:13:51.347 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:13:51.348 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:13:51.348 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 801.3776ms
2022-12-02 13:13:51.389 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-02 13:13:51.389 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-02 13:13:51.389 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:13:51.605 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.4144ms
2022-12-02 13:14:03.296 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:14:03.299 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:14:03.299 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:14:03.299 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:14:03.299 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:14:03.300 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:14:03.300 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:14:03.300 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:14:03.300 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:14:03.300 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:14:03.300 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:14:03.300 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:14:03.300 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:14:03.300 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:14:03.358 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:14:03.358 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:14:03.358 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:14:03.363 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:14:03.363 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:14:03.363 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:14:03.363 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:14:03.363 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:14:03.363 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:03.364 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:03.364 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:14:03.371 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:14:03.372 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:03.372 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-02 13:14:03.372 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:03.372 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:14:03.372 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:14:03.372 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:14:03.372 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:14:03.372 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:14:03.372 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 72.1174ms
2022-12-02 13:14:03.373 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:14:03.373 -03:00 [DBG] Connection id "0HMMKG0PHMON9" completed keep alive response.
2022-12-02 13:14:03.373 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:14:03.373 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:03.373 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:14:03.373 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 76.6109ms
2022-12-02 13:14:51.643 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:14:52.633 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:14:52.658 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:14:52.722 -03:00 [DBG] Created DbConnection. (60ms).
2022-12-02 13:14:52.732 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.108 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.116 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:14:54.123 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-02 13:14:54.127 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-02 13:14:54.134 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:14:54.171 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:14:54.174 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.185 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-02 13:14:54.191 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:14:54.191 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:14:54.191 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:14:54.191 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.193 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.193 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:14:54.217 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:14:54.217 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.218 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:14:54.238 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:14:54.239 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:14:54.239 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:14:54.239 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.239 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.239 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:14:54.244 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:14:54.248 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.250 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-02 13:14:54.250 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.250 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:14:54.305 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:14:54.564 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:14:54.595 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:14:54.595 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:14:54.595 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:14:54.595 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.595 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.595 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:14:54.596 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:14:54.599 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.599 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-02 13:14:54.599 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.599 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:14:54.601 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:14:54.604 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:54.605 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:14:54.711 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:14:54.770 -03:00 [DBG] Hosting starting
2022-12-02 13:14:54.796 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:14:54.798 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:14:54.802 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:14:54.809 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:14:54.811 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:14:54.811 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:14:54.812 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:14:54.813 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:14:54.814 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:14:54.816 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:14:54.816 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:14:54.964 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:14:54.991 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:14:54.992 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:14:54.992 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:14:54.992 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:14:54.992 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:14:54.993 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:14:54.994 -03:00 [INF] Hosting environment: Development
2022-12-02 13:14:54.994 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:14:54.994 -03:00 [DBG] Hosting started
2022-12-02 13:14:55.173 -03:00 [DBG] Connection id "0HMMKG1CQOGC1" accepted.
2022-12-02 13:14:55.174 -03:00 [DBG] Connection id "0HMMKG1CQOGC1" started.
2022-12-02 13:14:55.177 -03:00 [DBG] Connection id "0HMMKG1CQOGC1" received FIN.
2022-12-02 13:14:55.185 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:14:55.215 -03:00 [DBG] Connection id "0HMMKG1CQOGC1" stopped.
2022-12-02 13:14:55.218 -03:00 [DBG] Connection id "0HMMKG1CQOGC1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:14:55.236 -03:00 [DBG] Connection id "0HMMKG1CQOGC2" accepted.
2022-12-02 13:14:55.236 -03:00 [DBG] Connection id "0HMMKG1CQOGC2" started.
2022-12-02 13:14:55.277 -03:00 [DBG] Connection 0HMMKG1CQOGC2 established using the following protocol: "Tls12"
2022-12-02 13:14:55.322 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:14:55.338 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:14:55.389 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:14:55.398 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:14:55.407 -03:00 [DBG] Connection id "0HMMKG1CQOGC3" accepted.
2022-12-02 13:14:55.407 -03:00 [DBG] Connection id "0HMMKG1CQOGC3" started.
2022-12-02 13:14:55.412 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:14:55.420 -03:00 [DBG] Connection 0HMMKG1CQOGC3 established using the following protocol: "Tls12"
2022-12-02 13:14:55.445 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:14:55.445 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:14:55.517 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:14:55.522 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:14:55.536 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:14:55.538 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:14:55.565 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:14:55.566 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:14:55.566 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:14:55.566 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:14:55.566 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:14:55.566 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:14:55.567 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:14:55.584 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:14:55.683 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:14:55.686 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:14:55.701 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-02 13:14:55.722 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:14:55.755 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-02 13:14:55.776 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:14:55.776 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:14:55.777 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:14:55.777 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-02 13:14:55.777 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-02 13:14:55.784 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:55.790 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:55.792 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:14:55.818 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:14:55.839 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:14:55.844 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:14:55.844 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:14:55.847 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 401.4618ms
2022-12-02 13:14:55.854 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:55.855 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 36ms reading results.
2022-12-02 13:14:55.855 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 10.4987ms
2022-12-02 13:14:55.862 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:55.862 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:14:55.866 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.6467ms
2022-12-02 13:14:55.897 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:14:55.902 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:14:55.902 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:14:55.903 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:14:55.942 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-02 13:14:55.942 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-02 13:14:55.942 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:14:56.074 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 502.4153ms
2022-12-02 13:14:56.076 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:14:56.078 -03:00 [DBG] Connection id "0HMMKG1CQOGC2" completed keep alive response.
2022-12-02 13:14:56.081 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:14:56.086 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:14:56.087 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:14:56.087 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 768.6430ms
2022-12-02 13:14:56.143 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 201.0128ms
2022-12-02 13:15:00.594 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38
2022-12-02 13:15:00.596 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-02 13:15:00.597 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-02 13:15:00.597 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:15:00.597 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:15:00.597 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:15:00.597 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:15:00.612 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-02 13:15:00.612 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:15:00.612 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:15:00.612 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:00.612 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:15:00.612 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:00.612 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-02 13:15:00.613 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-02 13:15:00.622 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-02 13:15:00.625 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-02 13:15:00.626 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-02 13:15:00.627 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-02 13:15:00.644 -03:00 [DBG] Connection id "0HMMKG1CQOGC2", Request id "0HMMKG1CQOGC2:00000003": started reading request body.
2022-12-02 13:15:00.645 -03:00 [DBG] Connection id "0HMMKG1CQOGC2", Request id "0HMMKG1CQOGC2:00000003": done reading request body.
2022-12-02 13:15:00.707 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:15:00.707 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:15:00.708 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-02 13:15:00.715 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:15:00.810 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:00.824 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-02 13:15:00.960 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-02 13:15:00.994 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:00.994 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:00.994 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:15:00.994 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:00.998 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-02 13:15:00.999 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:00.999 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.004 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-02 13:15:01.063 -03:00 [INF] Executed DbCommand (64ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-02 13:15:01.133 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-02 13:15:01.150 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.151 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 88ms reading results.
2022-12-02 13:15:01.152 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.152 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:01.330 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:15:01.330 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:15:01.331 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:15:01.331 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:15:01.336 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 723.3542ms
2022-12-02 13:15:01.336 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:15:01.336 -03:00 [DBG] Connection id "0HMMKG1CQOGC2" completed keep alive response.
2022-12-02 13:15:01.336 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:01.336 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.336 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:15:01.337 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 742.2601ms
2022-12-02 13:15:01.361 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:15:01.361 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:15:01.361 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:15:01.361 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:01.361 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:15:01.455 -03:00 [DBG] Successfully validated the token.
2022-12-02 13:15:01.456 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-02 13:15:01.456 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:01.456 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:15:01.456 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:15:01.456 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:15:01.456 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:01.457 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:15:01.457 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:01.457 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:01.458 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:01.458 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:01.458 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:15:01.460 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:01.460 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:01.460 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:15:01.460 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:01.460 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:01.460 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.460 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.460 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:01.465 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:01.465 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.465 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-02 13:15:01.465 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.465 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:01.466 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:15:01.466 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:15:01.466 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:15:01.466 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:15:01.466 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 9.6082ms
2022-12-02 13:15:01.466 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:01.467 -03:00 [DBG] Connection id "0HMMKG1CQOGC2" completed keep alive response.
2022-12-02 13:15:01.467 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:01.467 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:01.467 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:15:01.467 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 106.0807ms
2022-12-02 13:15:21.868 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:15:22.972 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:22.997 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:23.108 -03:00 [DBG] Created DbConnection. (108ms).
2022-12-02 13:15:23.117 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.542 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.549 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:15:24.555 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-02 13:15:24.559 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-02 13:15:24.565 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:15:24.605 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:15:24.610 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.626 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (10ms).
2022-12-02 13:15:24.633 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:15:24.633 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:15:24.633 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:15:24.633 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.634 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.635 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:15:24.656 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:15:24.656 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.657 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:24.676 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:24.676 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:24.676 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:24.676 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.676 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.677 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:15:24.680 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:15:24.685 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.687 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-02 13:15:24.687 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.687 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:24.735 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:15:24.965 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:15:24.998 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:24.998 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:24.998 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:24.998 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.998 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:24.998 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:15:24.999 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:15:25.001 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:25.001 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-02 13:15:25.001 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:25.001 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:25.002 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:25.004 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:25.007 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:15:25.098 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:15:25.173 -03:00 [DBG] Hosting starting
2022-12-02 13:15:25.194 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:15:25.196 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:15:25.201 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:15:25.207 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:15:25.210 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:15:25.210 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:15:25.212 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:15:25.213 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:15:25.214 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:15:25.216 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:15:25.216 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:15:25.378 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:15:25.412 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:15:25.412 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:15:25.412 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:15:25.412 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:15:25.412 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:15:25.412 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:15:25.412 -03:00 [INF] Hosting environment: Development
2022-12-02 13:15:25.412 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:15:25.412 -03:00 [DBG] Hosting started
2022-12-02 13:15:25.465 -03:00 [DBG] Connection id "0HMMKG1LRLF0U" received FIN.
2022-12-02 13:15:25.465 -03:00 [DBG] Connection id "0HMMKG1LRLF0V" received FIN.
2022-12-02 13:15:25.474 -03:00 [DBG] Connection id "0HMMKG1LRLF0U" accepted.
2022-12-02 13:15:25.475 -03:00 [DBG] Connection id "0HMMKG1LRLF0V" accepted.
2022-12-02 13:15:25.476 -03:00 [DBG] Connection id "0HMMKG1LRLF0U" started.
2022-12-02 13:15:25.476 -03:00 [DBG] Connection id "0HMMKG1LRLF0V" started.
2022-12-02 13:15:25.489 -03:00 [DBG] Connection id "0HMMKG1LRLF10" accepted.
2022-12-02 13:15:25.489 -03:00 [DBG] Connection id "0HMMKG1LRLF10" started.
2022-12-02 13:15:25.493 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:15:25.493 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:15:25.525 -03:00 [DBG] Connection id "0HMMKG1LRLF0V" stopped.
2022-12-02 13:15:25.525 -03:00 [DBG] Connection id "0HMMKG1LRLF0U" stopped.
2022-12-02 13:15:25.533 -03:00 [DBG] Connection id "0HMMKG1LRLF0U" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:15:25.533 -03:00 [DBG] Connection id "0HMMKG1LRLF0V" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:15:25.554 -03:00 [DBG] Connection 0HMMKG1LRLF10 established using the following protocol: "Tls12"
2022-12-02 13:15:25.593 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:15:25.606 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:15:25.657 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:15:25.666 -03:00 [DBG] Connection id "0HMMKG1LRLF11" accepted.
2022-12-02 13:15:25.667 -03:00 [DBG] Connection id "0HMMKG1LRLF11" started.
2022-12-02 13:15:25.667 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:15:25.678 -03:00 [DBG] Connection 0HMMKG1LRLF11 established using the following protocol: "Tls12"
2022-12-02 13:15:25.683 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:25.706 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:15:25.712 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:15:25.748 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:15:25.748 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:15:25.786 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:15:25.788 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:25.806 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:15:25.807 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:15:25.808 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:15:25.809 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:25.809 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:15:25.809 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:25.810 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:25.814 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:25.918 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:25.921 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:15:25.933 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-02 13:15:25.938 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:15:25.994 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-02 13:15:26.013 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:26.013 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:26.013 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:15:26.013 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:26.014 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:26.020 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:26.027 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:26.029 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:26.047 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:15:26.066 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:15:26.066 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:15:26.067 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 359.9253ms
2022-12-02 13:15:26.080 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 13.5827ms
2022-12-02 13:15:26.083 -03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:26.105 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.1951ms
2022-12-02 13:15:26.114 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:26.114 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 31ms reading results.
2022-12-02 13:15:26.119 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:26.120 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-02 13:15:26.164 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:15:26.169 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:15:26.170 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-02 13:15:26.170 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-02 13:15:26.170 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:15:26.170 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:15:26.170 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:15:26.350 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 535.1197ms
2022-12-02 13:15:26.352 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:26.354 -03:00 [DBG] Connection id "0HMMKG1LRLF10" completed keep alive response.
2022-12-02 13:15:26.357 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:26.365 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:26.366 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:15:26.366 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 779.0963ms
2022-12-02 13:15:26.398 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 228.2153ms
2022-12-02 13:15:31.406 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38
2022-12-02 13:15:31.408 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-02 13:15:31.408 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-02 13:15:31.409 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:15:31.409 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:15:31.409 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:15:31.409 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:15:31.423 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-02 13:15:31.423 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:15:31.423 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:15:31.423 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:31.423 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:15:31.423 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:31.423 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-02 13:15:31.424 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-02 13:15:31.429 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-02 13:15:31.431 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-02 13:15:31.432 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-02 13:15:31.432 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-02 13:15:31.438 -03:00 [DBG] Connection id "0HMMKG1LRLF10", Request id "0HMMKG1LRLF10:00000003": started reading request body.
2022-12-02 13:15:31.439 -03:00 [DBG] Connection id "0HMMKG1LRLF10", Request id "0HMMKG1LRLF10:00000003": done reading request body.
2022-12-02 13:15:31.509 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:15:31.509 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:15:31.509 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-02 13:15:31.522 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:15:31.573 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:31.582 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-02 13:15:31.665 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-02 13:15:31.705 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:31.705 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:31.705 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:15:31.705 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:31.710 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-02 13:15:31.710 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:31.710 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:31.715 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-02 13:15:31.772 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-02 13:15:31.819 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-02 13:15:31.836 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:31.837 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 65ms reading results.
2022-12-02 13:15:31.837 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:31.837 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:32.040 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:15:32.041 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:15:32.041 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:15:32.041 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:15:32.043 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 619.2409ms
2022-12-02 13:15:32.043 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:15:32.043 -03:00 [DBG] Connection id "0HMMKG1LRLF10" completed keep alive response.
2022-12-02 13:15:32.043 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:32.043 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:32.043 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:15:32.043 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 636.4882ms
2022-12-02 13:15:32.080 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:15:32.081 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:15:32.081 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:15:32.081 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:32.081 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:15:32.201 -03:00 [DBG] Successfully validated the token.
2022-12-02 13:15:32.202 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-02 13:15:32.202 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:32.203 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:15:32.203 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:15:32.203 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:15:32.203 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:32.203 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:15:32.203 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:32.203 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:32.203 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:32.203 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:32.203 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:15:32.204 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:32.205 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:32.205 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:15:32.205 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:32.205 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:32.205 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:32.205 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:32.205 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:32.211 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:32.211 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:32.211 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-02 13:15:32.211 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:32.211 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:32.212 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:15:32.212 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:15:32.212 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:15:32.212 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:15:32.212 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 9.2481ms
2022-12-02 13:15:32.212 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:32.212 -03:00 [DBG] Connection id "0HMMKG1LRLF10" completed keep alive response.
2022-12-02 13:15:32.212 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:32.212 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:32.212 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:15:32.212 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 132.1234ms
2022-12-02 13:15:49.141 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-02 13:15:50.273 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:50.295 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:50.356 -03:00 [DBG] Created DbConnection. (56ms).
2022-12-02 13:15:50.368 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.721 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.732 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-02 13:15:51.739 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-02 13:15:51.742 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-02 13:15:51.749 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:15:51.780 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-02 13:15:51.784 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.801 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (12ms).
2022-12-02 13:15:51.807 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-02 13:15:51.807 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:15:51.807 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-02 13:15:51.807 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.809 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.811 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:15:51.835 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-02 13:15:51.835 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.836 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:51.857 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:51.857 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:51.857 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:51.857 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.857 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.858 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:15:51.861 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-02 13:15:51.864 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.866 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-02 13:15:51.866 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:51.866 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:51.914 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-02 13:15:52.124 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-02 13:15:52.162 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:52.163 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:52.163 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:52.163 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:52.163 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:52.163 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:15:52.165 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-02 13:15:52.167 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:52.167 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-02 13:15:52.167 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:52.167 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:15:52.168 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:52.170 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:52.172 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-02 13:15:52.274 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-02 13:15:52.349 -03:00 [DBG] Hosting starting
2022-12-02 13:15:52.375 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-02 13:15:52.377 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-02 13:15:52.381 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-02 13:15:52.387 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-02 13:15:52.389 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:15:52.389 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-02 13:15:52.391 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-02 13:15:52.391 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-02 13:15:52.392 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-02 13:15:52.394 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-02 13:15:52.394 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-02 13:15:52.539 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-02 13:15:52.580 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-02 13:15:52.580 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-02 13:15:52.581 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-02 13:15:52.581 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-02 13:15:52.581 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-02 13:15:52.581 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-02 13:15:52.581 -03:00 [INF] Hosting environment: Development
2022-12-02 13:15:52.581 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-02 13:15:52.581 -03:00 [DBG] Hosting started
2022-12-02 13:15:52.650 -03:00 [DBG] Connection id "0HMMKG1TUTUF4" received FIN.
2022-12-02 13:15:52.659 -03:00 [DBG] Connection id "0HMMKG1TUTUF4" accepted.
2022-12-02 13:15:52.660 -03:00 [DBG] Connection id "0HMMKG1TUTUF4" started.
2022-12-02 13:15:52.674 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-02 13:15:52.706 -03:00 [DBG] Connection id "0HMMKG1TUTUF4" stopped.
2022-12-02 13:15:52.709 -03:00 [DBG] Connection id "0HMMKG1TUTUF4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-02 13:15:52.751 -03:00 [DBG] Connection id "0HMMKG1TUTUF5" accepted.
2022-12-02 13:15:52.751 -03:00 [DBG] Connection id "0HMMKG1TUTUF5" started.
2022-12-02 13:15:52.794 -03:00 [DBG] Connection 0HMMKG1TUTUF5 established using the following protocol: "Tls12"
2022-12-02 13:15:52.850 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:15:52.869 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-02 13:15:52.875 -03:00 [DBG] Connection id "0HMMKG1TUTUF6" accepted.
2022-12-02 13:15:52.876 -03:00 [DBG] Connection id "0HMMKG1TUTUF6" started.
2022-12-02 13:15:52.886 -03:00 [DBG] Connection 0HMMKG1TUTUF6 established using the following protocol: "Tls12"
2022-12-02 13:15:52.919 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-02 13:15:52.923 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:15:52.933 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:15:52.938 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:52.939 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-02 13:15:52.939 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:15:52.964 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:15:53.037 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:15:53.039 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:53.058 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:15:53.059 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:15:53.059 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:15:53.059 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:53.059 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:15:53.059 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:15:53.060 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:53.070 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:15:53.164 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:15:53.167 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:15:53.179 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-02 13:15:53.185 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-02 13:15:53.237 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-02 13:15:53.254 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:15:53.254 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:15:53.254 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:15:53.255 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:53.255 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:15:53.263 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:53.267 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:53.269 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:53.295 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:15:53.300 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-02 13:15:53.312 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-02 13:15:53.313 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-02 13:15:53.316 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 395.7485ms
2022-12-02 13:15:53.329 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 16.6067ms
2022-12-02 13:15:53.338 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.7164ms
2022-12-02 13:15:53.345 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:53.345 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 49ms reading results.
2022-12-02 13:15:53.350 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:53.351 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-02 13:15:53.390 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:15:53.398 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:15:53.399 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:15:53.399 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:15:53.423 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-02 13:15:53.423 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-02 13:15:53.423 -03:00 [DBG] Request did not match any endpoints
2022-12-02 13:15:53.571 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 508.0744ms
2022-12-02 13:15:53.572 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:15:53.574 -03:00 [DBG] Connection id "0HMMKG1TUTUF5" completed keep alive response.
2022-12-02 13:15:53.578 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:15:53.584 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:15:53.585 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:15:53.585 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 744.5571ms
2022-12-02 13:15:53.625 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 202.3020ms
2022-12-02 13:16:00.103 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38
2022-12-02 13:16:00.104 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-02 13:16:00.105 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-02 13:16:00.105 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:16:00.105 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:16:00.105 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-02 13:16:00.105 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:16:00.119 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-02 13:16:00.119 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:16:00.119 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:16:00.120 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:16:00.120 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:16:00.120 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:16:00.120 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-02 13:16:00.120 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-02 13:16:00.125 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-02 13:16:00.131 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-02 13:16:00.133 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-02 13:16:00.133 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-02 13:16:00.147 -03:00 [DBG] Connection id "0HMMKG1TUTUF5", Request id "0HMMKG1TUTUF5:00000003": started reading request body.
2022-12-02 13:16:00.148 -03:00 [DBG] Connection id "0HMMKG1TUTUF5", Request id "0HMMKG1TUTUF5:00000003": done reading request body.
2022-12-02 13:16:00.199 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:16:00.199 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:16:00.199 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-02 13:16:00.205 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-02 13:16:00.251 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:16:00.261 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-02 13:16:00.341 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-02 13:16:00.376 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:16:00.376 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:16:00.376 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:16:00.376 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:16:00.386 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2022-12-02 13:16:00.386 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.386 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.397 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-02 13:16:00.479 -03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-02 13:16:00.541 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-02 13:16:00.578 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.580 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 100ms reading results.
2022-12-02 13:16:00.580 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.580 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:16:00.746 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:16:00.746 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:16:00.746 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:16:00.747 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:16:00.751 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 631.3262ms
2022-12-02 13:16:00.751 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-02 13:16:00.751 -03:00 [DBG] Connection id "0HMMKG1TUTUF5" completed keep alive response.
2022-12-02 13:16:00.752 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:16:00.752 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.752 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:16:00.752 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/v1/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 649.1348ms
2022-12-02 13:16:00.787 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - -
2022-12-02 13:16:00.787 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/villaAPI'
2022-12-02 13:16:00.787 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/villaAPI'
2022-12-02 13:16:00.788 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:16:00.788 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-02 13:16:00.888 -03:00 [DBG] Successfully validated the token.
2022-12-02 13:16:00.890 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-02 13:16:00.891 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:16:00.891 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-02 13:16:00.891 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-02 13:16:00.891 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-02 13:16:00.891 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:16:00.891 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-02 13:16:00.891 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2022-12-02 13:16:00.891 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:16:00.892 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-02 13:16:00.892 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-02 13:16:00.892 -03:00 [INF] Retornando todas as vilas.
2022-12-02 13:16:00.895 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-02 13:16:00.895 -03:00 [DBG] Creating DbConnection.
2022-12-02 13:16:00.895 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-02 13:16:00.895 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:16:00.895 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-02 13:16:00.895 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.895 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.895 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:16:00.903 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-02 13:16:00.904 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.904 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-02 13:16:00.904 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.904 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-02 13:16:00.904 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-02 13:16:00.904 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-02 13:16:00.904 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-02 13:16:00.904 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-02 13:16:00.905 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 13.4083ms
2022-12-02 13:16:00.905 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-02 13:16:00.905 -03:00 [DBG] Connection id "0HMMKG1TUTUF5" completed keep alive response.
2022-12-02 13:16:00.905 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-02 13:16:00.905 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-02 13:16:00.905 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-02 13:16:00.905 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/v1/villaAPI - - - 200 1818 application/json;+charset=utf-8 118.4605ms
