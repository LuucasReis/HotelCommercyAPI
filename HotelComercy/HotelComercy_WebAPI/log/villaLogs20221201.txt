2022-12-01 08:56:33.149 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 08:56:33.687 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 08:56:33.866 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 08:56:59.552 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 08:57:00.035 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 08:57:00.048 -03:00 [DBG] Creating DbConnection.
2022-12-01 08:57:00.076 -03:00 [DBG] Created DbConnection. (24ms).
2022-12-01 08:57:00.078 -03:00 [DBG] Migrating using database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:00.082 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.251 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.257 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 08:57:01.261 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2022-12-01 08:57:01.262 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-01 08:57:01.266 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 08:57:01.281 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 08:57:01.282 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.288 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-01 08:57:01.291 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 08:57:01.291 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 08:57:01.291 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 08:57:01.291 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.292 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.292 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 08:57:01.303 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 08:57:01.303 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.304 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 08:57:01.305 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.305 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.305 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 08:57:01.305 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-01 08:57:01.305 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-01 08:57:01.305 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 08:57:01.307 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 08:57:01.307 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.307 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 08:57:01.307 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 08:57:01.307 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 08:57:01.307 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 08:57:01.307 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.307 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.307 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 08:57:01.308 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 08:57:01.308 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.308 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 08:57:01.321 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 08:57:01.321 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 08:57:01.321 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 08:57:01.321 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.321 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.321 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 08:57:01.325 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 08:57:01.326 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.327 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 08:57:01.327 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.327 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 08:57:01.334 -03:00 [INF] Applying migration '20221201115633_AddingUserClass'.
2022-12-01 08:57:01.374 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.374 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.375 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-12-01 08:57:01.379 -03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-12-01 08:57:01.380 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 08:57:01.380 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-01 08:57:01.381 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-01 08:57:01.381 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LocalUsers] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [UserName] nvarchar(max) NOT NULL,
    [Role] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_LocalUsers] PRIMARY KEY ([Id])
);
2022-12-01 08:57:01.392 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LocalUsers] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    [UserName] nvarchar(max) NOT NULL,
    [Role] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_LocalUsers] PRIMARY KEY ([Id])
);
2022-12-01 08:57:01.392 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 08:57:01.392 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-01 08:57:01.392 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2022-12-01 08:57:01.392 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221201115633_AddingUserClass', N'7.0.0');
2022-12-01 08:57:01.393 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221201115633_AddingUserClass', N'7.0.0');
2022-12-01 08:57:01.394 -03:00 [DBG] Committing transaction.
2022-12-01 08:57:01.396 -03:00 [DBG] Committed transaction.
2022-12-01 08:57:01.396 -03:00 [DBG] Disposing transaction.
2022-12-01 08:57:01.396 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.396 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 08:57:01.397 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 08:57:01.398 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 08:57:01.398 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:16:28.930 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:16:29.724 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:16:29.743 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:16:29.788 -03:00 [DBG] Created DbConnection. (43ms).
2022-12-01 10:16:29.796 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.173 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.180 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:16:31.186 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 10:16:31.188 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-01 10:16:31.195 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:16:31.222 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:16:31.225 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.234 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 10:16:31.238 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:16:31.238 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:16:31.238 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:16:31.238 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.239 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.240 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:16:31.258 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:16:31.258 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.258 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:16:31.277 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:16:31.278 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:16:31.278 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:16:31.278 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.278 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.278 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:16:31.282 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:16:31.286 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.287 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 10:16:31.287 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.287 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:16:31.329 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:16:31.513 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:16:31.540 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:16:31.540 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:16:31.540 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:16:31.540 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.540 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.540 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:16:31.550 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:16:31.552 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.552 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 10:16:31.552 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.552 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:16:31.553 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:16:31.555 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:16:31.556 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:16:31.625 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:16:31.658 -03:00 [DBG] Hosting starting
2022-12-01 10:16:31.751 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:16:31.774 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:16:31.774 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:16:31.774 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:16:31.774 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:16:31.774 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:16:31.774 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:16:31.775 -03:00 [INF] Hosting environment: Development
2022-12-01 10:16:31.775 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:16:31.775 -03:00 [DBG] Hosting started
2022-12-01 10:16:32.071 -03:00 [DBG] Connection id "0HMMJJP1RDM1V" accepted.
2022-12-01 10:16:32.072 -03:00 [DBG] Connection id "0HMMJJP1RDM1V" started.
2022-12-01 10:16:32.136 -03:00 [DBG] Connection id "0HMMJJP1RDM20" accepted.
2022-12-01 10:16:32.136 -03:00 [DBG] Connection id "0HMMJJP1RDM20" started.
2022-12-01 10:16:32.321 -03:00 [DBG] Connection id "0HMMJJP1RDM21" accepted.
2022-12-01 10:16:32.322 -03:00 [DBG] Connection id "0HMMJJP1RDM21" started.
2022-12-01 10:16:32.374 -03:00 [DBG] Connection 0HMMJJP1RDM21 established using the following protocol: "Tls12"
2022-12-01 10:16:32.420 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:16:32.452 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:16:32.474 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:16:32.475 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:16:32.677 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:16:32.870 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:16:32.874 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:16:32.877 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 460.8176ms
2022-12-01 10:16:32.891 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 16.2240ms
2022-12-01 10:16:32.970 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:16:33.076 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 105.7211ms
2022-12-01 10:16:33.160 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:16:33.160 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:16:33.160 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:16:33.359 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.1037ms
2022-12-01 10:16:42.082 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2022-12-01 10:16:42.085 -03:00 [DBG] Connection id "0HMMJJP1RDM1V" stopped.
2022-12-01 10:16:42.086 -03:00 [DBG] Connection id "0HMMJJP1RDM1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:16:42.160 -03:00 [DBG] Authentication of the HTTPS connection timed out.
2022-12-01 10:16:42.160 -03:00 [DBG] Connection id "0HMMJJP1RDM20" stopped.
2022-12-01 10:16:42.160 -03:00 [DBG] Connection id "0HMMJJP1RDM20" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:17:00.522 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/register application/json-patch+json 85
2022-12-01 10:17:00.529 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/register'
2022-12-01 10:17:00.535 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/register' is valid for the request path '/api/UserAuth/register'
2022-12-01 10:17:00.535 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-01 10:17:00.536 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:17:00.538 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-01 10:17:00.564 -03:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:17:00.565 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:17:00.565 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:17:00.565 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:17:00.565 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:17:00.565 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:17:00.567 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:17:00.569 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:17:00.581 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-01 10:17:00.584 -03:00 [DBG] Attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' using the name '' in request data ...
2022-12-01 10:17:00.585 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:17:00.585 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:17:00.596 -03:00 [DBG] Connection id "0HMMJJP1RDM21", Request id "0HMMJJP1RDM21:00000009": started reading request body.
2022-12-01 10:17:00.597 -03:00 [DBG] Connection id "0HMMJJP1RDM21", Request id "0HMMJJP1RDM21:00000009": done reading request body.
2022-12-01 10:17:00.698 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-01 10:17:00.698 -03:00 [DBG] Done attempting to bind parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-01 10:17:00.698 -03:00 [DBG] Attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO' ...
2022-12-01 10:17:00.704 -03:00 [DBG] Done attempting to validate the bound parameter 'registrationRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.RegistrationRequestDTO'.
2022-12-01 10:17:00.711 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:17:00.725 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName == __username_0)'
2022-12-01 10:17:00.794 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE l.UserName == @__username_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 10:17:00.803 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:17:00.803 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:17:00.804 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:17:00.804 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:17:00.806 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-01 10:17:00.807 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:00.807 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:00.811 -03:00 [DBG] Executing DbCommand [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE [l].[UserName] = @__username_0
2022-12-01 10:17:00.849 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE [l].[UserName] = @__username_0
2022-12-01 10:17:00.850 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:00.852 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:17:00.852 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:00.852 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:17:00.894 -03:00 [DBG] 'ApiVillaContext' generated a temporary value for the property 'Id.LocalUser'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:17:00.934 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:17:00.940 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-01 10:17:00.943 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-01 10:17:00.951 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-01 10:17:01.018 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:01.021 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:01.032 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:17:01.032 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:17:01.032 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:17:01.034 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LocalUsers] ([Name], [Password], [Role], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2022-12-01 10:17:01.070 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LocalUsers] ([Name], [Password], [Role], [UserName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2022-12-01 10:17:01.088 -03:00 [DBG] The foreign key property 'LocalUser.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-12-01 10:17:01.102 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:01.105 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 34ms reading results.
2022-12-01 10:17:01.109 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:01.111 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 10:17:01.122 -03:00 [DBG] An entity of type 'LocalUser' tracked by 'ApiVillaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:17:01.125 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-01 10:17:01.129 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:17:01.131 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 10:17:01.131 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:17:01.131 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:17:01.131 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:17:01.131 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:17:01.172 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI) in 603.7029ms
2022-12-01 10:17:01.173 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Register (HotelComercy_WebAPI)'
2022-12-01 10:17:01.177 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:17:01.184 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:01.185 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:17:01.185 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/register application/json-patch+json 85 - 200 69 application/json;+charset=utf-8 662.8661ms
2022-12-01 10:17:28.397 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 10:17:28.398 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 10:17:28.399 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 10:17:28.399 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:17:28.399 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:17:28.399 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:17:28.403 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:17:28.403 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:17:28.403 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:17:28.403 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:17:28.403 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:17:28.403 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:17:28.403 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:17:28.404 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:17:28.405 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:17:28.405 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 10:17:28.405 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:17:28.405 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:17:28.405 -03:00 [DBG] Connection id "0HMMJJP1RDM21", Request id "0HMMJJP1RDM21:0000000B": started reading request body.
2022-12-01 10:17:28.405 -03:00 [DBG] Connection id "0HMMJJP1RDM21", Request id "0HMMJJP1RDM21:0000000B": done reading request body.
2022-12-01 10:17:28.406 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:17:28.406 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:17:28.406 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:17:28.406 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:17:28.482 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:17:28.484 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 10:17:28.521 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 10:17:28.529 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:17:28.529 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:17:28.529 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:17:28.529 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:17:28.529 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:17:28.529 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:28.529 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:28.529 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:17:28.544 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:17:28.547 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:17:28.547 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:28.547 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 10:17:28.547 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:28.547 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:17:28.608 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 204.129ms
2022-12-01 10:17:28.608 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:17:28.608 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at HotelComercy_WebAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Repository\UserRepository.cs:line 47
   at HotelComercy_WebAPI.Controllers.UserController.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Controllers\UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-01 10:17:28.632 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:17:28.632 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:17:28.632 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:17:28.632 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 500 - text/plain;+charset=utf-8 235.4437ms
2022-12-01 10:19:14.243 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:19:14.941 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:19:14.960 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:19:15.000 -03:00 [DBG] Created DbConnection. (37ms).
2022-12-01 10:19:15.006 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.317 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.324 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:19:16.329 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 10:19:16.331 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-01 10:19:16.337 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:19:16.362 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:19:16.364 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.373 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 10:19:16.377 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:19:16.377 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:19:16.377 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:19:16.377 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.378 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.379 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:19:16.397 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:19:16.397 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.398 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:19:16.416 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:19:16.416 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:19:16.416 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:19:16.416 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.416 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.416 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:19:16.420 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:19:16.423 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.424 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:19:16.425 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.425 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:19:16.466 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:19:16.646 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:19:16.677 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:19:16.677 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:19:16.677 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:19:16.677 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.678 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.678 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:19:16.691 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:19:16.693 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.693 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 10:19:16.693 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.693 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:19:16.694 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:19:16.696 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:16.698 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:19:16.764 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:19:16.793 -03:00 [DBG] Hosting starting
2022-12-01 10:19:16.883 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:19:16.909 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:19:16.909 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:19:16.909 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:19:16.909 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:19:16.909 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:19:16.909 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:19:16.910 -03:00 [INF] Hosting environment: Development
2022-12-01 10:19:16.910 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:19:16.910 -03:00 [DBG] Hosting started
2022-12-01 10:19:17.105 -03:00 [DBG] Connection id "0HMMJJQJ1A04L" accepted.
2022-12-01 10:19:17.106 -03:00 [DBG] Connection id "0HMMJJQJ1A04L" started.
2022-12-01 10:19:17.119 -03:00 [DBG] Connection id "0HMMJJQJ1A04L" received FIN.
2022-12-01 10:19:17.126 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:19:17.156 -03:00 [DBG] Connection id "0HMMJJQJ1A04L" stopped.
2022-12-01 10:19:17.158 -03:00 [DBG] Connection id "0HMMJJQJ1A04L" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:19:17.361 -03:00 [DBG] Connection id "0HMMJJQJ1A04M" accepted.
2022-12-01 10:19:17.362 -03:00 [DBG] Connection id "0HMMJJQJ1A04M" started.
2022-12-01 10:19:17.403 -03:00 [DBG] Connection 0HMMJJQJ1A04M established using the following protocol: "Tls12"
2022-12-01 10:19:17.443 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:19:17.471 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:19:17.496 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:19:17.496 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:19:17.675 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:19:17.809 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:19:17.821 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:19:17.821 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 380.7804ms
2022-12-01 10:19:17.832 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 11.4852ms
2022-12-01 10:19:17.941 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:19:17.969 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.1469ms
2022-12-01 10:19:18.095 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:19:18.096 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:19:18.096 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:19:18.285 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.8748ms
2022-12-01 10:19:28.220 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 10:19:28.230 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 10:19:28.236 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 10:19:28.238 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:19:28.240 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:19:28.243 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:19:28.283 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:19:28.284 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:19:28.284 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:19:28.284 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:19:28.285 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:19:28.285 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:19:28.286 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:19:28.290 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:19:28.312 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:19:28.316 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 10:19:28.318 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:19:28.318 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:19:28.341 -03:00 [DBG] Connection id "0HMMJJQJ1A04M", Request id "0HMMJJQJ1A04M:00000009": started reading request body.
2022-12-01 10:19:28.341 -03:00 [DBG] Connection id "0HMMJJQJ1A04M", Request id "0HMMJJQJ1A04M:00000009": done reading request body.
2022-12-01 10:19:28.535 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:19:28.535 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:19:28.535 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:19:28.555 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:19:48.347 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:19:48.362 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 10:19:48.528 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 10:19:48.548 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:19:48.548 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:19:48.549 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:19:48.549 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:19:48.553 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-01 10:19:48.553 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:48.553 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:48.559 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:19:48.599 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:19:48.664 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:19:48.683 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:48.684 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 85ms reading results.
2022-12-01 10:19:48.684 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:19:48.685 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:20:01.400 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 33110.9848ms
2022-12-01 10:20:01.403 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:20:01.406 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at HotelComercy_WebAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Repository\UserRepository.cs:line 47
   at HotelComercy_WebAPI.Controllers.UserController.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Controllers\UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-01 10:20:01.419 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:20:01.425 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:20:01.426 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:20:01.426 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 500 - text/plain;+charset=utf-8 33207.0533ms
2022-12-01 10:20:12.244 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 10:20:12.246 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 10:20:12.246 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 10:20:12.246 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:20:12.246 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:20:12.247 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:20:12.248 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:20:12.248 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:20:12.248 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:20:12.248 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:20:12.248 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:20:12.248 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:20:12.248 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:20:12.249 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:20:12.249 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:20:12.249 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 10:20:12.250 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:20:12.250 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:20:12.250 -03:00 [DBG] Connection id "0HMMJJQJ1A04M", Request id "0HMMJJQJ1A04M:0000000B": started reading request body.
2022-12-01 10:20:12.250 -03:00 [DBG] Connection id "0HMMJJQJ1A04M", Request id "0HMMJJQJ1A04M:0000000B": done reading request body.
2022-12-01 10:20:12.250 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:20:12.250 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:20:12.250 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:20:12.250 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:22:19.880 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:22:19.888 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:22:19.888 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:22:19.888 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:22:19.889 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:22:19.889 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:22:19.889 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:22:19.889 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:22:19.889 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:22:19.892 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:22:19.892 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:22:19.892 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:22:19.892 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 10:22:19.893 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:22:19.893 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:23:10.624 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 178376.0219ms
2022-12-01 10:23:10.625 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:23:10.628 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at HotelComercy_WebAPI.Repository.UserRepository.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Repository\UserRepository.cs:line 47
   at HotelComercy_WebAPI.Controllers.UserController.Login(LoginRequestDTO loginRequestDTO) in C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\Controllers\UserController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-12-01 10:23:10.629 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:23:10.629 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:23:10.629 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:23:10.629 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 500 - text/plain;+charset=utf-8 178385.4631ms
2022-12-01 10:26:00.753 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:26:01.523 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:26:01.549 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:26:01.605 -03:00 [DBG] Created DbConnection. (52ms).
2022-12-01 10:26:01.618 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:02.954 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:02.962 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:26:02.968 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 10:26:02.970 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-01 10:26:02.976 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:26:03.002 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:26:03.004 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.014 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 10:26:03.018 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:26:03.018 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:26:03.018 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:26:03.018 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.018 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.019 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:26:03.040 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:26:03.040 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.040 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:26:03.058 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:26:03.058 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:26:03.058 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:26:03.058 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.058 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.059 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:26:03.062 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:26:03.065 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.066 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:26:03.066 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.066 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:26:03.105 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:26:03.287 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:26:03.314 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:26:03.314 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:26:03.314 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:26:03.314 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.314 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.314 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:26:03.315 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:26:03.317 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.317 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 10:26:03.317 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.317 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:26:03.318 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:26:03.320 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:03.322 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:26:03.390 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:26:03.419 -03:00 [DBG] Hosting starting
2022-12-01 10:26:03.504 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:26:03.530 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:26:03.530 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:26:03.530 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:26:03.530 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:26:03.530 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:26:03.530 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:26:03.531 -03:00 [INF] Hosting environment: Development
2022-12-01 10:26:03.531 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:26:03.531 -03:00 [DBG] Hosting started
2022-12-01 10:26:03.996 -03:00 [DBG] Connection id "0HMMJJUC9N75F" accepted.
2022-12-01 10:26:03.997 -03:00 [DBG] Connection id "0HMMJJUC9N75F" started.
2022-12-01 10:26:03.998 -03:00 [DBG] Connection id "0HMMJJUC9N75G" accepted.
2022-12-01 10:26:03.998 -03:00 [DBG] Connection id "0HMMJJUC9N75G" started.
2022-12-01 10:26:04.015 -03:00 [DBG] Connection id "0HMMJJUC9N75G" received FIN.
2022-12-01 10:26:04.015 -03:00 [DBG] Connection id "0HMMJJUC9N75F" received FIN.
2022-12-01 10:26:04.028 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:26:04.028 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:26:04.054 -03:00 [DBG] Connection id "0HMMJJUC9N75G" stopped.
2022-12-01 10:26:04.054 -03:00 [DBG] Connection id "0HMMJJUC9N75F" stopped.
2022-12-01 10:26:04.056 -03:00 [DBG] Connection id "0HMMJJUC9N75F" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:26:04.056 -03:00 [DBG] Connection id "0HMMJJUC9N75G" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:26:04.203 -03:00 [DBG] Connection id "0HMMJJUC9N75H" accepted.
2022-12-01 10:26:04.204 -03:00 [DBG] Connection id "0HMMJJUC9N75H" started.
2022-12-01 10:26:04.247 -03:00 [DBG] Connection 0HMMJJUC9N75H established using the following protocol: "Tls12"
2022-12-01 10:26:04.288 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:26:04.316 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:26:04.336 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:26:04.336 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:26:04.517 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:26:04.787 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:26:04.787 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:26:04.787 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:26:04.796 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 509.1999ms
2022-12-01 10:26:04.816 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 28.8684ms
2022-12-01 10:26:04.834 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.1092ms
2022-12-01 10:26:04.908 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:26:04.908 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:26:04.908 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:26:05.092 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.3771ms
2022-12-01 10:26:13.942 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 10:26:13.951 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 10:26:13.958 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 10:26:13.958 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:26:13.961 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:26:13.964 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:26:13.998 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:26:14.000 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:26:14.000 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:26:14.000 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:26:14.000 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:26:14.000 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:26:14.001 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:26:14.003 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:26:14.014 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:26:14.018 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 10:26:14.019 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:26:14.019 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:26:14.046 -03:00 [DBG] Connection id "0HMMJJUC9N75H", Request id "0HMMJJUC9N75H:00000009": started reading request body.
2022-12-01 10:26:14.047 -03:00 [DBG] Connection id "0HMMJJUC9N75H", Request id "0HMMJJUC9N75H:00000009": done reading request body.
2022-12-01 10:26:14.240 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:26:14.240 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:26:14.240 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:26:14.252 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:26:17.867 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:26:17.879 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 10:26:17.993 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 10:26:18.030 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:26:18.030 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:26:18.031 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:26:18.031 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:26:18.040 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2022-12-01 10:26:18.040 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:18.040 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:18.050 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:26:18.107 -03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:26:18.142 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:26:18.159 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:18.160 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 52ms reading results.
2022-12-01 10:26:18.160 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:18.160 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:26:18.334 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:26:18.338 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 10:26:18.338 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:26:18.338 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:26:18.339 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:26:18.340 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:26:18.397 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 4392.1635ms
2022-12-01 10:26:18.399 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:26:18.401 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:26:18.408 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:26:18.409 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:26:18.409 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 200 355 application/json;+charset=utf-8 4467.0592ms
2022-12-01 10:40:00.588 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:40:01.432 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:40:01.450 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:40:01.495 -03:00 [DBG] Created DbConnection. (42ms).
2022-12-01 10:40:01.502 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.796 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.804 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:40:02.812 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 10:40:02.814 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-01 10:40:02.820 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:40:02.849 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:40:02.852 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.863 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 10:40:02.867 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:40:02.867 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:40:02.867 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:40:02.867 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.868 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.869 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:40:02.888 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:40:02.888 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.889 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:40:02.908 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:40:02.908 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:40:02.908 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:40:02.908 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.908 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.909 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:40:02.913 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:40:02.917 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.918 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 10:40:02.919 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:02.919 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:40:02.965 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:40:03.166 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:40:03.194 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:40:03.194 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:40:03.194 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:40:03.194 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:03.195 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:03.195 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:40:03.196 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:40:03.199 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:03.199 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:40:03.199 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:03.199 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:40:03.200 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:40:03.202 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:40:03.204 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:40:03.267 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:40:03.298 -03:00 [DBG] Hosting starting
2022-12-01 10:40:03.326 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 10:40:03.328 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 10:40:03.334 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 10:40:03.341 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 10:40:03.342 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:40:03.342 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 10:40:03.343 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:40:03.344 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 10:40:03.345 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 10:40:03.346 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 10:40:03.347 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 10:40:03.438 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:40:03.468 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:40:03.468 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:40:03.468 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:40:03.468 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:40:03.468 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:40:03.468 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:40:03.468 -03:00 [INF] Hosting environment: Development
2022-12-01 10:40:03.468 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:40:03.468 -03:00 [DBG] Hosting started
2022-12-01 10:40:03.589 -03:00 [DBG] Connection id "0HMMJK66GMTPV" accepted.
2022-12-01 10:40:03.590 -03:00 [DBG] Connection id "0HMMJK66GMTPV" started.
2022-12-01 10:40:03.603 -03:00 [DBG] Connection id "0HMMJK66GMTPV" received FIN.
2022-12-01 10:40:03.608 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:40:03.629 -03:00 [DBG] Connection id "0HMMJK66GMTPV" stopped.
2022-12-01 10:40:03.630 -03:00 [DBG] Connection id "0HMMJK66GMTPV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:40:03.918 -03:00 [DBG] Connection id "0HMMJK66GMTQ0" accepted.
2022-12-01 10:40:03.919 -03:00 [DBG] Connection id "0HMMJK66GMTQ0" started.
2022-12-01 10:40:03.952 -03:00 [DBG] Connection 0HMMJK66GMTQ0 established using the following protocol: "Tls12"
2022-12-01 10:40:03.996 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:40:04.026 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:40:04.049 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:40:04.050 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:40:04.238 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:40:04.360 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:40:04.366 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 373.2802ms
2022-12-01 10:40:04.377 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:40:04.377 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:40:04.390 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 12.1559ms
2022-12-01 10:40:04.417 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.0134ms
2022-12-01 10:40:04.479 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:40:04.480 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:40:04.480 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:40:04.636 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.0072ms
2022-12-01 10:41:24.355 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:41:25.005 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:41:25.023 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:41:25.064 -03:00 [DBG] Created DbConnection. (38ms).
2022-12-01 10:41:25.071 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.354 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.361 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:41:26.367 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 10:41:26.369 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-01 10:41:26.374 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:41:26.400 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:41:26.402 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.411 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 10:41:26.415 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:41:26.415 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:41:26.415 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:41:26.415 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.416 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.417 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:41:26.434 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:41:26.434 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.435 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:41:26.452 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:41:26.452 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:41:26.452 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:41:26.452 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.452 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.453 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:41:26.456 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:41:26.459 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.460 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:41:26.460 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.460 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:41:26.500 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:41:26.675 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:41:26.703 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:41:26.704 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:41:26.704 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:41:26.704 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.704 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.704 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:41:26.705 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:41:26.707 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.707 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:41:26.707 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.707 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:41:26.709 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:41:26.711 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:41:26.713 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:41:26.802 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:41:26.877 -03:00 [DBG] Hosting starting
2022-12-01 10:41:26.897 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 10:41:26.900 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 10:41:26.906 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 10:41:26.913 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 10:41:26.915 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:41:26.915 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 10:41:26.916 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:41:26.917 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 10:41:26.919 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 10:41:26.921 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 10:41:26.921 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 10:41:27.014 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:41:27.043 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:41:27.043 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:41:27.043 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:41:27.043 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:41:27.043 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:41:27.044 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:41:27.044 -03:00 [INF] Hosting environment: Development
2022-12-01 10:41:27.044 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:41:27.044 -03:00 [DBG] Hosting started
2022-12-01 10:41:27.328 -03:00 [DBG] Connection id "0HMMJK6VF6NJE" accepted.
2022-12-01 10:41:27.328 -03:00 [DBG] Connection id "0HMMJK6VF6NJD" accepted.
2022-12-01 10:41:27.330 -03:00 [DBG] Connection id "0HMMJK6VF6NJE" started.
2022-12-01 10:41:27.330 -03:00 [DBG] Connection id "0HMMJK6VF6NJD" started.
2022-12-01 10:41:27.330 -03:00 [DBG] Connection id "0HMMJK6VF6NJE" received FIN.
2022-12-01 10:41:27.330 -03:00 [DBG] Connection id "0HMMJK6VF6NJD" received FIN.
2022-12-01 10:41:27.361 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:41:27.361 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:41:27.399 -03:00 [DBG] Connection id "0HMMJK6VF6NJE" stopped.
2022-12-01 10:41:27.399 -03:00 [DBG] Connection id "0HMMJK6VF6NJD" stopped.
2022-12-01 10:41:27.401 -03:00 [DBG] Connection id "0HMMJK6VF6NJD" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:41:27.401 -03:00 [DBG] Connection id "0HMMJK6VF6NJE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:41:27.588 -03:00 [DBG] Connection id "0HMMJK6VF6NJF" accepted.
2022-12-01 10:41:27.590 -03:00 [DBG] Connection id "0HMMJK6VF6NJF" started.
2022-12-01 10:41:27.645 -03:00 [DBG] Connection 0HMMJK6VF6NJF established using the following protocol: "Tls12"
2022-12-01 10:41:27.698 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:41:27.725 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:41:27.746 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:41:27.747 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:41:27.940 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:41:28.083 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:41:28.084 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:41:28.084 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:41:28.102 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 405.8999ms
2022-12-01 10:41:28.102 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 17.7724ms
2022-12-01 10:41:28.142 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.6408ms
2022-12-01 10:41:28.204 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:41:28.204 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:41:28.204 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:41:28.401 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 196.3768ms
2022-12-01 10:41:37.638 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:41:37.648 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:41:37.652 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:41:37.653 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:41:37.654 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:41:37.735 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 10:41:37.743 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 10:41:37.758 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 10:41:37.759 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/VillaApi - - - 401 0 - 120.9532ms
2022-12-01 10:42:10.723 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 10:42:10.725 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 10:42:10.725 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 10:42:10.725 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:42:10.726 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:42:10.729 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 10:42:10.730 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:42:10.779 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:42:10.782 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:42:10.782 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:42:10.783 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:42:10.783 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:42:10.783 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:42:10.784 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:42:10.786 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:42:10.804 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:42:10.809 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 10:42:10.811 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:42:10.812 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:42:10.834 -03:00 [DBG] Connection id "0HMMJK6VF6NJF", Request id "0HMMJK6VF6NJF:0000000B": started reading request body.
2022-12-01 10:42:10.835 -03:00 [DBG] Connection id "0HMMJK6VF6NJF", Request id "0HMMJK6VF6NJF:0000000B": done reading request body.
2022-12-01 10:42:11.054 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:42:11.055 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:42:11.055 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:42:11.076 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:42:16.322 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:42:16.335 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 10:42:16.456 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 10:42:16.476 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:42:16.476 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:42:16.476 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:42:16.476 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:42:16.480 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-01 10:42:16.480 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:42:16.480 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:42:16.490 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:42:16.543 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:42:16.586 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:42:16.624 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:42:16.627 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 84ms reading results.
2022-12-01 10:42:16.627 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:42:16.628 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:42:16.792 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:42:16.795 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 10:42:16.795 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:42:16.795 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:42:16.795 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:42:16.795 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:42:16.856 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 6064.0808ms
2022-12-01 10:42:16.861 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:42:16.865 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:42:16.880 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:42:16.883 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 10:42:16.883 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 6160.1093ms
2022-12-01 10:42:51.812 -03:00 [DBG] Connection id "0HMMJK6VF6NJG" accepted.
2022-12-01 10:42:51.813 -03:00 [DBG] Connection id "0HMMJK6VF6NJG" started.
2022-12-01 10:42:51.816 -03:00 [DBG] Connection id "0HMMJK6VF6NJG" received FIN.
2022-12-01 10:42:51.818 -03:00 [DBG] Connection id "0HMMJK6VF6NJH" accepted.
2022-12-01 10:42:51.836 -03:00 [DBG] Connection id "0HMMJK6VF6NJH" started.
2022-12-01 10:42:51.841 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:42:51.842 -03:00 [DBG] Connection id "0HMMJK6VF6NJG" stopped.
2022-12-01 10:42:51.843 -03:00 [DBG] Connection id "0HMMJK6VF6NJG" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:42:51.846 -03:00 [DBG] Connection 0HMMJK6VF6NJH established using the following protocol: "Tls12"
2022-12-01 10:42:51.858 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:42:51.858 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:42:51.858 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:42:51.858 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:42:51.858 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:42:51.931 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-01 10:42:51.933 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2022-12-01 10:42:51.933 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 10:42:51.937 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 10:42:51.939 -03:00 [DBG] Connection id "0HMMJK6VF6NJH" completed keep alive response.
2022-12-01 10:42:51.939 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 401 0 - 80.7033ms
2022-12-01 10:44:21.698 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:44:21.700 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:44:21.700 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:44:21.700 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:44:21.700 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:44:21.700 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-12-01 10:44:21.701 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2022-12-01 10:44:21.701 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 10:44:21.701 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 10:44:21.701 -03:00 [DBG] Connection id "0HMMJK6VF6NJH" completed keep alive response.
2022-12-01 10:44:21.701 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 401 0 - 3.5149ms
2022-12-01 10:45:19.663 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:45:20.614 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:45:20.636 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:45:20.678 -03:00 [DBG] Created DbConnection. (39ms).
2022-12-01 10:45:20.685 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:21.966 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:21.973 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:45:21.979 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 10:45:21.981 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-01 10:45:21.987 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:45:22.014 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:45:22.016 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.026 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 10:45:22.030 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:45:22.030 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:45:22.030 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:45:22.030 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.031 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.031 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:45:22.049 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:45:22.049 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.049 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:45:22.070 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:45:22.070 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:22.070 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:22.070 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.070 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.070 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:45:22.073 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:45:22.077 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.078 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 10:45:22.078 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.078 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:45:22.119 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:45:22.305 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:45:22.332 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:45:22.332 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:22.332 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:22.332 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.332 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.332 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:45:22.333 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:45:22.335 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.335 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 10:45:22.335 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.335 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:45:22.337 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:45:22.339 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:22.340 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:45:22.399 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:45:22.429 -03:00 [DBG] Hosting starting
2022-12-01 10:45:22.445 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 10:45:22.447 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 10:45:22.452 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 10:45:22.458 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 10:45:22.459 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:45:22.460 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 10:45:22.460 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:45:22.461 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 10:45:22.462 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 10:45:22.463 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 10:45:22.464 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 10:45:22.551 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:45:22.574 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:45:22.574 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:45:22.574 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:45:22.574 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:45:22.574 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:45:22.575 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:45:22.575 -03:00 [INF] Hosting environment: Development
2022-12-01 10:45:22.575 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:45:22.575 -03:00 [DBG] Hosting started
2022-12-01 10:45:22.892 -03:00 [DBG] Connection id "0HMMJK95LQMQA" received FIN.
2022-12-01 10:45:22.892 -03:00 [DBG] Connection id "0HMMJK95LQMQB" received FIN.
2022-12-01 10:45:22.898 -03:00 [DBG] Connection id "0HMMJK95LQMQA" accepted.
2022-12-01 10:45:22.899 -03:00 [DBG] Connection id "0HMMJK95LQMQB" accepted.
2022-12-01 10:45:22.900 -03:00 [DBG] Connection id "0HMMJK95LQMQB" started.
2022-12-01 10:45:22.900 -03:00 [DBG] Connection id "0HMMJK95LQMQA" started.
2022-12-01 10:45:22.909 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:45:22.909 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:45:22.928 -03:00 [DBG] Connection id "0HMMJK95LQMQA" stopped.
2022-12-01 10:45:22.928 -03:00 [DBG] Connection id "0HMMJK95LQMQB" stopped.
2022-12-01 10:45:22.937 -03:00 [DBG] Connection id "0HMMJK95LQMQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:45:22.937 -03:00 [DBG] Connection id "0HMMJK95LQMQA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:45:23.222 -03:00 [DBG] Connection id "0HMMJK95LQMQC" accepted.
2022-12-01 10:45:23.222 -03:00 [DBG] Connection id "0HMMJK95LQMQC" started.
2022-12-01 10:45:23.274 -03:00 [DBG] Connection 0HMMJK95LQMQC established using the following protocol: "Tls12"
2022-12-01 10:45:23.316 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:45:23.343 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:45:23.365 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:45:23.365 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:45:23.555 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:45:23.794 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:45:23.812 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:45:23.812 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:45:23.816 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 502.5738ms
2022-12-01 10:45:23.831 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 18.7873ms
2022-12-01 10:45:23.840 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.4432ms
2022-12-01 10:45:23.918 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:45:23.918 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:45:23.918 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:45:24.112 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.2186ms
2022-12-01 10:45:26.320 -03:00 [DBG] Connection id "0HMMJK95LQMQD" accepted.
2022-12-01 10:45:26.320 -03:00 [DBG] Connection id "0HMMJK95LQMQD" started.
2022-12-01 10:45:26.321 -03:00 [DBG] Connection id "0HMMJK95LQMQE" accepted.
2022-12-01 10:45:26.321 -03:00 [DBG] Connection id "0HMMJK95LQMQE" started.
2022-12-01 10:45:26.321 -03:00 [DBG] Connection id "0HMMJK95LQMQD" received FIN.
2022-12-01 10:45:26.322 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:45:26.323 -03:00 [DBG] Connection id "0HMMJK95LQMQD" stopped.
2022-12-01 10:45:26.323 -03:00 [DBG] Connection id "0HMMJK95LQMQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:45:26.327 -03:00 [DBG] Connection 0HMMJK95LQMQE established using the following protocol: "Tls12"
2022-12-01 10:45:26.347 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:45:26.356 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:45:26.363 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:45:26.364 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:45:26.367 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:45:26.749 -03:00 [DBG] Successfully validated the token.
2022-12-01 10:45:26.751 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 10:45:26.757 -03:00 [DBG] Authorization was successful.
2022-12-01 10:45:26.758 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:45:26.788 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 10:45:26.789 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:45:26.789 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:45:26.789 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:45:26.790 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:45:26.790 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:45:26.791 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:45:26.796 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:45:26.937 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:45:26.940 -03:00 [INF] Retornando todas as vilas.
2022-12-01 10:45:26.956 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 10:45:27.030 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 10:45:27.052 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:45:27.053 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:45:27.053 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:45:27.053 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:27.053 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:27.060 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:27.068 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:27.071 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:45:27.107 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:45:27.150 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:27.150 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 42ms reading results.
2022-12-01 10:45:27.154 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:27.155 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:45:27.195 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:45:27.200 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 10:45:27.200 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:45:27.200 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:45:27.201 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:45:27.201 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:45:27.375 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 578.7604ms
2022-12-01 10:45:27.377 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:45:27.380 -03:00 [DBG] Connection id "0HMMJK95LQMQE" completed keep alive response.
2022-12-01 10:45:27.383 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:45:27.389 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:27.390 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:45:27.390 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 200 1818 application/json;+charset=utf-8 1043.7754ms
2022-12-01 10:45:39.025 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:45:39.029 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:45:39.030 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:45:39.030 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:45:39.030 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:45:39.031 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 10:45:39.032 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 10:45:39.046 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 10:45:39.047 -03:00 [DBG] Connection id "0HMMJK95LQMQE" completed keep alive response.
2022-12-01 10:45:39.047 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 401 0 - 22.2933ms
2022-12-01 10:45:42.224 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:45:42.224 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:45:42.224 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:45:42.224 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:45:42.224 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:45:42.225 -03:00 [DBG] Successfully validated the token.
2022-12-01 10:45:42.225 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 10:45:42.227 -03:00 [DBG] Authorization was successful.
2022-12-01 10:45:42.227 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:45:42.227 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 10:45:42.228 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:45:42.228 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:45:42.228 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:45:42.228 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:45:42.228 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:45:42.229 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:45:42.273 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:45:42.273 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:45:42.274 -03:00 [INF] Retornando todas as vilas.
2022-12-01 10:45:42.275 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:45:42.275 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:45:42.275 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:45:42.275 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:42.275 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:45:42.275 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:42.275 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:42.275 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:45:42.280 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:45:42.280 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:42.280 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 10:45:42.280 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:42.280 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:45:42.281 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:45:42.281 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 10:45:42.281 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:45:42.281 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:45:42.281 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:45:42.281 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:45:42.282 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 53.3265ms
2022-12-01 10:45:42.282 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:45:42.282 -03:00 [DBG] Connection id "0HMMJK95LQMQE" completed keep alive response.
2022-12-01 10:45:42.282 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:45:42.282 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:45:42.282 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:45:42.282 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/VillaApi - - - 200 1818 application/json;+charset=utf-8 58.2144ms
2022-12-01 10:46:07.961 -03:00 [DBG] Connection id "0HMMJK95LQMQE" received FIN.
2022-12-01 10:46:07.976 -03:00 [DBG] Connection id "0HMMJK95LQMQE" disconnecting.
2022-12-01 10:46:07.978 -03:00 [DBG] Connection id "0HMMJK95LQMQE" sending FIN because: "The client closed the connection."
2022-12-01 10:46:07.981 -03:00 [DBG] Connection id "0HMMJK95LQMQE" stopped.
2022-12-01 10:55:31.913 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:55:32.939 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:55:32.957 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:55:32.999 -03:00 [DBG] Created DbConnection. (40ms).
2022-12-01 10:55:33.008 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.293 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.301 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:55:34.309 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 10:55:34.311 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-01 10:55:34.316 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:55:34.344 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:55:34.347 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.358 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 10:55:34.362 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:55:34.362 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:55:34.362 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:55:34.362 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.363 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.364 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:55:34.382 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:55:34.383 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.383 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:55:34.404 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:55:34.404 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:55:34.404 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:55:34.404 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.404 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.404 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:55:34.408 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:55:34.411 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.412 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 10:55:34.413 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.413 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:55:34.455 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:55:34.651 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:55:34.682 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:55:34.683 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:55:34.683 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:55:34.683 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.683 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.683 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:55:34.684 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:55:34.686 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.687 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:55:34.687 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.687 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:55:34.689 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:55:34.691 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:34.693 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:55:34.755 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:55:34.789 -03:00 [DBG] Hosting starting
2022-12-01 10:55:34.804 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 10:55:34.806 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 10:55:34.811 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 10:55:34.817 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 10:55:34.820 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:55:34.820 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 10:55:34.821 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:55:34.822 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 10:55:34.823 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 10:55:34.824 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 10:55:34.825 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 10:55:34.913 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:55:34.938 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:55:34.938 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:55:34.938 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:55:34.938 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:55:34.938 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:55:34.938 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:55:34.938 -03:00 [INF] Hosting environment: Development
2022-12-01 10:55:34.938 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:55:34.938 -03:00 [DBG] Hosting started
2022-12-01 10:55:35.092 -03:00 [DBG] Connection id "0HMMJKES46IJV" accepted.
2022-12-01 10:55:35.092 -03:00 [DBG] Connection id "0HMMJKES46IK0" accepted.
2022-12-01 10:55:35.093 -03:00 [DBG] Connection id "0HMMJKES46IJV" started.
2022-12-01 10:55:35.093 -03:00 [DBG] Connection id "0HMMJKES46IK0" started.
2022-12-01 10:55:35.113 -03:00 [DBG] Connection id "0HMMJKES46IJV" received FIN.
2022-12-01 10:55:35.113 -03:00 [DBG] Connection id "0HMMJKES46IK0" received FIN.
2022-12-01 10:55:35.129 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:55:35.129 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:55:35.149 -03:00 [DBG] Connection id "0HMMJKES46IK0" stopped.
2022-12-01 10:55:35.149 -03:00 [DBG] Connection id "0HMMJKES46IJV" stopped.
2022-12-01 10:55:35.150 -03:00 [DBG] Connection id "0HMMJKES46IK0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:55:35.150 -03:00 [DBG] Connection id "0HMMJKES46IJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:55:35.373 -03:00 [DBG] Connection id "0HMMJKES46IK1" accepted.
2022-12-01 10:55:35.373 -03:00 [DBG] Connection id "0HMMJKES46IK1" started.
2022-12-01 10:55:35.409 -03:00 [DBG] Connection 0HMMJKES46IK1 established using the following protocol: "Tls12"
2022-12-01 10:55:35.451 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:55:35.491 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:55:35.515 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:55:35.516 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:55:35.727 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:55:35.862 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:55:35.865 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:55:35.865 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:55:35.871 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 421.1086ms
2022-12-01 10:55:35.878 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 12.6405ms
2022-12-01 10:55:35.905 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.8470ms
2022-12-01 10:55:35.978 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:55:35.978 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:55:35.978 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:55:36.161 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.6078ms
2022-12-01 10:55:50.043 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 10:55:50.053 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 10:55:50.059 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 10:55:50.059 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:55:50.062 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:55:50.147 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 10:55:50.150 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:55:50.195 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:55:50.196 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:55:50.196 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:55:50.197 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:55:50.197 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:55:50.197 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:55:50.197 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:55:50.198 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:55:50.213 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:55:50.215 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 10:55:50.215 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:55:50.216 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:55:50.233 -03:00 [DBG] Connection id "0HMMJKES46IK1", Request id "0HMMJKES46IK1:00000009": started reading request body.
2022-12-01 10:55:50.233 -03:00 [DBG] Connection id "0HMMJKES46IK1", Request id "0HMMJKES46IK1:00000009": done reading request body.
2022-12-01 10:55:50.389 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:55:50.389 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:55:50.389 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:55:50.397 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:55:50.404 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:55:50.421 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 10:55:50.595 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 10:55:50.617 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:55:50.617 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:55:50.617 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:55:50.617 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:55:50.622 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-01 10:55:50.622 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:50.622 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:50.631 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:55:50.689 -03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:55:50.751 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:55:50.772 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:50.775 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 85ms reading results.
2022-12-01 10:55:50.775 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:50.776 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:55:50.921 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:55:50.926 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 10:55:50.926 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:55:50.926 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:55:50.929 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:55:50.929 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:55:51.010 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 808.5522ms
2022-12-01 10:55:51.010 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:55:51.014 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:55:51.023 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:55:51.024 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:55:51.024 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 981.2746ms
2022-12-01 10:56:10.291 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:56:10.292 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:56:10.292 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:56:10.292 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:56:10.292 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:56:10.377 -03:00 [DBG] Successfully validated the token.
2022-12-01 10:56:10.380 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 10:56:10.385 -03:00 [DBG] Authorization was successful.
2022-12-01 10:56:10.386 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:56:10.389 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 10:56:10.389 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:56:10.389 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:56:10.389 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:56:10.389 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:56:10.389 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:56:10.389 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:56:10.447 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:56:10.621 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:56:10.623 -03:00 [INF] Retornando todas as vilas.
2022-12-01 10:56:10.636 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 10:56:10.644 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 10:56:10.666 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:56:10.667 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:56:10.667 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:56:10.667 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:56:10.667 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:56:10.676 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:56:10.682 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:56:10.683 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:56:10.716 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:56:10.745 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:56:10.746 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 30ms reading results.
2022-12-01 10:56:10.751 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:56:10.751 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:56:10.792 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:56:10.794 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-01 10:56:10.794 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-01 10:56:10.794 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:56:10.794 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:56:10.794 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:56:10.795 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:56:10.803 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 414.337ms
2022-12-01 10:56:10.805 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:56:10.808 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:56:10.809 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:56:10.809 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:56:10.809 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/VillaApi - - - 200 1818 application/json;+charset=utf-8 517.8975ms
2022-12-01 10:57:25.168 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 10:57:26.055 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:57:26.073 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:57:26.117 -03:00 [DBG] Created DbConnection. (41ms).
2022-12-01 10:57:26.124 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.407 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.414 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 10:57:27.420 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 10:57:27.423 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 10:57:27.429 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:57:27.457 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 10:57:27.459 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.469 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 10:57:27.474 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 10:57:27.474 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:57:27.474 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 10:57:27.474 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.475 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.476 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:57:27.498 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 10:57:27.498 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.499 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:57:27.518 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:57:27.518 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:57:27.518 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:57:27.518 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.518 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.519 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:57:27.523 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 10:57:27.526 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.527 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 10:57:27.528 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.528 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:57:27.569 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 10:57:27.764 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 10:57:27.795 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:57:27.795 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:57:27.795 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:57:27.795 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.795 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.795 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:57:27.796 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 10:57:27.799 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.799 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:57:27.799 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.799 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:57:27.801 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:57:27.803 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:27.805 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 10:57:27.868 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 10:57:27.902 -03:00 [DBG] Hosting starting
2022-12-01 10:57:27.919 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 10:57:27.922 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 10:57:27.927 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 10:57:27.933 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 10:57:27.934 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:57:27.934 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 10:57:27.935 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 10:57:27.935 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 10:57:27.936 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 10:57:27.938 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 10:57:27.939 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 10:57:28.026 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 10:57:28.051 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 10:57:28.051 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 10:57:28.051 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 10:57:28.051 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 10:57:28.051 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 10:57:28.052 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 10:57:28.052 -03:00 [INF] Hosting environment: Development
2022-12-01 10:57:28.052 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 10:57:28.052 -03:00 [DBG] Hosting started
2022-12-01 10:57:28.279 -03:00 [DBG] Connection id "0HMMJKFTRKNED" accepted.
2022-12-01 10:57:28.279 -03:00 [DBG] Connection id "0HMMJKFTRKNEC" accepted.
2022-12-01 10:57:28.280 -03:00 [DBG] Connection id "0HMMJKFTRKNED" started.
2022-12-01 10:57:28.280 -03:00 [DBG] Connection id "0HMMJKFTRKNEC" started.
2022-12-01 10:57:28.290 -03:00 [DBG] Connection id "0HMMJKFTRKNEC" received FIN.
2022-12-01 10:57:28.290 -03:00 [DBG] Connection id "0HMMJKFTRKNED" received FIN.
2022-12-01 10:57:28.305 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:57:28.305 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 10:57:28.331 -03:00 [DBG] Connection id "0HMMJKFTRKNED" stopped.
2022-12-01 10:57:28.331 -03:00 [DBG] Connection id "0HMMJKFTRKNEC" stopped.
2022-12-01 10:57:28.333 -03:00 [DBG] Connection id "0HMMJKFTRKNED" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:57:28.333 -03:00 [DBG] Connection id "0HMMJKFTRKNEC" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 10:57:28.501 -03:00 [DBG] Connection id "0HMMJKFTRKNEE" accepted.
2022-12-01 10:57:28.501 -03:00 [DBG] Connection id "0HMMJKFTRKNEE" started.
2022-12-01 10:57:28.539 -03:00 [DBG] Connection 0HMMJKFTRKNEE established using the following protocol: "Tls12"
2022-12-01 10:57:28.581 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 10:57:28.610 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 10:57:28.630 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 10:57:28.630 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:57:28.836 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 10:57:29.283 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 10:57:29.291 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 10:57:29.292 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 10:57:29.296 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 713.7456ms
2022-12-01 10:57:29.318 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 26.8588ms
2022-12-01 10:57:29.332 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.5439ms
2022-12-01 10:57:29.408 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 10:57:29.408 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 10:57:29.408 -03:00 [DBG] Request did not match any endpoints
2022-12-01 10:57:29.607 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.1615ms
2022-12-01 10:57:49.418 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 10:57:49.425 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 10:57:49.433 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 10:57:49.434 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:57:49.435 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:57:49.536 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 10:57:49.543 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:57:49.602 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 10:57:49.604 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:57:49.604 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:57:49.605 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:57:49.605 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:57:49.606 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:57:49.607 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:57:49.609 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 10:57:49.625 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:57:49.630 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 10:57:49.632 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:57:49.632 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 10:57:49.654 -03:00 [DBG] Connection id "0HMMJKFTRKNEE", Request id "0HMMJKFTRKNEE:00000009": started reading request body.
2022-12-01 10:57:49.655 -03:00 [DBG] Connection id "0HMMJKFTRKNEE", Request id "0HMMJKFTRKNEE:00000009": done reading request body.
2022-12-01 10:57:49.834 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:57:49.834 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:57:49.835 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 10:57:49.849 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 10:57:49.887 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:57:49.903 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 10:57:50.120 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 10:57:50.146 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:57:50.146 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:57:50.146 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:57:50.146 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:57:50.152 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2022-12-01 10:57:50.152 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:50.152 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:50.158 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:57:50.209 -03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 10:57:50.255 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 10:57:50.275 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:50.276 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 67ms reading results.
2022-12-01 10:57:50.276 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:50.277 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:57:50.430 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:57:50.434 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 10:57:50.434 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:57:50.434 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:57:50.435 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:57:50.435 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:57:50.510 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 893.3812ms
2022-12-01 10:57:50.511 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 10:57:50.514 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:57:50.522 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:57:50.524 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 10:57:50.524 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 1106.7357ms
2022-12-01 10:58:11.872 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:58:11.874 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:58:11.874 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:58:11.874 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:58:11.874 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:58:11.874 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 10:58:11.893 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 10:58:11.901 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 10:58:11.902 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/VillaApi - - - 401 0 - 29.5165ms
2022-12-01 10:58:24.634 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/VillaApi - -
2022-12-01 10:58:24.634 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 10:58:24.634 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 10:58:24.634 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:58:24.634 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:58:24.759 -03:00 [DBG] Successfully validated the token.
2022-12-01 10:58:24.761 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 10:58:24.762 -03:00 [DBG] Authorization was successful.
2022-12-01 10:58:24.762 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:58:24.767 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 10:58:24.767 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:58:24.767 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:58:24.767 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:58:24.767 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:58:24.767 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:58:24.767 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:58:24.818 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:58:24.975 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:58:24.979 -03:00 [INF] Retornando todas as vilas.
2022-12-01 10:58:24.998 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 10:58:25.011 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 10:58:25.032 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:58:25.033 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:58:25.033 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:58:25.033 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:58:25.033 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:58:25.039 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:25.046 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:25.047 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:58:25.082 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 10:58:25.115 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:25.116 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 33ms reading results.
2022-12-01 10:58:25.120 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:25.121 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:58:25.156 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:58:25.158 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-01 10:58:25.159 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-01 10:58:25.159 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:58:25.159 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:58:25.159 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:58:25.159 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:58:25.166 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 399.2457ms
2022-12-01 10:58:25.168 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 10:58:25.171 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:58:25.171 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:25.171 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:58:25.171 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/VillaApi - - - 200 1818 application/json;+charset=utf-8 537.0061ms
2022-12-01 10:58:35.204 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/VillaApi/7 - -
2022-12-01 10:58:35.204 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi/7'
2022-12-01 10:58:35.204 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)' with route pattern 'api/VillaApi/{id:int}' is valid for the request path '/api/VillaApi/7'
2022-12-01 10:58:35.205 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 10:58:35.205 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 10:58:35.205 -03:00 [DBG] Successfully validated the token.
2022-12-01 10:58:35.205 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 10:58:35.205 -03:00 [DBG] Authorization was successful.
2022-12-01 10:58:35.206 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 10:58:35.210 -03:00 [INF] Route matched with {action = "GetById", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetById(Int32) on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 10:58:35.210 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 10:58:35.211 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 10:58:35.211 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 10:58:35.211 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 10:58:35.211 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 10:58:35.211 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:58:35.212 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 10:58:35.212 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 10:58:35.212 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-01 10:58:35.213 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-01 10:58:35.213 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 10:58:35.214 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 10:58:35.214 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-01 10:58:35.215 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-01 10:58:35.219 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()
    .Where(x => x.Id == __id_0)
    .FirstOrDefault()'
2022-12-01 10:58:35.234 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-01 10:58:35.241 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 10:58:35.241 -03:00 [DBG] Creating DbConnection.
2022-12-01 10:58:35.241 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 10:58:35.241 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:58:35.242 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 10:58:35.242 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:35.242 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:35.245 -03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-12-01 10:58:35.248 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__id_0
2022-12-01 10:58:35.251 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:35.251 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 10:58:35.251 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:35.251 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 10:58:35.253 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 10:58:35.253 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-01 10:58:35.253 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-01 10:58:35.253 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 10:58:35.253 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 10:58:35.253 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 10:58:35.254 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 10:58:35.254 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI) in 43.162ms
2022-12-01 10:58:35.254 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 10:58:35.254 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 10:58:35.254 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 10:58:35.254 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 10:58:35.254 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/VillaApi/7 - - - 200 383 application/json;+charset=utf-8 50.5053ms
2022-12-01 11:49:18.706 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 11:49:20.200 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 11:49:20.231 -03:00 [DBG] Creating DbConnection.
2022-12-01 11:49:20.298 -03:00 [DBG] Created DbConnection. (64ms).
2022-12-01 11:49:20.309 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.734 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.744 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 11:49:21.752 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2022-12-01 11:49:21.756 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (15ms).
2022-12-01 11:49:21.764 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 11:49:21.797 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 11:49:21.800 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.813 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-01 11:49:21.817 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 11:49:21.817 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 11:49:21.817 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 11:49:21.817 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.819 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.819 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 11:49:21.841 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 11:49:21.841 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.841 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 11:49:21.861 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 11:49:21.861 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:49:21.861 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:49:21.861 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.861 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.862 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 11:49:21.865 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 11:49:21.868 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.871 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 11:49:21.871 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:21.871 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 11:49:21.918 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 11:49:22.119 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 11:49:22.147 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 11:49:22.147 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:49:22.147 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:49:22.147 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:22.147 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:22.147 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 11:49:22.150 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 11:49:22.152 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:22.152 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 11:49:22.152 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:22.152 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 11:49:22.153 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 11:49:22.155 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:22.157 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 11:49:22.220 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 11:49:22.251 -03:00 [DBG] Hosting starting
2022-12-01 11:49:22.268 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 11:49:22.270 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 11:49:22.276 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 11:49:22.282 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 11:49:22.283 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 11:49:22.284 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 11:49:22.284 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 11:49:22.285 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 11:49:22.286 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 11:49:22.289 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 11:49:22.290 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 11:49:22.378 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 11:49:22.404 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 11:49:22.404 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 11:49:22.405 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 11:49:22.405 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 11:49:22.405 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 11:49:22.406 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 11:49:22.406 -03:00 [INF] Hosting environment: Development
2022-12-01 11:49:22.406 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 11:49:22.406 -03:00 [DBG] Hosting started
2022-12-01 11:49:22.471 -03:00 [DBG] Connection id "0HMMJLCTUSN6L" accepted.
2022-12-01 11:49:22.472 -03:00 [DBG] Connection id "0HMMJLCTUSN6L" started.
2022-12-01 11:49:22.508 -03:00 [DBG] Connection 0HMMJLCTUSN6L established using the following protocol: "Tls12"
2022-12-01 11:49:22.536 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 11:49:22.545 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 11:49:22.565 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 11:49:22.568 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 11:49:22.568 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 11:49:22.590 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 11:49:22.628 -03:00 [DBG] Connection id "0HMMJLCTUSN6M" accepted.
2022-12-01 11:49:22.628 -03:00 [DBG] Connection id "0HMMJLCTUSN6M" started.
2022-12-01 11:49:22.645 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 11:49:22.648 -03:00 [DBG] Connection id "0HMMJLCTUSN6M" received FIN.
2022-12-01 11:49:22.649 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 11:49:22.650 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 11:49:22.668 -03:00 [DBG] Connection id "0HMMJLCTUSN6M" stopped.
2022-12-01 11:49:22.669 -03:00 [DBG] Connection id "0HMMJLCTUSN6M" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 11:49:22.670 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 11:49:22.679 -03:00 [DBG] Connection id "0HMMJLCTUSN6L" completed keep alive response.
2022-12-01 11:49:22.682 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 148.3952ms
2022-12-01 11:49:22.909 -03:00 [DBG] Connection id "0HMMJLCTUSN6N" accepted.
2022-12-01 11:49:22.909 -03:00 [DBG] Connection id "0HMMJLCTUSN6N" started.
2022-12-01 11:49:22.915 -03:00 [DBG] Connection 0HMMJLCTUSN6N established using the following protocol: "Tls12"
2022-12-01 11:49:22.975 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 11:49:22.996 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 11:49:22.996 -03:00 [DBG] Request did not match any endpoints
2022-12-01 11:49:23.265 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 11:49:23.415 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 11:49:23.416 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 11:49:23.417 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 11:49:23.420 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 445.4936ms
2022-12-01 11:49:23.430 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 12.0853ms
2022-12-01 11:49:23.468 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.6005ms
2022-12-01 11:49:23.578 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 11:49:23.578 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 11:49:23.579 -03:00 [DBG] Request did not match any endpoints
2022-12-01 11:49:23.767 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 188.6603ms
2022-12-01 11:49:37.651 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47
2022-12-01 11:49:37.652 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 11:49:37.652 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 11:49:37.652 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 11:49:37.652 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 11:49:37.656 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 11:49:37.657 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 11:49:37.686 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 11:49:37.688 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 11:49:37.688 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 11:49:37.689 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 11:49:37.689 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 11:49:37.689 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 11:49:37.692 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 11:49:37.694 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 11:49:37.698 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 11:49:37.700 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 11:49:37.700 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 11:49:37.700 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 11:49:37.716 -03:00 [DBG] Connection id "0HMMJLCTUSN6N", Request id "0HMMJLCTUSN6N:00000009": started reading request body.
2022-12-01 11:49:37.717 -03:00 [DBG] Connection id "0HMMJLCTUSN6N", Request id "0HMMJLCTUSN6N:00000009": done reading request body.
2022-12-01 11:49:37.824 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 11:49:37.824 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 11:49:37.824 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 11:49:37.829 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 11:49:37.846 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 11:49:37.857 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 11:49:37.974 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 11:49:37.996 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 11:49:37.996 -03:00 [DBG] Creating DbConnection.
2022-12-01 11:49:37.996 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 11:49:37.996 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:49:37.999 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-01 11:49:38.000 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:38.000 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:38.005 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 11:49:38.044 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 11:49:38.079 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 11:49:38.095 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:38.096 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 52ms reading results.
2022-12-01 11:49:38.096 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:38.096 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 11:49:38.217 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 11:49:38.218 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 11:49:38.218 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 11:49:38.219 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 11:49:38.219 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 11:49:38.219 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 11:49:38.268 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 575.1506ms
2022-12-01 11:49:38.268 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 11:49:38.272 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 11:49:38.278 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:49:38.278 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 11:49:38.278 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 627.8959ms
2022-12-01 11:50:13.385 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/VillaApi - -
2022-12-01 11:50:13.385 -03:00 [DBG] 1 candidate(s) found for the request path '/api/VillaApi'
2022-12-01 11:50:13.385 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/VillaApi'
2022-12-01 11:50:13.393 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 11:50:13.397 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 11:50:13.465 -03:00 [DBG] Successfully validated the token.
2022-12-01 11:50:13.466 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 11:50:13.466 -03:00 [DBG] Authorization was successful.
2022-12-01 11:50:13.466 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 11:50:13.468 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 11:50:13.468 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 11:50:13.468 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 11:50:13.468 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 11:50:13.468 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 11:50:13.468 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 11:50:13.468 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 11:50:13.508 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 11:50:13.596 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 11:50:13.597 -03:00 [INF] Retornando todas as vilas.
2022-12-01 11:50:13.606 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 11:50:13.613 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 11:50:13.627 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 11:50:13.627 -03:00 [DBG] Creating DbConnection.
2022-12-01 11:50:13.627 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 11:50:13.627 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:50:13.627 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:50:13.632 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:50:13.635 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:50:13.636 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 11:50:13.662 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 11:50:13.685 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:50:13.686 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 23ms reading results.
2022-12-01 11:50:13.690 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:50:13.691 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 11:50:13.716 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 11:50:13.718 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-01 11:50:13.718 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-01 11:50:13.718 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 11:50:13.718 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 11:50:13.718 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 11:50:13.718 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 11:50:13.723 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 254.9545ms
2022-12-01 11:50:13.724 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 11:50:13.726 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 11:50:13.726 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:50:13.726 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 11:50:13.727 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/VillaApi - - - 200 1818 application/json;+charset=utf-8 342.1011ms
2022-12-01 11:50:35.413 -03:00 [DBG] Connection id "0HMMJLCTUSN6L" received FIN.
2022-12-01 11:50:35.427 -03:00 [DBG] Connection id "0HMMJLCTUSN6L" disconnecting.
2022-12-01 11:50:35.427 -03:00 [DBG] Connection id "0HMMJLCTUSN6L" sending FIN because: "The client closed the connection."
2022-12-01 11:50:35.428 -03:00 [DBG] Connection id "0HMMJLCTUSN6L" stopped.
2022-12-01 11:59:55.609 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 11:59:56.636 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 11:59:56.666 -03:00 [DBG] Creating DbConnection.
2022-12-01 11:59:56.727 -03:00 [DBG] Created DbConnection. (60ms).
2022-12-01 11:59:56.739 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.144 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.153 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 11:59:58.160 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-01 11:59:58.162 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-01 11:59:58.170 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 11:59:58.201 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 11:59:58.205 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.216 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 11:59:58.222 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 11:59:58.222 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 11:59:58.223 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 11:59:58.223 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.223 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.224 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 11:59:58.246 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 11:59:58.246 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.246 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 11:59:58.274 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 11:59:58.274 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:59:58.274 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:59:58.274 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.275 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.275 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 11:59:58.279 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 11:59:58.286 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.288 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 6ms reading results.
2022-12-01 11:59:58.288 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.288 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 11:59:58.354 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 11:59:58.642 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 11:59:58.687 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 11:59:58.687 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:59:58.687 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 11:59:58.687 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.687 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.687 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 11:59:58.689 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 11:59:58.691 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.691 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 11:59:58.691 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.692 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 11:59:58.693 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 11:59:58.696 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 11:59:58.697 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 11:59:58.792 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 11:59:58.846 -03:00 [DBG] Hosting starting
2022-12-01 11:59:58.874 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 11:59:58.876 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 11:59:58.883 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 11:59:58.891 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 11:59:58.893 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 11:59:58.894 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 11:59:58.894 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 11:59:58.895 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 11:59:58.896 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 11:59:58.900 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 11:59:58.903 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 11:59:59.056 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 11:59:59.088 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 11:59:59.088 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 11:59:59.088 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 11:59:59.088 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 11:59:59.088 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 11:59:59.089 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 11:59:59.089 -03:00 [INF] Hosting environment: Development
2022-12-01 11:59:59.089 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 11:59:59.089 -03:00 [DBG] Hosting started
2022-12-01 11:59:59.302 -03:00 [DBG] Connection id "0HMMJLIRO5GO2" accepted.
2022-12-01 11:59:59.302 -03:00 [DBG] Connection id "0HMMJLIRO5GO1" accepted.
2022-12-01 11:59:59.304 -03:00 [DBG] Connection id "0HMMJLIRO5GO1" started.
2022-12-01 11:59:59.304 -03:00 [DBG] Connection id "0HMMJLIRO5GO2" started.
2022-12-01 11:59:59.309 -03:00 [DBG] Connection id "0HMMJLIRO5GO2" received FIN.
2022-12-01 11:59:59.309 -03:00 [DBG] Connection id "0HMMJLIRO5GO1" received FIN.
2022-12-01 11:59:59.320 -03:00 [DBG] Connection id "0HMMJLIRO5GO3" accepted.
2022-12-01 11:59:59.320 -03:00 [DBG] Connection id "0HMMJLIRO5GO3" started.
2022-12-01 11:59:59.327 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 11:59:59.327 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 11:59:59.349 -03:00 [DBG] Connection id "0HMMJLIRO5GO1" stopped.
2022-12-01 11:59:59.349 -03:00 [DBG] Connection id "0HMMJLIRO5GO2" stopped.
2022-12-01 11:59:59.353 -03:00 [DBG] Connection id "0HMMJLIRO5GO2" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 11:59:59.353 -03:00 [DBG] Connection id "0HMMJLIRO5GO1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 11:59:59.369 -03:00 [DBG] Connection 0HMMJLIRO5GO3 established using the following protocol: "Tls12"
2022-12-01 11:59:59.423 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 11:59:59.438 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 11:59:59.465 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 11:59:59.470 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 11:59:59.471 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 11:59:59.500 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 11:59:59.615 -03:00 [DBG] Connection id "0HMMJLIRO5GO4" accepted.
2022-12-01 11:59:59.618 -03:00 [DBG] Connection id "0HMMJLIRO5GO4" started.
2022-12-01 11:59:59.630 -03:00 [DBG] Connection 0HMMJLIRO5GO4 established using the following protocol: "Tls12"
2022-12-01 11:59:59.643 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 11:59:59.653 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 11:59:59.662 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 11:59:59.675 -03:00 [DBG] Connection id "0HMMJLIRO5GO3" completed keep alive response.
2022-12-01 11:59:59.677 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 11:59:59.679 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 262.9117ms
2022-12-01 11:59:59.717 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 11:59:59.717 -03:00 [DBG] Request did not match any endpoints
2022-12-01 11:59:59.950 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 12:00:00.095 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 12:00:00.095 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 12:00:00.101 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 423.6910ms
2022-12-01 12:00:00.101 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 12:00:00.103 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 8.0116ms
2022-12-01 12:00:00.195 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 93.9920ms
2022-12-01 12:00:00.276 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 12:00:00.276 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 12:00:00.276 -03:00 [DBG] Request did not match any endpoints
2022-12-01 12:00:00.537 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 260.5584ms
2022-12-01 14:06:01.017 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 14:06:02.407 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:06:02.453 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:06:02.550 -03:00 [DBG] Created DbConnection. (91ms).
2022-12-01 14:06:02.563 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.040 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.053 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 14:06:04.063 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-01 14:06:04.066 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2022-12-01 14:06:04.074 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:06:04.107 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:06:04.112 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.124 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 14:06:04.129 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 14:06:04.129 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:06:04.129 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:06:04.129 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.130 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.131 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:06:04.153 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:06:04.153 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.153 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:06:04.180 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:06:04.180 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:06:04.180 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:06:04.180 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.180 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.181 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:06:04.184 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:06:04.188 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.193 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-01 14:06:04.193 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.193 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:06:04.247 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 14:06:04.467 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 14:06:04.498 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:06:04.498 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:06:04.498 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:06:04.498 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.498 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.498 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:06:04.500 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:06:04.502 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.502 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 14:06:04.502 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.502 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:06:04.503 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:06:04.506 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:06:04.508 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 14:06:04.571 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 14:06:04.608 -03:00 [DBG] Hosting starting
2022-12-01 14:06:04.625 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 14:06:04.627 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 14:06:04.632 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 14:06:04.638 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 14:06:04.641 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:06:04.641 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 14:06:04.642 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:06:04.642 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 14:06:04.643 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 14:06:04.645 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 14:06:04.645 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 14:06:04.772 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 14:06:04.800 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 14:06:04.800 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 14:06:04.800 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 14:06:04.800 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 14:06:04.800 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 14:06:04.800 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 14:06:04.800 -03:00 [INF] Hosting environment: Development
2022-12-01 14:06:04.800 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 14:06:04.800 -03:00 [DBG] Hosting started
2022-12-01 14:06:04.898 -03:00 [DBG] Connection id "0HMMJNPAFB06G" accepted.
2022-12-01 14:06:04.899 -03:00 [DBG] Connection id "0HMMJNPAFB06G" started.
2022-12-01 14:06:04.938 -03:00 [DBG] Connection 0HMMJNPAFB06G established using the following protocol: "Tls12"
2022-12-01 14:06:04.969 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:06:04.978 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 14:06:04.999 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:06:05.002 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:06:05.002 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:06:05.022 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:06:05.080 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:06:05.085 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 14:06:05.092 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 14:06:05.101 -03:00 [DBG] Connection id "0HMMJNPAFB06G" completed keep alive response.
2022-12-01 14:06:05.103 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 136.0710ms
2022-12-01 14:06:05.255 -03:00 [DBG] Connection id "0HMMJNPAFB06H" accepted.
2022-12-01 14:06:05.255 -03:00 [DBG] Connection id "0HMMJNPAFB06I" accepted.
2022-12-01 14:06:05.255 -03:00 [DBG] Connection id "0HMMJNPAFB06I" started.
2022-12-01 14:06:05.255 -03:00 [DBG] Connection id "0HMMJNPAFB06H" started.
2022-12-01 14:06:05.260 -03:00 [DBG] Connection id "0HMMJNPAFB06I" received FIN.
2022-12-01 14:06:05.261 -03:00 [DBG] Connection id "0HMMJNPAFB06H" received FIN.
2022-12-01 14:06:05.274 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:06:05.274 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:06:05.301 -03:00 [DBG] Connection id "0HMMJNPAFB06I" stopped.
2022-12-01 14:06:05.301 -03:00 [DBG] Connection id "0HMMJNPAFB06H" stopped.
2022-12-01 14:06:05.302 -03:00 [DBG] Connection id "0HMMJNPAFB06H" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:06:05.302 -03:00 [DBG] Connection id "0HMMJNPAFB06I" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:06:05.595 -03:00 [DBG] Connection id "0HMMJNPAFB06J" accepted.
2022-12-01 14:06:05.596 -03:00 [DBG] Connection id "0HMMJNPAFB06J" started.
2022-12-01 14:06:05.619 -03:00 [DBG] Connection 0HMMJNPAFB06J established using the following protocol: "Tls12"
2022-12-01 14:06:05.643 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 14:06:05.662 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 14:06:05.662 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:06:05.837 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 14:06:05.949 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 14:06:05.949 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 14:06:05.951 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 14:06:05.956 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 312.5724ms
2022-12-01 14:06:05.956 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 7.0805ms
2022-12-01 14:06:05.968 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 18.7960ms
2022-12-01 14:06:06.066 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 14:06:06.066 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 14:06:06.066 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:06:06.234 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 167.4876ms
2022-12-01 14:48:23.554 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 14:48:24.592 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:48:24.654 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:48:24.750 -03:00 [DBG] Created DbConnection. (91ms).
2022-12-01 14:48:24.764 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.166 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.174 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 14:48:26.181 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 14:48:26.183 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-01 14:48:26.189 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:48:26.217 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:48:26.220 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.230 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 14:48:26.234 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 14:48:26.234 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:48:26.234 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:48:26.234 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.235 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.236 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:48:26.254 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:48:26.254 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.255 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:48:26.273 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:48:26.273 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:48:26.273 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:48:26.273 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.274 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.274 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:48:26.277 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:48:26.282 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.283 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-01 14:48:26.283 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.283 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:48:26.324 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 14:48:26.518 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 14:48:26.547 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:48:26.547 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:48:26.547 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:48:26.547 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.547 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.547 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:48:26.549 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:48:26.552 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.552 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 14:48:26.552 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.552 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:48:26.553 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:48:26.556 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:48:26.557 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 14:48:26.622 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 14:48:26.655 -03:00 [DBG] Hosting starting
2022-12-01 14:48:26.673 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 14:48:26.674 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 14:48:26.679 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 14:48:26.685 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 14:48:26.686 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:48:26.687 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 14:48:26.687 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:48:26.688 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 14:48:26.689 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 14:48:26.690 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 14:48:26.691 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 14:48:26.790 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 14:48:26.819 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 14:48:26.820 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 14:48:26.820 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 14:48:26.820 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 14:48:26.820 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 14:48:26.820 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 14:48:26.820 -03:00 [INF] Hosting environment: Development
2022-12-01 14:48:26.820 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 14:48:26.820 -03:00 [DBG] Hosting started
2022-12-01 14:48:27.114 -03:00 [DBG] Connection id "0HMMJOH03PCER" accepted.
2022-12-01 14:48:27.116 -03:00 [DBG] Connection id "0HMMJOH03PCER" started.
2022-12-01 14:48:27.148 -03:00 [DBG] Connection 0HMMJOH03PCER established using the following protocol: "Tls12"
2022-12-01 14:48:27.173 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:48:27.183 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 14:48:27.202 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:48:27.205 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:48:27.205 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:48:27.224 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:48:27.266 -03:00 [DBG] Connection id "0HMMJOH03PCES" accepted.
2022-12-01 14:48:27.266 -03:00 [DBG] Connection id "0HMMJOH03PCET" accepted.
2022-12-01 14:48:27.266 -03:00 [DBG] Connection id "0HMMJOH03PCES" started.
2022-12-01 14:48:27.266 -03:00 [DBG] Connection id "0HMMJOH03PCET" started.
2022-12-01 14:48:27.284 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:48:27.288 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 14:48:27.292 -03:00 [DBG] Connection id "0HMMJOH03PCES" received FIN.
2022-12-01 14:48:27.292 -03:00 [DBG] Connection id "0HMMJOH03PCET" received FIN.
2022-12-01 14:48:27.303 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:48:27.303 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:48:27.312 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 14:48:27.333 -03:00 [DBG] Connection id "0HMMJOH03PCER" completed keep alive response.
2022-12-01 14:48:27.334 -03:00 [DBG] Connection id "0HMMJOH03PCET" stopped.
2022-12-01 14:48:27.334 -03:00 [DBG] Connection id "0HMMJOH03PCES" stopped.
2022-12-01 14:48:27.334 -03:00 [DBG] Connection id "0HMMJOH03PCET" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:48:27.334 -03:00 [DBG] Connection id "0HMMJOH03PCES" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:48:27.337 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 165.1320ms
2022-12-01 14:48:27.515 -03:00 [DBG] Connection id "0HMMJOH03PCEU" accepted.
2022-12-01 14:48:27.516 -03:00 [DBG] Connection id "0HMMJOH03PCEU" started.
2022-12-01 14:48:27.537 -03:00 [DBG] Connection 0HMMJOH03PCEU established using the following protocol: "Tls12"
2022-12-01 14:48:27.575 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 14:48:27.593 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 14:48:27.594 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:48:27.815 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 14:48:27.970 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 14:48:27.973 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 14:48:27.973 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 398.1857ms
2022-12-01 14:48:27.978 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 5.5474ms
2022-12-01 14:48:28.056 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 14:48:28.118 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.2499ms
2022-12-01 14:48:28.205 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 14:48:28.205 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 14:48:28.205 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:48:28.386 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.2239ms
2022-12-01 14:50:38.153 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 14:50:39.234 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:50:39.255 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:50:39.300 -03:00 [DBG] Created DbConnection. (42ms).
2022-12-01 14:50:39.309 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.634 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.641 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 14:50:40.650 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 14:50:40.653 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-01 14:50:40.659 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:50:40.691 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:50:40.694 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.707 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-01 14:50:40.711 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 14:50:40.711 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:50:40.711 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:50:40.711 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.712 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.713 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:50:40.734 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:50:40.734 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.734 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:50:40.754 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:50:40.754 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:50:40.754 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:50:40.754 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.754 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.755 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:50:40.759 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:50:40.763 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.765 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 14:50:40.766 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:40.766 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:50:40.814 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 14:50:41.094 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 14:50:41.126 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:50:41.126 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:50:41.126 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:50:41.126 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:41.126 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:41.126 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:50:41.128 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:50:41.130 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:41.130 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 14:50:41.130 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:41.130 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:50:41.132 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:50:41.135 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:41.136 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 14:50:41.199 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 14:50:41.236 -03:00 [DBG] Hosting starting
2022-12-01 14:50:41.255 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 14:50:41.257 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 14:50:41.261 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 14:50:41.268 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 14:50:41.269 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:50:41.269 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 14:50:41.270 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:50:41.271 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 14:50:41.272 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 14:50:41.273 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 14:50:41.274 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 14:50:41.363 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 14:50:41.385 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 14:50:41.385 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 14:50:41.385 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 14:50:41.385 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 14:50:41.385 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 14:50:41.385 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 14:50:41.385 -03:00 [INF] Hosting environment: Development
2022-12-01 14:50:41.386 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 14:50:41.386 -03:00 [DBG] Hosting started
2022-12-01 14:50:41.542 -03:00 [DBG] Connection id "0HMMJOI85O4MQ" accepted.
2022-12-01 14:50:41.542 -03:00 [DBG] Connection id "0HMMJOI85O4MP" accepted.
2022-12-01 14:50:41.543 -03:00 [DBG] Connection id "0HMMJOI85O4MQ" received FIN.
2022-12-01 14:50:41.543 -03:00 [DBG] Connection id "0HMMJOI85O4MP" received FIN.
2022-12-01 14:50:41.543 -03:00 [DBG] Connection id "0HMMJOI85O4MP" started.
2022-12-01 14:50:41.543 -03:00 [DBG] Connection id "0HMMJOI85O4MQ" started.
2022-12-01 14:50:41.570 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:50:41.570 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:50:41.587 -03:00 [DBG] Connection id "0HMMJOI85O4MP" stopped.
2022-12-01 14:50:41.587 -03:00 [DBG] Connection id "0HMMJOI85O4MQ" stopped.
2022-12-01 14:50:41.588 -03:00 [DBG] Connection id "0HMMJOI85O4MQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:50:41.588 -03:00 [DBG] Connection id "0HMMJOI85O4MP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:50:41.618 -03:00 [DBG] Connection id "0HMMJOI85O4MR" accepted.
2022-12-01 14:50:41.618 -03:00 [DBG] Connection id "0HMMJOI85O4MR" started.
2022-12-01 14:50:41.648 -03:00 [DBG] Connection 0HMMJOI85O4MR established using the following protocol: "Tls12"
2022-12-01 14:50:41.677 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:50:41.689 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 14:50:41.721 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:50:41.725 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:50:41.726 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:50:41.754 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:50:41.847 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:50:41.856 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 14:50:41.865 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 14:50:41.875 -03:00 [DBG] Connection id "0HMMJOI85O4MR" completed keep alive response.
2022-12-01 14:50:41.879 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 203.8878ms
2022-12-01 14:50:41.907 -03:00 [DBG] Connection id "0HMMJOI85O4MS" accepted.
2022-12-01 14:50:41.919 -03:00 [DBG] Connection id "0HMMJOI85O4MS" started.
2022-12-01 14:50:41.929 -03:00 [DBG] Connection 0HMMJOI85O4MS established using the following protocol: "Tls12"
2022-12-01 14:50:41.962 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 14:50:41.982 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 14:50:41.983 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:50:42.211 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 14:50:42.496 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 14:50:42.498 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 536.8175ms
2022-12-01 14:50:42.509 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 14:50:42.509 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 14:50:42.522 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 13.0458ms
2022-12-01 14:50:42.583 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.4742ms
2022-12-01 14:50:42.677 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 14:50:42.677 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 14:50:42.677 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:50:42.955 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 277.7986ms
2022-12-01 14:50:51.891 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 14:50:51.892 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 14:50:51.892 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 14:50:51.892 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 14:50:51.892 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:50:51.893 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:50:51.894 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 14:50:51.919 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 14:50:51.920 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 14:50:51.920 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 14:50:51.920 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 14:50:51.920 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 14:50:51.920 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 14:50:51.921 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 14:50:51.922 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 14:50:51.925 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 14:50:51.928 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 14:50:51.929 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 14:50:51.930 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 14:50:51.948 -03:00 [DBG] Connection id "0HMMJOI85O4MR", Request id "0HMMJOI85O4MR:00000003": started reading request body.
2022-12-01 14:50:51.949 -03:00 [DBG] Connection id "0HMMJOI85O4MR", Request id "0HMMJOI85O4MR:00000003": done reading request body.
2022-12-01 14:50:52.125 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 14:50:52.125 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 14:50:52.125 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 14:50:52.133 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 14:50:52.139 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:50:52.150 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 14:50:52.287 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 14:50:52.308 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:50:52.308 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:50:52.308 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 14:50:52.308 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:50:52.313 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2022-12-01 14:50:52.313 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:52.313 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:52.319 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 14:50:52.359 -03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 14:50:52.395 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 14:50:52.413 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:52.416 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 56ms reading results.
2022-12-01 14:50:52.416 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:52.416 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:50:52.562 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 14:50:52.567 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 14:50:52.567 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 14:50:52.567 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 14:50:52.634 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 709.287ms
2022-12-01 14:50:52.635 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 14:50:52.635 -03:00 [DBG] Connection id "0HMMJOI85O4MR" completed keep alive response.
2022-12-01 14:50:52.637 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:50:52.644 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:50:52.645 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 14:50:52.645 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 754.2025ms
2022-12-01 14:50:52.713 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:50:52.713 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:50:52.713 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:50:52.713 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:50:52.713 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:50:52.714 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:50:52.714 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 14:50:52.714 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 14:50:52.714 -03:00 [DBG] Connection id "0HMMJOI85O4MR" completed keep alive response.
2022-12-01 14:50:52.714 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 1.1956ms
2022-12-01 14:50:55.484 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:50:55.484 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:50:55.484 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:50:55.484 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:50:55.484 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:50:55.484 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:50:55.484 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 14:50:55.484 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 14:50:55.484 -03:00 [DBG] Connection id "0HMMJOI85O4MR" completed keep alive response.
2022-12-01 14:50:55.484 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 0.9916ms
2022-12-01 14:52:08.370 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 14:52:09.380 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:52:09.420 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:52:09.536 -03:00 [DBG] Created DbConnection. (106ms).
2022-12-01 14:52:09.553 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:10.903 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:10.910 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 14:52:10.916 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 14:52:10.919 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 14:52:10.925 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:52:10.954 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:52:10.956 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:10.966 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 14:52:10.970 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 14:52:10.970 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:52:10.970 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:52:10.970 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:10.971 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:10.972 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:52:10.990 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:52:10.990 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:10.991 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:52:11.013 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:52:11.013 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:52:11.013 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:52:11.013 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.013 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.014 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:52:11.018 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:52:11.021 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.023 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 14:52:11.023 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.023 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:52:11.067 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 14:52:11.265 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 14:52:11.294 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:52:11.294 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:52:11.294 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:52:11.294 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.294 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.294 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:52:11.296 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:52:11.298 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.298 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 14:52:11.298 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.298 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:52:11.300 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:52:11.304 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:52:11.305 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 14:52:11.371 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 14:52:11.403 -03:00 [DBG] Hosting starting
2022-12-01 14:52:11.420 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 14:52:11.422 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 14:52:11.427 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 14:52:11.434 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 14:52:11.437 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:52:11.437 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 14:52:11.438 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:52:11.438 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 14:52:11.439 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 14:52:11.441 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 14:52:11.441 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 14:52:11.530 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 14:52:11.560 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 14:52:11.561 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 14:52:11.561 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 14:52:11.561 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 14:52:11.561 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 14:52:11.561 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 14:52:11.561 -03:00 [INF] Hosting environment: Development
2022-12-01 14:52:11.561 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 14:52:11.561 -03:00 [DBG] Hosting started
2022-12-01 14:52:11.801 -03:00 [DBG] Connection id "0HMMJOJ32ICN9" accepted.
2022-12-01 14:52:11.803 -03:00 [DBG] Connection id "0HMMJOJ32ICN9" started.
2022-12-01 14:52:11.841 -03:00 [DBG] Connection 0HMMJOJ32ICN9 established using the following protocol: "Tls12"
2022-12-01 14:52:11.872 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:52:11.881 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 14:52:11.905 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:52:11.908 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:52:11.908 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:52:11.928 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:52:11.979 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:52:11.984 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 14:52:11.989 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 14:52:11.998 -03:00 [DBG] Connection id "0HMMJOJ32ICN9" completed keep alive response.
2022-12-01 14:52:12.000 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 129.7968ms
2022-12-01 14:52:12.051 -03:00 [DBG] Connection id "0HMMJOJ32ICNA" accepted.
2022-12-01 14:52:12.051 -03:00 [DBG] Connection id "0HMMJOJ32ICNB" accepted.
2022-12-01 14:52:12.051 -03:00 [DBG] Connection id "0HMMJOJ32ICNA" started.
2022-12-01 14:52:12.051 -03:00 [DBG] Connection id "0HMMJOJ32ICNB" started.
2022-12-01 14:52:12.053 -03:00 [DBG] Connection id "0HMMJOJ32ICNB" received FIN.
2022-12-01 14:52:12.053 -03:00 [DBG] Connection id "0HMMJOJ32ICNA" received FIN.
2022-12-01 14:52:12.063 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:52:12.063 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:52:12.078 -03:00 [DBG] Connection id "0HMMJOJ32ICNA" stopped.
2022-12-01 14:52:12.078 -03:00 [DBG] Connection id "0HMMJOJ32ICNB" stopped.
2022-12-01 14:52:12.079 -03:00 [DBG] Connection id "0HMMJOJ32ICNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:52:12.079 -03:00 [DBG] Connection id "0HMMJOJ32ICNA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:52:12.495 -03:00 [DBG] Connection id "0HMMJOJ32ICNC" accepted.
2022-12-01 14:52:12.496 -03:00 [DBG] Connection id "0HMMJOJ32ICNC" started.
2022-12-01 14:52:12.524 -03:00 [DBG] Connection 0HMMJOJ32ICNC established using the following protocol: "Tls12"
2022-12-01 14:52:12.558 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 14:52:12.583 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 14:52:12.583 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:52:12.793 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 14:52:12.916 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 14:52:12.920 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 14:52:12.920 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 14:52:12.921 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 362.2966ms
2022-12-01 14:52:12.935 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 11.3366ms
2022-12-01 14:52:12.946 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.4403ms
2022-12-01 14:52:13.014 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 14:52:13.014 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 14:52:13.014 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:52:13.195 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 181.3205ms
2022-12-01 14:52:16.857 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:52:16.857 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:52:16.857 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:52:16.857 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:52:16.857 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:52:16.859 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:52:16.859 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 14:52:16.859 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 14:52:16.859 -03:00 [DBG] Connection id "0HMMJOJ32ICN9" completed keep alive response.
2022-12-01 14:52:16.859 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 401 0 - 2.4718ms
2022-12-01 14:52:23.034 -03:00 [DBG] Connection id "0HMMJOJ32ICN9" received FIN.
2022-12-01 14:52:23.035 -03:00 [DBG] Connection id "0HMMJOJ32ICN9" disconnecting.
2022-12-01 14:56:12.890 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 14:56:14.194 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:56:14.220 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:56:14.283 -03:00 [DBG] Created DbConnection. (58ms).
2022-12-01 14:56:14.297 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.659 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.672 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 14:56:15.684 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 14:56:15.688 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (21ms).
2022-12-01 14:56:15.706 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:56:15.744 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:56:15.747 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.759 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 14:56:15.764 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 14:56:15.764 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:56:15.764 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:56:15.765 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.766 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.766 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:56:15.789 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:56:15.789 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.790 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:56:15.812 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:56:15.813 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:15.813 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:15.813 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.813 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.813 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:56:15.817 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:56:15.823 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.825 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-01 14:56:15.825 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:15.825 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:56:15.877 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 14:56:16.125 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 14:56:16.172 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:56:16.172 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:16.172 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:16.172 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:16.172 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:16.172 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:56:16.176 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:56:16.179 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:16.179 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 14:56:16.179 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:16.179 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:56:16.181 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:56:16.185 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:16.187 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 14:56:16.276 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 14:56:16.330 -03:00 [DBG] Hosting starting
2022-12-01 14:56:16.363 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 14:56:16.366 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 14:56:16.376 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 14:56:16.388 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 14:56:16.394 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:56:16.395 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 14:56:16.396 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:56:16.397 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 14:56:16.399 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 14:56:16.405 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 14:56:16.407 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 14:56:16.557 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 14:56:16.590 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 14:56:16.590 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 14:56:16.590 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 14:56:16.590 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 14:56:16.590 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 14:56:16.591 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 14:56:16.591 -03:00 [INF] Hosting environment: Development
2022-12-01 14:56:16.591 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 14:56:16.591 -03:00 [DBG] Hosting started
2022-12-01 14:56:16.782 -03:00 [DBG] Connection id "0HMMJOLC2TCD3" received FIN.
2022-12-01 14:56:16.782 -03:00 [DBG] Connection id "0HMMJOLC2TCD2" received FIN.
2022-12-01 14:56:16.796 -03:00 [DBG] Connection id "0HMMJOLC2TCD3" accepted.
2022-12-01 14:56:16.796 -03:00 [DBG] Connection id "0HMMJOLC2TCD2" accepted.
2022-12-01 14:56:16.797 -03:00 [DBG] Connection id "0HMMJOLC2TCD2" started.
2022-12-01 14:56:16.797 -03:00 [DBG] Connection id "0HMMJOLC2TCD3" started.
2022-12-01 14:56:16.812 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:56:16.812 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:56:16.839 -03:00 [DBG] Connection id "0HMMJOLC2TCD4" accepted.
2022-12-01 14:56:16.841 -03:00 [DBG] Connection id "0HMMJOLC2TCD4" started.
2022-12-01 14:56:16.853 -03:00 [DBG] Connection id "0HMMJOLC2TCD3" stopped.
2022-12-01 14:56:16.853 -03:00 [DBG] Connection id "0HMMJOLC2TCD2" stopped.
2022-12-01 14:56:16.863 -03:00 [DBG] Connection id "0HMMJOLC2TCD2" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:56:16.863 -03:00 [DBG] Connection id "0HMMJOLC2TCD3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:56:16.897 -03:00 [DBG] Connection 0HMMJOLC2TCD4 established using the following protocol: "Tls12"
2022-12-01 14:56:16.948 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:56:16.967 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 14:56:17.013 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:56:17.018 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:56:17.019 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:56:17.052 -03:00 [DBG] Connection id "0HMMJOLC2TCD5" accepted.
2022-12-01 14:56:17.052 -03:00 [DBG] Connection id "0HMMJOLC2TCD5" started.
2022-12-01 14:56:17.074 -03:00 [DBG] Connection 0HMMJOLC2TCD5 established using the following protocol: "Tls12"
2022-12-01 14:56:17.077 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:56:17.160 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 14:56:17.170 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:56:17.176 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:56:17.179 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 14:56:17.179 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:56:17.198 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 14:56:17.199 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 14:56:17.199 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 14:56:17.199 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 14:56:17.200 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 14:56:17.200 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 14:56:17.200 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 14:56:17.204 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:56:17.315 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 14:56:17.317 -03:00 [INF] Retornando todas as vilas.
2022-12-01 14:56:17.331 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 14:56:17.374 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 14:56:17.377 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 14:56:17.393 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:56:17.393 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:56:17.393 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 14:56:17.394 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:17.394 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:17.409 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:17.416 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:17.419 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 14:56:17.453 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 14:56:17.485 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:17.485 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 32ms reading results.
2022-12-01 14:56:17.493 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:17.494 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 14:56:17.507 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 14:56:17.507 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 14:56:17.511 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 14:56:17.528 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 19.8024ms
2022-12-01 14:56:17.533 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 369.0456ms
2022-12-01 14:56:17.544 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.4150ms
2022-12-01 14:56:17.559 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 14:56:17.564 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 14:56:17.565 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 14:56:17.565 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 14:56:17.628 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 14:56:17.628 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 14:56:17.628 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:56:17.745 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 541.5614ms
2022-12-01 14:56:17.746 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:56:17.747 -03:00 [DBG] Connection id "0HMMJOLC2TCD4" completed keep alive response.
2022-12-01 14:56:17.749 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:56:17.756 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:17.757 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 14:56:17.757 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 815.8254ms
2022-12-01 14:56:17.798 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 169.4389ms
2022-12-01 14:56:32.379 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 14:56:33.496 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:56:33.522 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:56:33.581 -03:00 [DBG] Created DbConnection. (53ms).
2022-12-01 14:56:33.591 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:34.975 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:34.982 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 14:56:34.988 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 14:56:34.990 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-01 14:56:34.996 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:56:35.027 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 14:56:35.029 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.040 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 14:56:35.044 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 14:56:35.044 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:56:35.044 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 14:56:35.044 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.045 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.046 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:56:35.065 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 14:56:35.065 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.066 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:56:35.086 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:56:35.086 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:35.086 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:35.086 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.086 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.086 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:56:35.089 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 14:56:35.093 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.094 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 14:56:35.094 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.095 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:56:35.138 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 14:56:35.336 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 14:56:35.365 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:56:35.365 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:35.365 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:35.365 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.365 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.365 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:56:35.367 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 14:56:35.369 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.369 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 14:56:35.369 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.369 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 14:56:35.371 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:56:35.373 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:35.375 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 14:56:35.435 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 14:56:35.469 -03:00 [DBG] Hosting starting
2022-12-01 14:56:35.485 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 14:56:35.487 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 14:56:35.492 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 14:56:35.498 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 14:56:35.500 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:56:35.500 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 14:56:35.501 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 14:56:35.501 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 14:56:35.503 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 14:56:35.505 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 14:56:35.505 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 14:56:35.598 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 14:56:35.625 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 14:56:35.625 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 14:56:35.625 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 14:56:35.625 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 14:56:35.625 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 14:56:35.626 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 14:56:35.626 -03:00 [INF] Hosting environment: Development
2022-12-01 14:56:35.626 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 14:56:35.626 -03:00 [DBG] Hosting started
2022-12-01 14:56:35.705 -03:00 [DBG] Connection id "0HMMJOLHNBJVV" accepted.
2022-12-01 14:56:35.705 -03:00 [DBG] Connection id "0HMMJOLHNBK00" accepted.
2022-12-01 14:56:35.708 -03:00 [DBG] Connection id "0HMMJOLHNBK00" started.
2022-12-01 14:56:35.708 -03:00 [DBG] Connection id "0HMMJOLHNBJVV" started.
2022-12-01 14:56:35.708 -03:00 [DBG] Connection id "0HMMJOLHNBK01" accepted.
2022-12-01 14:56:35.709 -03:00 [DBG] Connection id "0HMMJOLHNBK01" started.
2022-12-01 14:56:35.713 -03:00 [DBG] Connection id "0HMMJOLHNBK00" received FIN.
2022-12-01 14:56:35.713 -03:00 [DBG] Connection id "0HMMJOLHNBK01" received FIN.
2022-12-01 14:56:35.726 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:56:35.726 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 14:56:35.744 -03:00 [DBG] Connection id "0HMMJOLHNBK01" stopped.
2022-12-01 14:56:35.744 -03:00 [DBG] Connection id "0HMMJOLHNBK00" stopped.
2022-12-01 14:56:35.744 -03:00 [DBG] Connection id "0HMMJOLHNBK01" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:56:35.744 -03:00 [DBG] Connection id "0HMMJOLHNBK00" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 14:56:35.753 -03:00 [DBG] Connection 0HMMJOLHNBJVV established using the following protocol: "Tls12"
2022-12-01 14:56:35.780 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 14:56:35.789 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 14:56:35.811 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 14:56:35.813 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 14:56:35.814 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:56:35.840 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 14:56:35.916 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 14:56:35.919 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:56:35.941 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 14:56:35.942 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 14:56:35.942 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 14:56:35.942 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 14:56:35.942 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 14:56:35.942 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 14:56:35.943 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 14:56:35.945 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 14:56:36.038 -03:00 [DBG] Connection id "0HMMJOLHNBK02" accepted.
2022-12-01 14:56:36.039 -03:00 [DBG] Connection id "0HMMJOLHNBK02" started.
2022-12-01 14:56:36.050 -03:00 [DBG] Connection 0HMMJOLHNBK02 established using the following protocol: "Tls12"
2022-12-01 14:56:36.083 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 14:56:36.089 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 14:56:36.093 -03:00 [INF] Retornando todas as vilas.
2022-12-01 14:56:36.100 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 14:56:36.100 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:56:36.105 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 14:56:36.157 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 14:56:36.177 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 14:56:36.178 -03:00 [DBG] Creating DbConnection.
2022-12-01 14:56:36.178 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 14:56:36.178 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:36.178 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 14:56:36.184 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:36.190 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:36.191 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 14:56:36.219 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 14:56:36.248 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:36.248 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 28ms reading results.
2022-12-01 14:56:36.252 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:36.253 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 14:56:36.284 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 14:56:36.287 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 14:56:36.287 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 14:56:36.288 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 14:56:36.309 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 14:56:36.449 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 14:56:36.449 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 14:56:36.452 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 14:56:36.461 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 10.6554ms
2022-12-01 14:56:36.461 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 377.2526ms
2022-12-01 14:56:36.479 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.0403ms
2022-12-01 14:56:36.484 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 537.0562ms
2022-12-01 14:56:36.485 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 14:56:36.487 -03:00 [DBG] Connection id "0HMMJOLHNBJVV" completed keep alive response.
2022-12-01 14:56:36.492 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 14:56:36.500 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 14:56:36.501 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 14:56:36.501 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 724.3864ms
2022-12-01 14:56:36.565 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 14:56:36.565 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 14:56:36.565 -03:00 [DBG] Request did not match any endpoints
2022-12-01 14:56:36.749 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.1503ms
2022-12-01 15:00:04.407 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:00:05.258 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:05.277 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:05.318 -03:00 [DBG] Created DbConnection. (39ms).
2022-12-01 15:00:05.325 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.640 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.653 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:00:06.664 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2022-12-01 15:00:06.668 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2022-12-01 15:00:06.679 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:00:06.726 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:00:06.730 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.743 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (9ms).
2022-12-01 15:00:06.748 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:00:06.748 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:00:06.748 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:00:06.748 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.749 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.750 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:00:06.778 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:00:06.778 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.779 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 15:00:06.829 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:06.829 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:06.829 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:06.829 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.829 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.831 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:00:06.836 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:00:06.842 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.844 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-01 15:00:06.845 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:06.845 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:06.906 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:00:07.152 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:00:07.184 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:07.184 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:07.184 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:07.184 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:07.185 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:07.185 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:00:07.186 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:00:07.189 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:07.189 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 15:00:07.189 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:07.189 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:07.191 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:07.193 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:07.195 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:00:07.271 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:00:07.309 -03:00 [DBG] Hosting starting
2022-12-01 15:00:07.329 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:00:07.331 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:00:07.336 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:00:07.344 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:00:07.346 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:00:07.346 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:00:07.347 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:00:07.348 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:00:07.349 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:00:07.351 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:00:07.352 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:00:07.464 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:00:07.501 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:00:07.501 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:00:07.501 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:00:07.501 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:00:07.501 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:00:07.502 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:00:07.502 -03:00 [INF] Hosting environment: Development
2022-12-01 15:00:07.502 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:00:07.502 -03:00 [DBG] Hosting started
2022-12-01 15:00:07.535 -03:00 [DBG] Connection id "0HMMJONGRH5KN" accepted.
2022-12-01 15:00:07.535 -03:00 [DBG] Connection id "0HMMJONGRH5KO" accepted.
2022-12-01 15:00:07.536 -03:00 [DBG] Connection id "0HMMJONGRH5KO" started.
2022-12-01 15:00:07.536 -03:00 [DBG] Connection id "0HMMJONGRH5KN" started.
2022-12-01 15:00:07.542 -03:00 [DBG] Connection id "0HMMJONGRH5KO" received FIN.
2022-12-01 15:00:07.542 -03:00 [DBG] Connection id "0HMMJONGRH5KN" received FIN.
2022-12-01 15:00:07.557 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:00:07.557 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:00:07.582 -03:00 [DBG] Connection id "0HMMJONGRH5KO" stopped.
2022-12-01 15:00:07.582 -03:00 [DBG] Connection id "0HMMJONGRH5KN" stopped.
2022-12-01 15:00:07.584 -03:00 [DBG] Connection id "0HMMJONGRH5KN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:00:07.584 -03:00 [DBG] Connection id "0HMMJONGRH5KO" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:00:07.679 -03:00 [DBG] Connection id "0HMMJONGRH5KP" accepted.
2022-12-01 15:00:07.679 -03:00 [DBG] Connection id "0HMMJONGRH5KP" started.
2022-12-01 15:00:07.740 -03:00 [DBG] Connection id "0HMMJONGRH5KQ" accepted.
2022-12-01 15:00:07.742 -03:00 [DBG] Connection id "0HMMJONGRH5KQ" started.
2022-12-01 15:00:07.746 -03:00 [DBG] Connection 0HMMJONGRH5KP established using the following protocol: "Tls12"
2022-12-01 15:00:07.749 -03:00 [DBG] Connection 0HMMJONGRH5KQ established using the following protocol: "Tls12"
2022-12-01 15:00:07.793 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:00:07.793 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:07.804 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:00:07.832 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:00:07.832 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:00:07.836 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:07.841 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:07.842 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:07.857 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:07.929 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:07.931 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:07.951 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:07.951 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:07.951 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:07.952 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:07.952 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:07.952 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:07.952 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:07.954 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:08.051 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:08.053 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:08.065 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:00:08.072 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:00:08.118 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:00:08.133 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:08.133 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:08.134 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:08.134 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:08.134 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:08.142 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:08.146 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:08.147 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:08.172 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:08.178 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:00:08.185 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:00:08.185 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:00:08.186 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 396.8173ms
2022-12-01 15:00:08.202 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 17.4127ms
2022-12-01 15:00:08.217 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.9932ms
2022-12-01 15:00:08.222 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:08.222 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 49ms reading results.
2022-12-01 15:00:08.228 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:08.229 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 15:00:08.260 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:08.266 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:08.266 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:08.267 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:08.300 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:00:08.301 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:00:08.301 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:00:08.445 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 488.7016ms
2022-12-01 15:00:08.447 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:08.448 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:08.452 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:08.460 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:08.460 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:00:08.461 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 672.5139ms
2022-12-01 15:00:08.484 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 183.8199ms
2022-12-01 15:00:30.036 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 15:00:30.036 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 15:00:30.037 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 15:00:30.037 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:00:30.037 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:30.037 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:30.037 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:00:30.050 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:00:30.050 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:30.050 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:30.050 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:30.050 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:30.050 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:30.050 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:00:30.050 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:00:30.055 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:00:30.058 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:00:30.060 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:00:30.060 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:00:30.076 -03:00 [DBG] Connection id "0HMMJONGRH5KP", Request id "0HMMJONGRH5KP:00000003": started reading request body.
2022-12-01 15:00:30.076 -03:00 [DBG] Connection id "0HMMJONGRH5KP", Request id "0HMMJONGRH5KP:00000003": done reading request body.
2022-12-01 15:00:30.151 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:00:30.151 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:00:30.151 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:00:30.158 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:00:30.206 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:30.226 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 15:00:30.376 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 15:00:30.397 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:30.397 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:30.397 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:30.397 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:30.401 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-01 15:00:30.401 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.401 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.406 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:00:30.449 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:00:30.497 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:00:30.531 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.533 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 83ms reading results.
2022-12-01 15:00:30.533 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.533 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:30.660 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:30.660 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:30.660 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:30.660 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:30.662 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 611.7514ms
2022-12-01 15:00:30.662 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:00:30.662 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:30.662 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:30.662 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.662 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:30.662 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 626.5871ms
2022-12-01 15:00:30.681 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:30.681 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:30.681 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:30.681 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:30.682 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:30.683 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:30.683 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:30.683 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:30.683 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:30.683 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:30.683 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:30.683 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:30.683 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:30.683 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:30.684 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:30.684 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:30.684 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:30.688 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:30.688 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:30.688 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:30.688 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:30.688 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:30.688 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.688 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.688 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:30.689 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:30.690 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.690 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:30.690 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.690 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:30.690 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:30.690 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:30.690 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:30.690 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:30.690 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 6.6775ms
2022-12-01 15:00:30.690 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:30.690 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:30.690 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:30.690 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:30.690 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:30.690 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 9.0257ms
2022-12-01 15:00:36.353 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:36.354 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:36.354 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:36.354 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:36.354 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:36.354 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:36.354 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:36.354 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:36.354 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:36.354 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:36.354 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:36.354 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:36.354 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:36.354 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:36.356 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:36.356 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:36.356 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:36.356 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:36.356 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:36.356 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:36.356 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:36.356 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:36.356 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:36.356 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:36.356 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:36.358 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:36.358 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:36.358 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:36.358 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:36.358 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:36.358 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:36.358 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:36.358 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:36.358 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:36.358 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 4.0687ms
2022-12-01 15:00:36.358 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:36.358 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:36.358 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:36.358 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:36.358 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:36.358 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.9740ms
2022-12-01 15:00:37.830 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:37.830 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:37.830 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:37.830 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:37.830 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:37.830 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:37.830 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:37.830 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:37.830 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:37.830 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:37.830 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:37.830 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:37.830 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:37.831 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:37.831 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:37.831 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:37.831 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:37.831 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:37.831 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:37.831 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:37.831 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:37.831 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:37.831 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:37.831 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:37.831 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:37.832 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:37.832 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:37.832 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:37.833 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:37.833 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:37.833 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:37.833 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:37.833 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:37.833 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:37.833 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.4135ms
2022-12-01 15:00:37.833 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:37.833 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:37.833 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:37.833 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:37.833 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:37.833 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.2366ms
2022-12-01 15:00:40.884 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:00:40.885 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:00:40.885 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:00:40.885 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:00:40.885 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:40.885 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:40.890 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:00:40.897 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:00:40.897 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:40.897 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 12.7372ms
2022-12-01 15:00:43.014 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:43.015 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:43.015 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:43.015 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:43.015 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:43.015 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:43.015 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:43.015 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:43.015 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:43.015 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:43.015 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:43.015 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:43.015 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:43.015 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:43.015 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:43.015 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:43.015 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:43.015 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:43.015 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:43.015 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:43.015 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:43.015 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:43.015 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:43.016 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:43.016 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:43.016 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:43.017 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:43.017 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:43.017 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:43.017 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:43.017 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:43.017 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:43.017 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:43.017 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:43.017 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.1765ms
2022-12-01 15:00:43.017 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:43.017 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:43.017 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:43.017 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:43.017 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:43.017 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 2.8648ms
2022-12-01 15:00:44.906 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:00:44.906 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:00:44.906 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:00:44.906 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:00:44.906 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:44.906 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:44.907 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:00:44.907 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:00:44.907 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:44.907 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 1.4898ms
2022-12-01 15:00:46.985 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:00:46.986 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:00:46.986 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:00:46.986 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:00:46.986 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:46.986 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:46.986 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:00:46.986 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:00:46.986 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:46.987 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 1.1356ms
2022-12-01 15:00:47.816 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:47.817 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:47.817 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:47.817 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:47.817 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:47.817 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:47.817 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:47.817 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:47.817 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:47.817 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:47.817 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:47.817 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:47.817 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:47.817 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:47.817 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:47.817 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:47.817 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:47.818 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:47.818 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:47.818 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:47.818 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:47.818 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:47.818 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:47.818 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:47.818 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:47.819 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:47.819 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:47.819 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:47.819 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:47.819 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:47.819 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:47.819 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:47.819 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:47.819 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:47.820 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.5564ms
2022-12-01 15:00:47.820 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:47.820 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:47.820 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:47.820 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:47.820 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:47.820 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.3101ms
2022-12-01 15:00:48.543 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:00:48.543 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:00:48.544 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:00:48.544 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:00:48.544 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:48.544 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:48.544 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:00:48.544 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:00:48.544 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:48.544 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.4894ms
2022-12-01 15:00:51.321 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:51.321 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:51.321 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:51.321 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:51.321 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:51.321 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:51.321 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:51.321 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:51.321 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:51.321 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:51.321 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:51.321 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:51.322 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:51.322 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:51.322 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:51.322 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:51.322 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:51.322 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:51.322 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:51.322 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:51.322 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:51.322 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:51.322 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:51.322 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:51.322 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:51.325 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:51.325 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:51.325 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:51.325 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:51.325 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:51.325 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:51.325 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:51.325 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:51.325 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:51.325 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3.718ms
2022-12-01 15:00:51.325 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:51.325 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:51.325 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:51.325 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:51.325 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:51.326 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.5583ms
2022-12-01 15:00:52.593 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:00:52.593 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:00:52.593 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:00:52.593 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:00:52.593 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:52.593 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:52.593 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:00:52.593 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:00:52.593 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:52.593 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.4996ms
2022-12-01 15:00:57.724 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 15:00:57.725 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 15:00:57.725 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 15:00:57.725 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:00:57.725 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:57.726 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:57.726 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:00:57.726 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:00:57.726 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:57.726 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:57.726 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:57.726 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:57.726 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:57.726 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:00:57.726 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:00:57.727 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:00:57.727 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:00:57.727 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:00:57.727 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:00:57.727 -03:00 [DBG] Connection id "0HMMJONGRH5KP", Request id "0HMMJONGRH5KP:0000000F": started reading request body.
2022-12-01 15:00:57.727 -03:00 [DBG] Connection id "0HMMJONGRH5KP", Request id "0HMMJONGRH5KP:0000000F": done reading request body.
2022-12-01 15:00:57.727 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:00:57.727 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:00:57.727 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:00:57.727 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:00:57.728 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:57.730 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:57.730 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:57.730 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:57.730 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:57.730 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:57.730 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.730 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.730 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:00:57.732 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:00:57.732 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:00:57.732 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.732 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:57.732 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.732 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:57.732 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:57.732 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:57.732 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:57.732 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:57.733 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 6.3707ms
2022-12-01 15:00:57.733 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:00:57.733 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:57.733 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:57.733 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.733 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:57.733 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 9.1536ms
2022-12-01 15:00:57.741 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:00:57.741 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:00:57.741 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:00:57.742 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:57.742 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:57.742 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:57.742 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:57.742 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:00:57.743 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:00:57.743 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:00:57.743 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:00:57.743 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:00:57.743 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:00:57.743 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:57.743 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:00:57.743 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:00:57.743 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:00:57.744 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:00:57.744 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:00:57.744 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:00:57.744 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:57.744 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:00:57.744 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.744 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.744 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:57.745 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:00:57.745 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.745 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:00:57.745 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.745 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:00:57.745 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:00:57.745 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:00:57.745 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:00:57.745 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:00:57.745 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.6828ms
2022-12-01 15:00:57.745 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:00:57.746 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:57.746 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:00:57.746 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:00:57.746 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:00:57.746 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.3410ms
2022-12-01 15:00:59.186 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:00:59.186 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:00:59.186 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:00:59.186 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:00:59.186 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:00:59.186 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:00:59.186 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:00:59.187 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:00:59.187 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:00:59.187 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.6588ms
2022-12-01 15:01:02.089 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:01:02.089 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:01:02.089 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:01:02.089 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:01:02.089 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:02.089 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:02.089 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:01:02.089 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:01:02.089 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:02.089 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.6201ms
2022-12-01 15:01:02.665 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:01:02.665 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:01:02.665 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:01:02.665 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:02.665 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:02.666 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:02.666 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:02.666 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:01:02.666 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:01:02.666 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:01:02.666 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:01:02.666 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:01:02.666 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:01:02.666 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:02.666 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:01:02.666 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:02.666 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:01:02.666 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:01:02.666 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:01:02.666 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:01:02.666 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:02.666 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:02.666 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:02.667 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:02.667 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:02.669 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:02.669 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:02.669 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:01:02.669 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:02.669 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:01:02.670 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:01:02.670 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:01:02.670 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:01:02.670 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:01:02.670 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3.9509ms
2022-12-01 15:01:02.670 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:02.670 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:02.670 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:01:02.670 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:02.670 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:01:02.670 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.7118ms
2022-12-01 15:01:04.872 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:01:04.873 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:01:04.873 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:01:04.873 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:04.873 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:04.873 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:04.873 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:04.873 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:01:04.873 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:01:04.873 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:01:04.873 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:01:04.873 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:01:04.874 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:01:04.874 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:04.875 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:01:04.875 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:04.875 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:01:04.875 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:01:04.875 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:01:04.875 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:01:04.875 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:04.875 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:04.875 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:04.876 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:04.876 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:04.876 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:04.877 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:04.877 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:01:04.877 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:04.877 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:01:04.877 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:01:04.877 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:01:04.877 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:01:04.877 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:01:04.877 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3.5033ms
2022-12-01 15:01:04.877 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:04.877 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:04.877 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:01:04.877 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:04.877 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:01:04.877 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.8406ms
2022-12-01 15:01:05.661 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:01:05.661 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:01:05.661 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:01:05.661 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:05.661 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:05.661 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:05.661 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:05.661 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:01:05.661 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:01:05.661 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:01:05.661 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:01:05.661 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:01:05.661 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:01:05.661 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:05.662 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:01:05.662 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:05.662 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:01:05.662 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:01:05.662 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:01:05.662 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:01:05.662 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:05.662 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:05.662 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:05.662 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:05.662 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:05.663 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:05.663 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:05.663 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:01:05.663 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:05.663 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:01:05.663 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:01:05.663 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:01:05.663 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:01:05.663 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:01:05.664 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.3418ms
2022-12-01 15:01:05.664 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:05.664 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:05.664 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:01:05.664 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:05.664 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:01:05.664 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.2418ms
2022-12-01 15:01:06.306 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:01:06.306 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:01:06.306 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:01:06.306 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:01:06.307 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:06.307 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:06.307 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:01:06.307 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:01:06.307 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:06.307 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.6531ms
2022-12-01 15:01:06.769 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:01:06.769 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:01:06.769 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:01:06.769 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:06.769 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:06.770 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:06.770 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:06.770 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:01:06.770 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:01:06.770 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:01:06.770 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:01:06.770 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:01:06.770 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:01:06.770 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:06.770 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:01:06.770 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:06.770 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:01:06.770 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:01:06.770 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:01:06.770 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:01:06.770 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:06.770 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:06.771 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:06.771 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:06.771 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:06.771 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:06.772 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:06.772 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:01:06.772 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:06.772 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:01:06.772 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:01:06.772 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:01:06.772 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:01:06.772 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:01:06.772 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.513ms
2022-12-01 15:01:06.772 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:06.772 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:06.772 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:01:06.773 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:06.773 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:01:06.773 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.4022ms
2022-12-01 15:01:09.289 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:01:09.289 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:01:09.289 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:01:09.289 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:01:09.290 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:09.290 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:09.290 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:01:09.290 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:01:09.290 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:09.290 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.8382ms
2022-12-01 15:01:10.983 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:01:10.983 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:01:10.983 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:01:10.983 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:10.984 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:10.984 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:10.984 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:10.984 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:01:10.984 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:01:10.984 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:01:10.984 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:01:10.984 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:01:10.984 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:01:10.984 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:10.984 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:01:10.985 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:10.985 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:01:10.985 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:01:10.985 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:01:10.985 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:01:10.985 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:10.985 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:10.985 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:10.985 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:10.985 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:10.986 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:10.986 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:10.986 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:01:10.986 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:10.986 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:01:10.986 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:01:10.986 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:01:10.986 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:01:10.986 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:01:10.987 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.5459ms
2022-12-01 15:01:10.987 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:10.987 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:10.987 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:01:10.987 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:10.987 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:01:10.987 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.6548ms
2022-12-01 15:01:12.105 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:01:12.105 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:01:12.105 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:01:12.106 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:01:12.106 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:12.106 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:12.106 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:01:12.106 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:01:12.106 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:12.106 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.5138ms
2022-12-01 15:01:12.747 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:01:12.747 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:01:12.747 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:01:12.747 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:12.748 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:01:12.748 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:01:12.748 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:12.748 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:01:12.748 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:01:12.748 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:01:12.748 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:01:12.748 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:01:12.748 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:01:12.748 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:12.748 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:01:12.748 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:01:12.748 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:01:12.749 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:01:12.749 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:01:12.749 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:01:12.749 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:12.749 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:01:12.749 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:12.749 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:12.749 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:12.749 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:01:12.750 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:12.750 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:01:12.750 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:12.750 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:01:12.750 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:01:12.750 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:01:12.750 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:01:12.750 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:01:12.750 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.434ms
2022-12-01 15:01:12.750 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:01:12.750 -03:00 [DBG] Connection id "0HMMJONGRH5KP" completed keep alive response.
2022-12-01 15:01:12.750 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:01:12.750 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:01:12.751 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:01:12.751 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.2780ms
2022-12-01 15:02:21.344 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:02:22.697 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:02:22.722 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:02:22.791 -03:00 [DBG] Created DbConnection. (64ms).
2022-12-01 15:02:22.804 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.213 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.220 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:02:24.227 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 15:02:24.230 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-01 15:02:24.235 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:02:24.267 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:02:24.270 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.282 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-01 15:02:24.287 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:02:24.287 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:02:24.287 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:02:24.287 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.288 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.288 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:02:24.312 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:02:24.312 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.313 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:24.334 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:24.334 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:24.334 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:24.334 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.334 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.335 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:02:24.338 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:02:24.343 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.345 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-01 15:02:24.345 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.345 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:24.391 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:02:24.593 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:02:24.622 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:24.622 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:24.622 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:24.622 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.622 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.622 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:02:24.624 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:02:24.626 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.626 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 15:02:24.626 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.626 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:24.627 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:02:24.630 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:24.631 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:02:24.690 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:02:24.721 -03:00 [DBG] Hosting starting
2022-12-01 15:02:24.737 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:02:24.739 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:02:24.744 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:02:24.752 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:02:24.754 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:02:24.754 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:02:24.755 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:02:24.755 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:02:24.757 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:02:24.760 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:02:24.760 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:02:24.855 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:02:24.882 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:02:24.883 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:02:24.883 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:02:24.883 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:02:24.883 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:02:24.883 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:02:24.883 -03:00 [INF] Hosting environment: Development
2022-12-01 15:02:24.883 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:02:24.883 -03:00 [DBG] Hosting started
2022-12-01 15:02:25.093 -03:00 [DBG] Connection id "0HMMJOOPRC9CM" accepted.
2022-12-01 15:02:25.093 -03:00 [DBG] Connection id "0HMMJOOPRC9CL" accepted.
2022-12-01 15:02:25.094 -03:00 [DBG] Connection id "0HMMJOOPRC9CL" started.
2022-12-01 15:02:25.094 -03:00 [DBG] Connection id "0HMMJOOPRC9CM" started.
2022-12-01 15:02:25.109 -03:00 [DBG] Connection id "0HMMJOOPRC9CL" received FIN.
2022-12-01 15:02:25.109 -03:00 [DBG] Connection id "0HMMJOOPRC9CM" received FIN.
2022-12-01 15:02:25.127 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:02:25.127 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:02:25.158 -03:00 [DBG] Connection id "0HMMJOOPRC9CL" stopped.
2022-12-01 15:02:25.158 -03:00 [DBG] Connection id "0HMMJOOPRC9CM" stopped.
2022-12-01 15:02:25.160 -03:00 [DBG] Connection id "0HMMJOOPRC9CL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:02:25.160 -03:00 [DBG] Connection id "0HMMJOOPRC9CM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:02:25.325 -03:00 [DBG] Connection id "0HMMJOOPRC9CN" accepted.
2022-12-01 15:02:25.325 -03:00 [DBG] Connection id "0HMMJOOPRC9CN" started.
2022-12-01 15:02:25.365 -03:00 [DBG] Connection 0HMMJOOPRC9CN established using the following protocol: "Tls12"
2022-12-01 15:02:25.374 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" accepted.
2022-12-01 15:02:25.375 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" started.
2022-12-01 15:02:25.385 -03:00 [DBG] Connection 0HMMJOOPRC9CO established using the following protocol: "Tls12"
2022-12-01 15:02:25.419 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:02:25.419 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:02:25.431 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:02:25.452 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:02:25.452 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:02:25.457 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:02:25.462 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:02:25.463 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:25.476 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:02:25.555 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:02:25.557 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:25.577 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:02:25.578 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:02:25.578 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:02:25.579 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:02:25.579 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:02:25.579 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:02:25.579 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:25.582 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:02:25.673 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:25.676 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:02:25.687 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:02:25.700 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:02:25.743 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:02:25.760 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:25.760 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:02:25.761 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:02:25.761 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-01 15:02:25.761 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-01 15:02:25.768 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:25.773 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:25.774 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:25.800 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:25.833 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:02:25.834 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:02:25.835 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:02:25.837 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:25.837 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 36ms reading results.
2022-12-01 15:02:25.844 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 9.9372ms
2022-12-01 15:02:25.844 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 426.6595ms
2022-12-01 15:02:25.853 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:25.854 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 15:02:25.876 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.3314ms
2022-12-01 15:02:25.889 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:02:25.895 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:02:25.896 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:02:25.896 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:02:25.939 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:02:25.939 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:02:25.939 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:02:26.064 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 480.6394ms
2022-12-01 15:02:26.065 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:26.067 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" completed keep alive response.
2022-12-01 15:02:26.070 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:02:26.078 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:26.078 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:02:26.079 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 662.6780ms
2022-12-01 15:02:26.100 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.8284ms
2022-12-01 15:02:38.771 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:02:38.772 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:02:38.772 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:02:38.772 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:38.772 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:02:38.772 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:02:38.772 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:38.773 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:02:38.773 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:02:38.773 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:02:38.773 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:02:38.773 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:02:38.773 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:02:38.773 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:38.818 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:02:38.818 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:38.818 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:02:38.821 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:38.822 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:02:38.822 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:02:38.822 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:38.822 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:38.822 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:38.822 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:38.822 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:38.825 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:38.826 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:38.826 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:02:38.826 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:38.826 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:38.826 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:02:38.826 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:02:38.826 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:02:38.826 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:02:38.828 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 54.6559ms
2022-12-01 15:02:38.828 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:38.828 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" completed keep alive response.
2022-12-01 15:02:38.828 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:02:38.828 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:38.828 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:02:38.828 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 57.1586ms
2022-12-01 15:02:41.154 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:02:41.154 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:02:41.154 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:02:41.154 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:41.154 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:02:41.155 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:02:41.156 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:41.156 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:02:41.156 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:02:41.156 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:02:41.156 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:02:41.156 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:02:41.156 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:02:41.156 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:41.157 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:02:41.157 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:41.157 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:02:41.157 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:41.157 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:02:41.158 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:02:41.158 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:41.158 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:41.158 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:41.158 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:41.158 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:41.160 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:41.160 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:41.160 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:02:41.160 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:41.160 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:41.160 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:02:41.160 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:02:41.160 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:02:41.160 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:02:41.160 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 4.3211ms
2022-12-01 15:02:41.160 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:41.160 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" completed keep alive response.
2022-12-01 15:02:41.160 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:02:41.160 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:41.160 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:02:41.160 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 6.3291ms
2022-12-01 15:02:46.752 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 15:02:46.752 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 15:02:46.752 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 15:02:46.752 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:02:46.752 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:02:46.752 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:02:46.752 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:02:46.771 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:02:46.771 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:02:46.771 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:02:46.771 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:02:46.771 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:02:46.771 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:02:46.771 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:02:46.771 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:02:46.777 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:02:46.779 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:02:46.779 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:02:46.779 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:02:46.786 -03:00 [DBG] Connection id "0HMMJOOPRC9CO", Request id "0HMMJOOPRC9CO:00000005": started reading request body.
2022-12-01 15:02:46.786 -03:00 [DBG] Connection id "0HMMJOOPRC9CO", Request id "0HMMJOOPRC9CO:00000005": done reading request body.
2022-12-01 15:02:46.832 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:02:46.832 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:02:46.832 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:02:46.844 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:02:46.852 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:02:46.869 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 15:02:46.986 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 15:02:47.017 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:47.017 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:02:47.017 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:02:47.017 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:47.026 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2022-12-01 15:02:47.026 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.026 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.037 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:02:47.095 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:02:47.145 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:02:47.169 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.171 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 76ms reading results.
2022-12-01 15:02:47.171 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.171 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:47.329 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:02:47.329 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:02:47.329 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:02:47.329 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:02:47.331 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 560.102ms
2022-12-01 15:02:47.331 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:02:47.331 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" completed keep alive response.
2022-12-01 15:02:47.331 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:02:47.331 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.331 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:02:47.331 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 579.4536ms
2022-12-01 15:02:47.350 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:02:47.350 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:02:47.351 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:02:47.351 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:47.351 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:02:47.351 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:02:47.351 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:47.351 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:02:47.351 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:02:47.351 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:02:47.351 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:02:47.351 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:02:47.351 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:02:47.351 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:47.351 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:02:47.351 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:02:47.351 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:02:47.352 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:47.352 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:02:47.352 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:02:47.352 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:47.352 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:47.352 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.352 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.352 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:47.353 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:02:47.353 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.353 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:02:47.353 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.353 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:47.353 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:02:47.353 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:02:47.353 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:02:47.353 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:02:47.353 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.2464ms
2022-12-01 15:02:47.353 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:02:47.353 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" completed keep alive response.
2022-12-01 15:02:47.353 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:02:47.353 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:47.353 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:02:47.353 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.0916ms
2022-12-01 15:02:48.539 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:02:48.539 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:02:48.539 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:02:48.539 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:02:48.539 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:02:48.539 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:02:48.539 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:02:48.541 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:02:48.542 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:02:48.542 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:02:48.542 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:02:48.542 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:02:48.542 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:02:48.542 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:02:48.542 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:02:48.543 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:02:48.544 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:02:48.545 -03:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .AsNoTracking()
    .Include("Villa")'
2022-12-01 15:02:48.564 -03:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2022-12-01 15:02:48.595 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string) Required, 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string) Required, 8], [Property: Villa.ImageUrl (string) Required, 9], [Property: Villa.Name (string) Required MaxLength(30), 10], [Property: Villa.Occupancy (int) Required, 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqtf (int) Required, 13], [Property: Villa.UpdatedDate (DateTime) Required, 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqtf, v0.UpdatedDate
        FROM VillasNumber AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:02:48.596 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:02:48.596 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:02:48.596 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:02:48.596 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:48.596 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:02:48.596 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:48.596 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:48.596 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:02:48.600 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:02:48.603 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:48.603 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 15:02:48.603 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:48.603 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:02:48.607 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:02:48.607 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:02:48.607 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:02:48.607 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:02:48.609 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 67.3839ms
2022-12-01 15:02:48.609 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:02:48.609 -03:00 [DBG] Connection id "0HMMJOOPRC9CO" completed keep alive response.
2022-12-01 15:02:48.609 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:02:48.609 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:02:48.609 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:02:48.609 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 70.1876ms
2022-12-01 15:04:26.459 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:04:27.513 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:04:27.566 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:04:27.647 -03:00 [DBG] Created DbConnection. (78ms).
2022-12-01 15:04:27.657 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.071 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.080 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:04:29.087 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-01 15:04:29.089 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-01 15:04:29.095 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:04:29.123 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:04:29.126 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.139 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-01 15:04:29.146 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:04:29.146 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:04:29.146 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:04:29.146 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.147 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.148 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:04:29.168 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:04:29.168 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.169 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:04:29.189 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:04:29.189 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:29.189 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:29.189 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.189 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.190 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:04:29.193 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:04:29.197 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.199 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 15:04:29.199 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.199 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:04:29.246 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:04:29.455 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:04:29.488 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:04:29.488 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:29.488 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:29.488 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.489 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.489 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:04:29.490 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:04:29.492 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.492 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 15:04:29.492 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.492 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:04:29.493 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:04:29.496 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:29.497 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:04:29.562 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:04:29.596 -03:00 [DBG] Hosting starting
2022-12-01 15:04:29.615 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:04:29.617 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:04:29.621 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:04:29.627 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:04:29.628 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:04:29.629 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:04:29.629 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:04:29.630 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:04:29.631 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:04:29.632 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:04:29.633 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:04:29.733 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:04:29.767 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:04:29.767 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:04:29.767 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:04:29.767 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:04:29.767 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:04:29.767 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:04:29.767 -03:00 [INF] Hosting environment: Development
2022-12-01 15:04:29.767 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:04:29.767 -03:00 [DBG] Hosting started
2022-12-01 15:04:29.921 -03:00 [DBG] Connection id "0HMMJOPV1RKPI" received FIN.
2022-12-01 15:04:29.928 -03:00 [DBG] Connection id "0HMMJOPV1RKPI" accepted.
2022-12-01 15:04:29.928 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" accepted.
2022-12-01 15:04:29.932 -03:00 [DBG] Connection id "0HMMJOPV1RKPK" received FIN.
2022-12-01 15:04:29.932 -03:00 [DBG] Connection id "0HMMJOPV1RKPK" accepted.
2022-12-01 15:04:29.932 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" started.
2022-12-01 15:04:29.932 -03:00 [DBG] Connection id "0HMMJOPV1RKPK" started.
2022-12-01 15:04:29.932 -03:00 [DBG] Connection id "0HMMJOPV1RKPI" started.
2022-12-01 15:04:29.941 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:04:29.941 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:04:29.960 -03:00 [DBG] Connection id "0HMMJOPV1RKPI" stopped.
2022-12-01 15:04:29.960 -03:00 [DBG] Connection id "0HMMJOPV1RKPK" stopped.
2022-12-01 15:04:29.963 -03:00 [DBG] Connection id "0HMMJOPV1RKPK" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:04:29.963 -03:00 [DBG] Connection id "0HMMJOPV1RKPI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:04:29.978 -03:00 [DBG] Connection 0HMMJOPV1RKPJ established using the following protocol: "Tls12"
2022-12-01 15:04:30.021 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:04:30.035 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:04:30.065 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:04:30.070 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:04:30.071 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:30.101 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:30.178 -03:00 [DBG] Connection id "0HMMJOPV1RKPL" accepted.
2022-12-01 15:04:30.179 -03:00 [DBG] Connection id "0HMMJOPV1RKPL" started.
2022-12-01 15:04:30.196 -03:00 [DBG] Connection 0HMMJOPV1RKPL established using the following protocol: "Tls12"
2022-12-01 15:04:30.219 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:30.221 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:30.228 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:04:30.242 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:04:30.246 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:04:30.246 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:04:30.246 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:04:30.246 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:04:30.246 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:04:30.246 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:04:30.246 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:04:30.247 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:04:30.250 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:04:30.356 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:04:30.358 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:04:30.368 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:04:30.409 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:04:30.426 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:04:30.426 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:04:30.426 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:04:30.427 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:30.427 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:30.430 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:04:30.435 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:30.440 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:30.441 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:04:30.484 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:04:30.513 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:30.513 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 29ms reading results.
2022-12-01 15:04:30.519 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:30.520 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 15:04:30.549 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:04:30.554 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:04:30.554 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:04:30.554 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:04:30.555 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:04:30.555 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:04:30.555 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:04:30.568 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 13.9448ms
2022-12-01 15:04:30.568 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 339.5394ms
2022-12-01 15:04:30.593 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.0976ms
2022-12-01 15:04:30.667 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:04:30.667 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:04:30.667 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:04:30.741 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 489.6463ms
2022-12-01 15:04:30.742 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:30.744 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:30.747 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:04:30.755 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:30.756 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:04:30.756 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 740.0166ms
2022-12-01 15:04:30.842 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.7832ms
2022-12-01 15:04:34.499 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:04:34.500 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:04:34.500 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:04:34.500 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:04:34.500 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:34.500 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:34.505 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:04:34.512 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:04:34.512 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:34.512 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 12.7547ms
2022-12-01 15:04:36.341 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:04:36.341 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:04:36.341 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:04:36.341 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:04:36.341 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:36.342 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:36.343 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:04:36.343 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:04:36.343 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:36.344 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 2.5862ms
2022-12-01 15:04:38.243 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:04:38.243 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:04:38.243 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:04:38.243 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:04:38.243 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:38.243 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:38.244 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:04:38.244 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:04:38.244 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:38.244 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 1.8512ms
2022-12-01 15:04:39.041 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:04:39.041 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:04:39.041 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:04:39.041 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:39.041 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:39.041 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:39.041 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:39.042 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:04:39.042 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:04:39.042 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:04:39.042 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:04:39.042 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:04:39.042 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:04:39.042 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:04:39.089 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:04:39.089 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:04:39.089 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:04:39.092 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:04:39.092 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:04:39.093 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:04:39.093 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:39.093 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:39.093 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:39.093 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:39.093 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:04:39.097 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:04:39.098 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:39.098 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:04:39.098 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:39.098 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:04:39.098 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:04:39.098 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:04:39.098 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:04:39.098 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:04:39.099 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 56.8473ms
2022-12-01 15:04:39.099 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:39.099 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:39.099 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:04:39.099 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:39.099 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:04:39.099 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 57.7827ms
2022-12-01 15:04:41.729 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:04:41.729 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:04:41.729 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:04:41.729 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:04:41.729 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:41.729 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:41.729 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:04:41.729 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:04:41.729 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:41.730 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.5408ms
2022-12-01 15:04:42.331 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:04:42.331 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:04:42.331 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:04:42.331 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:42.331 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:42.331 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:42.331 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:42.331 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:04:42.331 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:04:42.331 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:04:42.331 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:04:42.331 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:04:42.331 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:04:42.331 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:04:42.333 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:04:42.333 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:04:42.333 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:04:42.333 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:04:42.333 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:04:42.333 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:04:42.333 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:42.333 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:04:42.333 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:42.333 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:42.333 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:04:42.334 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:04:42.335 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:42.335 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:04:42.335 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:42.335 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:04:42.335 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:04:42.335 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:04:42.335 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:04:42.335 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:04:42.335 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3.7378ms
2022-12-01 15:04:42.335 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:04:42.335 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:42.335 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:04:42.335 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:04:42.335 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:04:42.335 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 4.6761ms
2022-12-01 15:04:42.922 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:04:42.922 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:04:42.922 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:04:42.922 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:04:42.922 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:42.922 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:42.922 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:04:42.922 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:04:42.922 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:42.922 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.4697ms
2022-12-01 15:04:43.408 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:04:43.408 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:04:43.408 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:04:43.408 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:04:43.408 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:04:43.408 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:04:43.408 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:04:43.408 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:04:43.408 -03:00 [DBG] Connection id "0HMMJOPV1RKPJ" completed keep alive response.
2022-12-01 15:04:43.408 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 401 0 - 0.4427ms
2022-12-01 15:15:07.658 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:15:08.947 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:08.970 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:09.026 -03:00 [DBG] Created DbConnection. (53ms).
2022-12-01 15:15:09.036 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.469 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.476 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:15:10.483 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 15:15:10.485 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 15:15:10.495 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:15:10.524 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:15:10.526 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.537 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 15:15:10.541 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:15:10.542 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:15:10.542 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:15:10.542 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.543 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.543 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:15:10.562 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:15:10.563 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.563 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:10.582 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:10.582 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:10.582 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:10.582 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.582 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.583 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:15:10.587 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:15:10.592 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.594 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-01 15:15:10.594 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.594 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:10.635 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:15:10.856 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:15:10.887 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:10.887 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:10.887 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:10.887 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.887 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.887 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:15:10.889 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:15:10.891 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.891 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 15:15:10.891 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.891 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:10.893 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:10.895 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:10.896 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:15:10.960 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:15:10.994 -03:00 [DBG] Hosting starting
2022-12-01 15:15:11.011 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:15:11.013 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:15:11.018 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:15:11.025 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:15:11.027 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:15:11.027 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:15:11.028 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:15:11.028 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:15:11.029 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:15:11.031 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:15:11.031 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:15:11.123 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:15:11.151 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:15:11.151 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:15:11.151 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:15:11.151 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:15:11.151 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:15:11.151 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:15:11.151 -03:00 [INF] Hosting environment: Development
2022-12-01 15:15:11.151 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:15:11.151 -03:00 [DBG] Hosting started
2022-12-01 15:15:11.308 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" accepted.
2022-12-01 15:15:11.309 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" started.
2022-12-01 15:15:11.342 -03:00 [DBG] Connection 0HMMJOVU6ITRU established using the following protocol: "Tls12"
2022-12-01 15:15:11.373 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:15:11.381 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:15:11.403 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:15:11.406 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:15:11.407 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:11.427 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:11.469 -03:00 [DBG] Connection id "0HMMJOVU6ITRV" accepted.
2022-12-01 15:15:11.469 -03:00 [DBG] Connection id "0HMMJOVU6ITS0" accepted.
2022-12-01 15:15:11.469 -03:00 [DBG] Connection id "0HMMJOVU6ITS0" started.
2022-12-01 15:15:11.469 -03:00 [DBG] Connection id "0HMMJOVU6ITRV" started.
2022-12-01 15:15:11.480 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:15:11.482 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:11.493 -03:00 [DBG] Connection id "0HMMJOVU6ITRV" received FIN.
2022-12-01 15:15:11.493 -03:00 [DBG] Connection id "0HMMJOVU6ITS0" received FIN.
2022-12-01 15:15:11.502 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:15:11.502 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:15:11.512 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:15:11.516 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:11.516 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:11.516 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:11.516 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:11.516 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:11.517 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:11.519 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:11.520 -03:00 [DBG] Connection id "0HMMJOVU6ITRV" stopped.
2022-12-01 15:15:11.520 -03:00 [DBG] Connection id "0HMMJOVU6ITS0" stopped.
2022-12-01 15:15:11.521 -03:00 [DBG] Connection id "0HMMJOVU6ITS0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:15:11.522 -03:00 [DBG] Connection id "0HMMJOVU6ITRV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:15:11.600 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:11.602 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:15:11.613 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:15:11.648 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:15:11.665 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:11.665 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:11.666 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:11.666 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:11.666 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:11.674 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:11.678 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:11.679 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:11.707 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:11.735 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:11.735 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 28ms reading results.
2022-12-01 15:15:11.740 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:11.741 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:11.771 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:11.775 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:11.776 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:11.776 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:11.866 -03:00 [DBG] Connection id "0HMMJOVU6ITS1" accepted.
2022-12-01 15:15:11.866 -03:00 [DBG] Connection id "0HMMJOVU6ITS1" started.
2022-12-01 15:15:11.875 -03:00 [DBG] Connection 0HMMJOVU6ITS1 established using the following protocol: "Tls12"
2022-12-01 15:15:11.902 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:15:11.924 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:15:11.924 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:15:11.966 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 445.7236ms
2022-12-01 15:15:11.968 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:11.974 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:11.979 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:11.986 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:11.987 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:15:11.989 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 617.9170ms
2022-12-01 15:15:12.117 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:15:12.495 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:15:12.497 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 594.6974ms
2022-12-01 15:15:12.507 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:15:12.508 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:15:12.517 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 8.8219ms
2022-12-01 15:15:12.545 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.9608ms
2022-12-01 15:15:12.624 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:15:12.625 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:15:12.625 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:15:12.801 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 177.1196ms
2022-12-01 15:15:31.598 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 15:15:31.599 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 15:15:31.599 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 15:15:31.599 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:15:31.599 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:31.600 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:15:31.600 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:15:31.611 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:15:31.611 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:31.611 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:31.611 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:31.611 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:31.611 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:31.611 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:15:31.612 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:15:31.615 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:15:31.617 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:15:31.617 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:15:31.617 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:15:31.625 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000003": started reading request body.
2022-12-01 15:15:31.625 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000003": done reading request body.
2022-12-01 15:15:31.656 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:15:31.656 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:15:31.657 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:15:31.662 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:15:31.694 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:31.701 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 15:15:31.759 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 15:15:31.773 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:31.773 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:31.773 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:31.773 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:31.776 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-01 15:15:31.776 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:31.776 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:31.780 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:15:31.812 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:15:31.839 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:15:31.852 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:31.852 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 40ms reading results.
2022-12-01 15:15:31.852 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:31.852 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:31.940 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:31.940 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:31.940 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:31.940 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:31.942 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 330.3956ms
2022-12-01 15:15:31.942 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:15:31.942 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:31.942 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:31.942 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:31.942 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:31.942 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 343.5921ms
2022-12-01 15:15:31.962 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:15:31.962 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:15:31.962 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:15:31.962 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:31.962 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:32.016 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:15:32.017 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:15:32.017 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:32.017 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:15:32.017 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:32.017 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:32.017 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:32.017 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:32.017 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:32.017 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:32.018 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:32.018 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:32.018 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:15:32.018 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:32.018 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:32.018 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:32.018 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:32.019 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:32.019 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:32.019 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:32.019 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:32.021 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:32.022 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:32.022 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:15:32.022 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:32.022 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:32.022 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:32.022 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:32.022 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:32.022 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:32.022 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 4.644ms
2022-12-01 15:15:32.022 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:32.022 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:32.022 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:32.022 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:32.022 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:32.022 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 59.9102ms
2022-12-01 15:15:33.016 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:15:33.016 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:15:33.016 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:15:33.016 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:15:33.016 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:33.016 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:15:33.016 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:15:33.020 -03:00 [DBG] Authorization was successful.
2022-12-01 15:15:33.021 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:15:33.022 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:15:33.022 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:33.023 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:33.023 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:33.023 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:33.023 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:33.023 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:15:33.024 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:33.024 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:15:33.025 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:15:33.026 -03:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .AsNoTracking()
    .Include("Villa")'
2022-12-01 15:15:33.043 -03:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2022-12-01 15:15:33.064 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string) Required, 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string) Required, 8], [Property: Villa.ImageUrl (string) Required, 9], [Property: Villa.Name (string) Required MaxLength(30), 10], [Property: Villa.Occupancy (int) Required, 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqtf (int) Required, 13], [Property: Villa.UpdatedDate (DateTime) Required, 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqtf, v0.UpdatedDate
        FROM VillasNumber AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:15:33.065 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:33.065 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:33.066 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:33.066 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:33.066 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:33.066 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:33.066 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:33.066 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:15:33.069 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:15:33.071 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:33.071 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 15:15:33.071 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:33.071 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:33.074 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:33.074 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:33.074 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:33.074 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:33.075 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 52.417ms
2022-12-01 15:15:33.075 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:15:33.076 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:33.076 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:33.076 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:33.076 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:33.076 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 60.3595ms
2022-12-01 15:15:36.645 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:15:36.645 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:15:36.645 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:15:36.645 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:36.646 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:36.646 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:15:36.646 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:36.646 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:15:36.646 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:36.646 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:36.646 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:36.646 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:36.646 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:36.646 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:36.646 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:36.646 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:36.646 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:15:36.646 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:36.647 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:36.647 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:36.647 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:36.647 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:36.647 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:36.647 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:36.647 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:36.648 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:36.648 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:36.648 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:15:36.648 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:36.648 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:36.648 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:36.648 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:36.648 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:36.648 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:36.648 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.2066ms
2022-12-01 15:15:36.648 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:36.648 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:36.648 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:36.648 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:36.648 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:36.648 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 2.9114ms
2022-12-01 15:15:40.750 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 15:15:40.751 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 15:15:40.751 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 15:15:40.751 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:15:40.751 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:40.751 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:15:40.751 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:15:40.751 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:15:40.751 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:40.751 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:40.751 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:40.751 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:40.751 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:40.751 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:15:40.751 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:15:40.751 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:15:40.751 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:15:40.751 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:15:40.751 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:15:40.752 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000007": started reading request body.
2022-12-01 15:15:40.752 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000007": done reading request body.
2022-12-01 15:15:40.752 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:15:40.752 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:15:40.752 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:15:40.752 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:15:40.752 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:40.755 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:40.755 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:40.755 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:40.755 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:40.755 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:40.755 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.755 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.755 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:15:40.755 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:15:40.756 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:15:40.756 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.756 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:15:40.756 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.756 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:40.757 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:40.757 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:40.757 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:40.757 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:40.757 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 6.1947ms
2022-12-01 15:15:40.757 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:15:40.757 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:40.757 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:40.757 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.757 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:40.757 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 7.4545ms
2022-12-01 15:15:40.765 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:15:40.765 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:15:40.765 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:15:40.765 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:40.765 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:40.765 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:15:40.765 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:15:40.765 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:40.765 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:15:40.765 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:40.765 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:40.765 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:40.765 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:40.765 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:40.765 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:40.766 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:40.766 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:40.766 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:15:40.766 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:40.766 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:40.766 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:40.766 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:40.766 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:40.766 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.766 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.766 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:40.767 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:40.767 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.767 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:15:40.767 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.767 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:40.767 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:40.767 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:40.767 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:40.767 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:40.768 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.0914ms
2022-12-01 15:15:40.768 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:40.768 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:40.768 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:40.768 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:40.768 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:40.768 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 2.9004ms
2022-12-01 15:15:41.747 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:15:41.747 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:15:41.747 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:15:41.747 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:15:41.747 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:41.747 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:15:41.747 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:15:41.747 -03:00 [DBG] Authorization was successful.
2022-12-01 15:15:41.747 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:15:41.748 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:15:41.748 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:41.748 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:41.748 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:41.748 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:41.748 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:41.748 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:15:41.748 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:41.748 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:15:41.748 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:15:41.749 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:41.749 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:41.749 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:41.749 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:41.749 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:41.749 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:41.749 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:41.749 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:15:41.750 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:15:41.750 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:41.750 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:15:41.750 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:41.750 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:41.750 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:41.750 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:41.750 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:41.750 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:41.750 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 2.6218ms
2022-12-01 15:15:41.750 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:15:41.750 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:41.750 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:41.750 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:41.750 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:41.751 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 4.0128ms
2022-12-01 15:15:43.065 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:15:43.065 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:15:43.065 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:15:43.065 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:43.066 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:43.066 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:15:43.066 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:15:43.066 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:43.066 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:15:43.066 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:43.066 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:43.066 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:43.066 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:43.066 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:43.066 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:43.066 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:43.066 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:43.067 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:15:43.067 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:43.067 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:43.067 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:43.067 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:43.067 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:43.067 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:43.067 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:43.067 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:43.067 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:43.068 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:43.068 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:15:43.068 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:43.068 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:43.068 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:43.068 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:43.068 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:43.068 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:43.068 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.095ms
2022-12-01 15:15:43.068 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:43.068 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:43.068 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:43.068 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:43.068 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:43.068 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 2.9655ms
2022-12-01 15:15:44.033 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:15:44.033 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:15:44.033 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:15:44.033 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:44.033 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:15:44.033 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:15:44.033 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:15:44.033 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:44.033 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:15:44.034 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:15:44.034 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:15:44.034 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:15:44.034 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:15:44.034 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:15:44.034 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:44.034 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:15:44.034 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:15:44.034 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:15:44.034 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:15:44.034 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:15:44.034 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:15:44.034 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:44.034 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:15:44.034 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:44.034 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:44.034 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:44.035 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:15:44.036 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:44.036 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:15:44.036 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:44.036 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:15:44.036 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:15:44.036 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:15:44.036 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:15:44.036 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:15:44.036 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.1935ms
2022-12-01 15:15:44.036 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:15:44.036 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:15:44.036 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:15:44.036 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:15:44.036 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:15:44.036 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.0166ms
2022-12-01 15:16:13.963 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:16:13.963 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:16:13.963 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:16:13.963 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:13.963 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:13.963 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:16:13.963 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:13.963 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:16:13.963 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:13.963 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:13.963 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:13.963 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:13.963 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:13.963 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:13.964 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:13.964 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:13.964 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:16:13.964 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:13.964 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:13.964 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:13.964 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:13.964 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:13.964 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:13.965 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:13.965 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:13.966 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:13.966 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:13.966 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:13.966 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:13.966 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:13.966 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:13.966 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:13.966 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:13.966 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:13.966 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 3.1055ms
2022-12-01 15:16:13.966 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:13.966 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:13.966 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:13.966 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:13.966 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:13.966 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.7504ms
2022-12-01 15:16:19.825 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 15:16:19.825 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 15:16:19.825 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 15:16:19.825 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:16:19.825 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:19.825 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:16:19.825 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:16:19.825 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:16:19.825 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:19.825 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:19.825 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:19.826 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:19.826 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:19.826 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:16:19.826 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:16:19.826 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:16:19.826 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:16:19.826 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:16:19.826 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:16:19.826 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:0000000D": started reading request body.
2022-12-01 15:16:19.827 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:0000000D": done reading request body.
2022-12-01 15:16:19.827 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:16:19.827 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:16:19.827 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:16:19.827 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:16:19.827 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:19.827 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:19.827 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:19.827 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:19.828 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:19.828 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:19.828 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.828 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.828 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:16:19.829 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:16:19.829 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:19.829 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.829 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:19.829 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.829 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:19.829 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:19.829 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:19.829 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:19.829 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:19.829 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 3.7459ms
2022-12-01 15:16:19.829 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:16:19.829 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:19.829 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:19.829 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.829 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:19.830 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 200 353 application/json;+charset=utf-8 4.5189ms
2022-12-01 15:16:19.847 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:16:19.847 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:16:19.847 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:16:19.847 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:19.847 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:19.847 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:19.847 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:19.847 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:19.847 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:16:19.847 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:19.847 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:19.847 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:19.847 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:19.847 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:19.847 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:19.848 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:19.848 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:19.848 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:16:19.848 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:19.848 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:19.848 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:19.848 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:19.848 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:19.848 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.848 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.848 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:19.849 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:19.850 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.850 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:19.850 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.850 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:19.850 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:19.850 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:19.850 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:19.850 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:19.850 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.4459ms
2022-12-01 15:16:19.850 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:19.850 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:19.850 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:19.850 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:19.850 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:19.850 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.1824ms
2022-12-01 15:16:26.961 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:16:26.961 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:16:26.961 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:16:26.961 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:26.961 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:26.962 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:26.962 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:26.962 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:26.962 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:26.962 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:26.962 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:26.962 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:26.962 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:26.962 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:26.962 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:26.962 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:26.963 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:26.963 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:26.963 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:16:26.963 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:26.963 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:26.963 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:26.963 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:26.963 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:26.963 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:26.963 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:26.963 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:26.965 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:26.965 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:26.965 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:26.965 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:26.965 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:26.965 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:26.965 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:26.965 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:26.965 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:26.965 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 2.9855ms
2022-12-01 15:16:26.965 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:26.965 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:26.965 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:26.965 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:26.965 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:26.966 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 4.3427ms
2022-12-01 15:16:29.419 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi/123 - -
2022-12-01 15:16:29.419 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:29.419 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi/{id:int}' is valid for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:29.419 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:29.419 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:29.419 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:29.419 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:29.419 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:29.419 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:29.423 -03:00 [INF] Route matched with {action = "GetById", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetById(Int32) on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:29.423 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:29.423 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:29.423 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:29.423 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:29.423 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:29.423 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:29.423 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:29.423 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:29.423 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:29.424 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-01 15:16:29.424 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:29.425 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:29.425 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:29.425 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:29.428 -03:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .Where(x => x.VillaNo == __id_0)
    .FirstOrDefault()'
2022-12-01 15:16:29.430 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<VillaNumber>(
    asyncEnumerable: new SingleQueryingEnumerable<VillaNumber>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            SELECT TOP(1) v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId
            FROM VillasNumber AS v
            WHERE v.VillaNo == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-01 15:16:29.433 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:29.433 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:29.433 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:29.433 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:29.434 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:29.434 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.434 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.434 -03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillasNumber] AS [v]
WHERE [v].[VillaNo] = @__id_0
2022-12-01 15:16:29.436 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillasNumber] AS [v]
WHERE [v].[VillaNo] = @__id_0
2022-12-01 15:16:29.439 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:29.447 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.447 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 11ms reading results.
2022-12-01 15:16:29.447 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.447 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:29.458 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:29.464 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:29.476 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:29.489 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-01 15:16:29.562 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.562 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.567 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:29.567 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:29.567 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:29.567 -03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:29.573 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:29.586 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.586 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 9ms reading results.
2022-12-01 15:16:29.587 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.587 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:29.591 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:29.593 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-01 15:16:29.595 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:29.595 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:29.595 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:29.595 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:29.596 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI) in 172.6611ms
2022-12-01 15:16:29.596 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:29.596 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:29.596 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:29.596 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.596 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:29.596 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi/123 - - - 200 127 application/json;+charset=utf-8 177.1718ms
2022-12-01 15:16:29.614 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:16:29.614 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:16:29.614 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:16:29.614 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:29.614 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:29.614 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:29.614 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:29.614 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:29.614 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:16:29.614 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:29.614 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:29.614 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:29.614 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:29.614 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:29.614 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:29.615 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:29.615 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:29.615 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:16:29.615 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:29.615 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:29.615 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:29.615 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:29.615 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:29.615 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.615 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.615 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:29.616 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:29.616 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.616 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:29.616 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.616 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:29.616 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:29.616 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:29.616 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:29.616 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:29.617 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.0312ms
2022-12-01 15:16:29.617 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:29.617 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:29.617 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:29.617 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:29.617 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:29.617 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 2.7488ms
2022-12-01 15:16:34.462 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaNumberApi/123 application/json;+charset=utf-8 52
2022-12-01 15:16:34.462 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:34.462 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi/{id:int}' is valid for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:34.462 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)'
2022-12-01 15:16:34.462 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:34.462 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:34.462 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:34.462 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:34.462 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)'
2022-12-01 15:16:34.464 -03:00 [INF] Route matched with {action = "Put", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] Put(Int32, HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO) on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:34.464 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:34.464 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:34.464 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:34.464 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:34.464 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:34.464 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:34.465 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:34.465 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:34.465 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:34.465 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-01 15:16:34.465 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:34.465 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:34.465 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:34.465 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:34.465 -03:00 [DBG] Attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO' ...
2022-12-01 15:16:34.465 -03:00 [DBG] Attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO' using the name '' in request data ...
2022-12-01 15:16:34.465 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:16:34.465 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:16:34.465 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000012": started reading request body.
2022-12-01 15:16:34.465 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000012": done reading request body.
2022-12-01 15:16:34.472 -03:00 [DBG] Done attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO'.
2022-12-01 15:16:34.472 -03:00 [DBG] Done attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO'.
2022-12-01 15:16:34.472 -03:00 [DBG] Attempting to validate the bound parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO' ...
2022-12-01 15:16:34.475 -03:00 [DBG] Done attempting to validate the bound parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO'.
2022-12-01 15:16:34.477 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Where(x => x.Id == __villaNumberUpdate_VillaId_0)
    .FirstOrDefault()'
2022-12-01 15:16:34.479 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Villa>(
    asyncEnumerable: new SingleQueryingEnumerable<Villa>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
            SELECT TOP(1) v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
            FROM Villas AS v
            WHERE v.Id == @__villaNumberUpdate_VillaId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
        HotelComercy_WebAPI.Data.ApiVillaContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-12-01 15:16:34.479 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:34.479 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:34.479 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:34.479 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:34.479 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:34.479 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.479 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.479 -03:00 [DBG] Executing DbCommand [Parameters=[@__villaNumberUpdate_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__villaNumberUpdate_VillaId_0
2022-12-01 15:16:34.480 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__villaNumberUpdate_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__villaNumberUpdate_VillaId_0
2022-12-01 15:16:34.484 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:34.506 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.506 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 25ms reading results.
2022-12-01 15:16:34.506 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.506 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:34.519 -03:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:34.523 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:34.523 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:34.524 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:34.530 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-01 15:16:34.531 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.531 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.531 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:34.531 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:34.531 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:34.531 -03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:34.532 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:34.533 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.533 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:34.533 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.533 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:34.533 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:34.533 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-01 15:16:34.534 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-12-01 15:16:34.534 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI) in 69.1088ms
2022-12-01 15:16:34.536 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)'
2022-12-01 15:16:34.537 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:34.537 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:34.537 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.537 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:34.537 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaNumberApi/123 application/json;+charset=utf-8 52 - 204 - - 75.3541ms
2022-12-01 15:16:34.548 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:16:34.548 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:16:34.548 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:16:34.548 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:34.548 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:34.548 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:34.548 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:34.548 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:34.548 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:34.548 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:34.548 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:34.548 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:34.548 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:34.548 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:34.548 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:34.549 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:34.549 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:34.549 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:34.549 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:16:34.549 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:34.549 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:34.549 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:34.549 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:34.549 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:34.549 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.549 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.549 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:34.550 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:34.550 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.550 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:34.550 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.550 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:34.551 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:34.551 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:34.551 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:34.551 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:34.551 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 2.1994ms
2022-12-01 15:16:34.551 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:34.551 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:34.551 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:34.551 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:34.551 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:34.551 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 1227 application/json;+charset=utf-8 3.0170ms
2022-12-01 15:16:36.022 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi/123 - -
2022-12-01 15:16:36.023 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:36.023 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi/{id:int}' is valid for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:36.023 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:36.023 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:36.023 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:36.023 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:36.024 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:36.024 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:36.024 -03:00 [INF] Route matched with {action = "GetById", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetById(Int32) on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:36.024 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:36.024 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:36.024 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:36.024 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:36.024 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:36.024 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:36.024 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:36.024 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:36.024 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:36.024 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-01 15:16:36.024 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:36.024 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:36.024 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:36.024 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:36.024 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:36.025 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:36.025 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:36.025 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:36.025 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:36.025 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.025 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.025 -03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillasNumber] AS [v]
WHERE [v].[VillaNo] = @__id_0
2022-12-01 15:16:36.026 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillasNumber] AS [v]
WHERE [v].[VillaNo] = @__id_0
2022-12-01 15:16:36.026 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:36.026 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.026 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:36.026 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.026 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:36.026 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:36.026 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:36.026 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:36.026 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-01 15:16:36.026 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.026 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.026 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:36.026 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:36.026 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:36.026 -03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:36.028 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:36.028 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.028 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:36.028 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.028 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:36.028 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:36.028 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-01 15:16:36.028 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:36.028 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:36.028 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:36.028 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:36.028 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI) in 4.6366ms
2022-12-01 15:16:36.028 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:36.028 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:36.028 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:36.028 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.029 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:36.029 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi/123 - - - 200 128 application/json;+charset=utf-8 6.3191ms
2022-12-01 15:16:36.033 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:16:36.033 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:16:36.033 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:16:36.033 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:36.033 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:36.033 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:36.033 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:36.033 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:36.033 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:16:36.034 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:36.034 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:36.034 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:36.034 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:36.034 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:36.034 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:36.034 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:36.034 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:36.034 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:16:36.034 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:36.034 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:36.034 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:36.034 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:36.034 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:36.034 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.034 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.034 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:36.035 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:36.035 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.035 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:36.035 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.035 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:36.035 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:36.036 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:36.036 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:36.036 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:36.036 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.0528ms
2022-12-01 15:16:36.036 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:36.036 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:36.036 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:36.036 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:36.036 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:36.036 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 2.7483ms
2022-12-01 15:16:39.224 -03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7001/api/villaNumberApi/123 application/json;+charset=utf-8 51
2022-12-01 15:16:39.224 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:39.224 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi/{id:int}' is valid for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:39.225 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)'
2022-12-01 15:16:39.225 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:39.225 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:39.225 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:39.225 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:39.225 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)'
2022-12-01 15:16:39.225 -03:00 [INF] Route matched with {action = "Put", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] Put(Int32, HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO) on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:39.225 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:39.225 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:39.226 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:39.226 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:39.226 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:39.226 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:39.226 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:39.226 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:39.226 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:39.226 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-01 15:16:39.226 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:39.226 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:39.226 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:39.226 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:39.226 -03:00 [DBG] Attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO' ...
2022-12-01 15:16:39.226 -03:00 [DBG] Attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO' using the name '' in request data ...
2022-12-01 15:16:39.226 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:16:39.226 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2022-12-01 15:16:39.226 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000016": started reading request body.
2022-12-01 15:16:39.226 -03:00 [DBG] Connection id "0HMMJOVU6ITRU", Request id "0HMMJOVU6ITRU:00000016": done reading request body.
2022-12-01 15:16:39.226 -03:00 [DBG] Done attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO'.
2022-12-01 15:16:39.226 -03:00 [DBG] Done attempting to bind parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO'.
2022-12-01 15:16:39.226 -03:00 [DBG] Attempting to validate the bound parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO' ...
2022-12-01 15:16:39.226 -03:00 [DBG] Done attempting to validate the bound parameter 'villaNumberUpdate' of type 'HotelComercy_WebAPI.Model.Dto.VillaNumberUpdateDTO'.
2022-12-01 15:16:39.227 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:39.227 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:39.227 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:39.227 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:39.227 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:39.227 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.227 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.227 -03:00 [DBG] Executing DbCommand [Parameters=[@__villaNumberUpdate_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__villaNumberUpdate_VillaId_0
2022-12-01 15:16:39.228 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__villaNumberUpdate_VillaId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
WHERE [v].[Id] = @__villaNumberUpdate_VillaId_0
2022-12-01 15:16:39.228 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'Villa' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:39.228 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.228 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:39.228 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.228 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:39.228 -03:00 [DBG] The navigation 'VillaNumber.Villa' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:39.228 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:39.228 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:39.228 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:39.228 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-01 15:16:39.228 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.228 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.228 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:39.228 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:39.229 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:39.229 -03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:39.240 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:39.241 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.241 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:39.241 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.241 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:39.241 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:39.241 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-01 15:16:39.241 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-12-01 15:16:39.241 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI) in 15.3632ms
2022-12-01 15:16:39.241 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.Put (HotelComercy_WebAPI)'
2022-12-01 15:16:39.241 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:39.241 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:39.241 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.241 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:39.241 -03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7001/api/villaNumberApi/123 application/json;+charset=utf-8 51 - 204 - - 17.4564ms
2022-12-01 15:16:39.249 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:16:39.249 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:16:39.249 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:16:39.249 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:39.249 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:39.249 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:39.249 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:39.249 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:39.249 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:39.249 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:39.249 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:39.249 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:39.249 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:39.249 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:39.249 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:39.249 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:39.250 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:39.250 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:39.250 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:16:39.250 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:39.250 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:39.250 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:39.250 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:39.250 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:39.250 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.250 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.250 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:39.251 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:39.251 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.251 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:39.251 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.251 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:39.251 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:39.251 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:39.251 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:39.251 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:39.252 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 2.3253ms
2022-12-01 15:16:39.252 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:39.252 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:39.252 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:39.252 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:39.252 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:39.252 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 3.1636ms
2022-12-01 15:16:40.583 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi/123 - -
2022-12-01 15:16:40.583 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:40.583 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi/{id:int}' is valid for the request path '/api/villaNumberApi/123'
2022-12-01 15:16:40.583 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:40.583 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:40.583 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:40.583 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:40.583 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:40.583 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:40.584 -03:00 [INF] Route matched with {action = "GetById", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetById(Int32) on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:40.584 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:40.584 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:40.584 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:40.584 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:40.584 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:40.584 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:40.584 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:40.584 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:40.584 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:40.584 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2022-12-01 15:16:40.584 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:40.584 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:40.584 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2022-12-01 15:16:40.584 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2022-12-01 15:16:40.585 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:40.585 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:40.585 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:40.585 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:40.585 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:40.585 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.585 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.585 -03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillasNumber] AS [v]
WHERE [v].[VillaNo] = @__id_0
2022-12-01 15:16:40.586 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId]
FROM [VillasNumber] AS [v]
WHERE [v].[VillaNo] = @__id_0
2022-12-01 15:16:40.586 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'VillaNumber' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:40.586 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.586 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:40.586 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.586 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:40.586 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:40.586 -03:00 [DBG] SaveChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:40.586 -03:00 [DBG] DetectChanges starting for 'ApiVillaContext'.
2022-12-01 15:16:40.586 -03:00 [DBG] DetectChanges completed for 'ApiVillaContext'.
2022-12-01 15:16:40.586 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.586 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.586 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:40.586 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:40.586 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:40.586 -03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:40.597 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [VillasNumber] SET [CreatedDate] = @p0, [SpecialDetails] = @p1, [UpdatedDate] = @p2, [VillaId] = @p3
OUTPUT 1
WHERE [VillaNo] = @p4;
2022-12-01 15:16:40.597 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.597 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:40.597 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.597 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:40.597 -03:00 [DBG] An entity of type 'VillaNumber' tracked by 'ApiVillaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:16:40.597 -03:00 [DBG] SaveChanges completed for 'ApiVillaContext' with 1 entities written to the database.
2022-12-01 15:16:40.597 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:40.597 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:40.597 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:40.597 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:40.598 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI) in 13.7644ms
2022-12-01 15:16:40.598 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetById (HotelComercy_WebAPI)'
2022-12-01 15:16:40.598 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:40.598 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:40.598 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.598 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:40.598 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi/123 - - - 200 127 application/json;+charset=utf-8 14.8863ms
2022-12-01 15:16:40.603 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:16:40.603 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:16:40.603 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:16:40.603 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:40.603 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:40.603 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:40.603 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:40.603 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:40.603 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:16:40.603 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:40.603 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:40.603 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:40.603 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:40.603 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:40.603 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:40.604 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:40.604 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:40.604 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:16:40.604 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:40.604 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:40.604 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:40.604 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:40.604 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:40.604 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.604 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.604 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:40.605 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:40.606 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.606 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:40.606 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.606 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:40.606 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:40.606 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:40.606 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:40.606 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:40.606 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.5443ms
2022-12-01 15:16:40.606 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:40.606 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:40.606 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:40.606 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:40.606 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:40.606 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 3.2458ms
2022-12-01 15:16:41.560 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:16:41.560 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaNumberApi'
2022-12-01 15:16:41.560 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/VillaNumberApi' is valid for the request path '/api/villaNumberApi'
2022-12-01 15:16:41.560 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:41.560 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:41.560 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:41.560 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:41.560 -03:00 [DBG] Authorization was successful.
2022-12-01 15:16:41.560 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:41.561 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:16:41.561 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:41.561 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:41.561 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:41.561 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:41.561 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:41.561 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:41.561 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:41.561 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:16:41.561 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:16:41.561 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:41.561 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:41.561 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:41.561 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:41.561 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:41.561 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:41.562 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:41.562 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:41.563 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:16:41.563 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:41.563 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:41.563 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:41.563 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:41.563 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:41.563 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:41.563 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:41.563 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:41.563 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 2.176ms
2022-12-01 15:16:41.563 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:16:41.563 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:41.563 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:41.563 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:41.563 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:41.563 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 200 1226 application/json;+charset=utf-8 3.1459ms
2022-12-01 15:16:44.743 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:16:44.743 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:16:44.743 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:16:44.743 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:44.743 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:16:44.743 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:16:44.743 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:16:44.743 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:44.744 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:16:44.744 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:16:44.744 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:16:44.744 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:16:44.744 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:16:44.744 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:16:44.744 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:44.744 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:16:44.744 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:16:44.744 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:16:44.744 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:16:44.744 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:16:44.744 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:16:44.744 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:44.744 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:16:44.744 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:44.744 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:44.744 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:44.745 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:16:44.745 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:44.746 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 0ms reading results.
2022-12-01 15:16:44.746 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:44.746 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:16:44.746 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:16:44.746 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:16:44.746 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:16:44.746 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:16:44.746 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 2.1198ms
2022-12-01 15:16:44.746 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:16:44.746 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" completed keep alive response.
2022-12-01 15:16:44.746 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:16:44.746 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:16:44.746 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:16:44.746 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 2.8951ms
2022-12-01 15:17:53.836 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" received FIN.
2022-12-01 15:17:53.847 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" disconnecting.
2022-12-01 15:17:53.848 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" sending FIN because: "The client closed the connection."
2022-12-01 15:17:53.849 -03:00 [DBG] Connection id "0HMMJOVU6ITRU" stopped.
2022-12-01 15:46:08.484 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:46:09.964 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:46:09.996 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:46:10.074 -03:00 [DBG] Created DbConnection. (71ms).
2022-12-01 15:46:10.089 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.546 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.553 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:46:11.561 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-01 15:46:11.563 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-01 15:46:11.570 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:46:11.599 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:46:11.602 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.613 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-01 15:46:11.617 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:46:11.618 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:46:11.618 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:46:11.618 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.619 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.620 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:46:11.642 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:46:11.642 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.643 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:46:11.664 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:46:11.664 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:46:11.664 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:46:11.664 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.664 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.665 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:46:11.668 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:46:11.673 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.674 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-01 15:46:11.674 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.674 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:46:11.724 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:46:11.945 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:46:11.978 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:46:11.978 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:46:11.978 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:46:11.978 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.978 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.978 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:46:11.980 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:46:11.982 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.983 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 15:46:11.983 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.983 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:46:11.985 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:46:11.988 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:11.990 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 15:46:12.067 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:46:12.117 -03:00 [DBG] Hosting starting
2022-12-01 15:46:12.137 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:46:12.140 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:46:12.145 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:46:12.152 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:46:12.155 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:46:12.156 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:46:12.157 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:46:12.157 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:46:12.158 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:46:12.160 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:46:12.160 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:46:12.272 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:46:12.300 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:46:12.300 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:46:12.300 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:46:12.300 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:46:12.300 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:46:12.300 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:46:12.300 -03:00 [INF] Hosting environment: Development
2022-12-01 15:46:12.300 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:46:12.300 -03:00 [DBG] Hosting started
2022-12-01 15:46:12.500 -03:00 [DBG] Connection id "0HMMJPH8S9EF8" accepted.
2022-12-01 15:46:12.500 -03:00 [DBG] Connection id "0HMMJPH8S9EF7" accepted.
2022-12-01 15:46:12.502 -03:00 [DBG] Connection id "0HMMJPH8S9EF8" started.
2022-12-01 15:46:12.502 -03:00 [DBG] Connection id "0HMMJPH8S9EF7" started.
2022-12-01 15:46:12.512 -03:00 [DBG] Connection id "0HMMJPH8S9EF8" received FIN.
2022-12-01 15:46:12.512 -03:00 [DBG] Connection id "0HMMJPH8S9EF7" received FIN.
2022-12-01 15:46:12.523 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:46:12.523 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:46:12.543 -03:00 [DBG] Connection id "0HMMJPH8S9EF8" stopped.
2022-12-01 15:46:12.543 -03:00 [DBG] Connection id "0HMMJPH8S9EF7" stopped.
2022-12-01 15:46:12.545 -03:00 [DBG] Connection id "0HMMJPH8S9EF8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:46:12.545 -03:00 [DBG] Connection id "0HMMJPH8S9EF7" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:46:12.576 -03:00 [DBG] Connection id "0HMMJPH8S9EF9" accepted.
2022-12-01 15:46:12.576 -03:00 [DBG] Connection id "0HMMJPH8S9EF9" started.
2022-12-01 15:46:12.621 -03:00 [DBG] Connection 0HMMJPH8S9EF9 established using the following protocol: "Tls12"
2022-12-01 15:46:12.663 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:46:12.679 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:46:12.714 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:46:12.719 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:46:12.752 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:46:12.782 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:46:12.847 -03:00 [DBG] Connection id "0HMMJPH8S9EFA" accepted.
2022-12-01 15:46:12.847 -03:00 [DBG] Connection id "0HMMJPH8S9EFA" started.
2022-12-01 15:46:12.860 -03:00 [DBG] Connection 0HMMJPH8S9EFA established using the following protocol: "Tls12"
2022-12-01 15:46:12.920 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:46:12.926 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:46:12.927 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:46:12.946 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:46:12.946 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:46:12.950 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:46:12.952 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:46:12.952 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:46:12.953 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:46:12.953 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:46:12.953 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:46:12.955 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:46:12.961 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:46:13.070 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:46:13.074 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:46:13.091 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:46:13.142 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:46:13.149 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:46:13.162 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:46:13.163 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:46:13.163 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:46:13.163 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-01 15:46:13.163 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-01 15:46:13.171 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:13.178 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:13.181 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:46:13.223 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:46:13.255 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:13.255 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 31ms reading results.
2022-12-01 15:46:13.261 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:13.262 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 15:46:13.287 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:46:13.293 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:46:13.293 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:46:13.299 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 370.4567ms
2022-12-01 15:46:13.299 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 6.6586ms
2022-12-01 15:46:13.322 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:46:13.329 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:46:13.330 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:46:13.330 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:46:13.332 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.1084ms
2022-12-01 15:46:13.438 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:46:13.438 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:46:13.438 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:46:13.556 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 595.1205ms
2022-12-01 15:46:13.559 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:46:13.561 -03:00 [DBG] Connection id "0HMMJPH8S9EF9" completed keep alive response.
2022-12-01 15:46:13.564 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:46:13.578 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:13.579 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:46:13.579 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 919.9099ms
2022-12-01 15:46:13.693 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 255.1136ms
2022-12-01 15:46:22.092 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - -
2022-12-01 15:46:22.093 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberApi'
2022-12-01 15:46:22.095 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/VillaNumberApi'
2022-12-01 15:46:22.095 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:46:22.095 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:46:22.095 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:46:22.105 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2022-12-01 15:46:22.111 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2022-12-01 15:46:22.111 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - - - 401 0 - 19.0952ms
2022-12-01 15:46:44.099 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/UserAuth/login?api-version=1 application/json-patch+json 47
2022-12-01 15:46:44.100 -03:00 [DBG] 1 candidate(s) found for the request path '/api/UserAuth/login'
2022-12-01 15:46:44.100 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/UserAuth/login' is valid for the request path '/api/UserAuth/login'
2022-12-01 15:46:44.105 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:46:44.105 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:46:44.106 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:46:44.106 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:46:44.125 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:46:44.125 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:46:44.125 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:46:44.125 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:46:44.125 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:46:44.125 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:46:44.125 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:46:44.126 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:46:44.129 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:46:44.130 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:46:44.131 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 15:46:44.131 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 15:46:44.139 -03:00 [DBG] Connection id "0HMMJPH8S9EFA", Request id "0HMMJPH8S9EFA:0000000B": started reading request body.
2022-12-01 15:46:44.140 -03:00 [DBG] Connection id "0HMMJPH8S9EFA", Request id "0HMMJPH8S9EFA:0000000B": done reading request body.
2022-12-01 15:46:44.174 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:46:44.174 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:46:44.174 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:46:44.179 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:46:44.213 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:46:44.223 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 15:46:44.291 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 15:46:44.307 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:46:44.307 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:46:44.307 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:46:44.307 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:46:44.310 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2022-12-01 15:46:44.310 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:44.310 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:44.314 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:46:44.349 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 15:46:44.379 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 15:46:44.395 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:44.396 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 47ms reading results.
2022-12-01 15:46:44.396 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:44.396 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:46:44.498 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:46:44.499 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 15:46:44.499 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 15:46:44.499 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 15:46:44.499 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:46:44.499 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:46:44.501 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 376.0089ms
2022-12-01 15:46:44.502 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:46:44.502 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:46:44.502 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:46:44.502 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:46:44.502 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/UserAuth/login?api-version=1 application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 402.4547ms
2022-12-01 15:47:01.661 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - -
2022-12-01 15:47:01.661 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaNumberApi'
2022-12-01 15:47:01.661 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaNumberApi' is valid for the request path '/api/v1/VillaNumberApi'
2022-12-01 15:47:01.661 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:47:01.661 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:47:01.734 -03:00 [DBG] Successfully validated the token.
2022-12-01 15:47:01.737 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 15:47:01.737 -03:00 [DBG] Authorization was successful.
2022-12-01 15:47:01.738 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:47:01.739 -03:00 [INF] Route matched with {action = "GetAll", controller = "VillaNumberApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetAll() on controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI).
2022-12-01 15:47:01.739 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:47:01.740 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:47:01.740 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:47:01.740 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:47:01.740 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:47:01.740 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:47:01.740 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:47:01.740 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaNumberApiController (HotelComercy_WebAPI)
2022-12-01 15:47:01.741 -03:00 [INF] Retornando todas as VilasNumber.
2022-12-01 15:47:01.742 -03:00 [DBG] Compiling query expression: 
'DbSet<VillaNumber>()
    .AsNoTracking()
    .Include("Villa")'
2022-12-01 15:47:01.758 -03:00 [DBG] Including navigation: 'VillaNumber.Villa'.
2022-12-01 15:47:01.784 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<VillaNumber>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: VillaNumber.VillaNo (int) Required PK AfterSave:Throw, 0], [Property: VillaNumber.CreatedDate (DateTime) Required, 1], [Property: VillaNumber.SpecialDetails (string) Required, 2], [Property: VillaNumber.UpdatedDate (DateTime) Required, 3], [Property: VillaNumber.VillaId (int) Required FK Index, 4] }
            1 -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 5], [Property: Villa.Amenity (string) Required, 6], [Property: Villa.CreatedDate (DateTime) Required, 7], [Property: Villa.Details (string) Required, 8], [Property: Villa.ImageUrl (string) Required, 9], [Property: Villa.Name (string) Required MaxLength(30), 10], [Property: Villa.Occupancy (int) Required, 11], [Property: Villa.Rate (double) Required, 12], [Property: Villa.Sqtf (int) Required, 13], [Property: Villa.UpdatedDate (DateTime) Required, 14] }
        SELECT v.VillaNo, v.CreatedDate, v.SpecialDetails, v.UpdatedDate, v.VillaId, v0.Id, v0.Amenity, v0.CreatedDate, v0.Details, v0.ImageUrl, v0.Name, v0.Occupancy, v0.Rate, v0.Sqtf, v0.UpdatedDate
        FROM VillasNumber AS v
        INNER JOIN Villas AS v0 ON v.VillaId == v0.Id), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, VillaNumber>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:47:01.786 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:47:01.787 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:47:01.787 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:47:01.787 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:47:01.787 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:47:01.787 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:47:01.787 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:47:01.787 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:47:01.790 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[VillaNo], [v].[CreatedDate], [v].[SpecialDetails], [v].[UpdatedDate], [v].[VillaId], [v0].[Id], [v0].[Amenity], [v0].[CreatedDate], [v0].[Details], [v0].[ImageUrl], [v0].[Name], [v0].[Occupancy], [v0].[Rate], [v0].[Sqtf], [v0].[UpdatedDate]
FROM [VillasNumber] AS [v]
INNER JOIN [Villas] AS [v0] ON [v].[VillaId] = [v0].[Id]
2022-12-01 15:47:01.792 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:47:01.792 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 15:47:01.792 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:47:01.792 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:47:01.794 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:47:01.794 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-01 15:47:01.794 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-01 15:47:01.794 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 15:47:01.794 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 15:47:01.794 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:47:01.794 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:47:01.795 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI) in 55.8334ms
2022-12-01 15:47:01.796 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaNumberApiController.GetAll (HotelComercy_WebAPI)'
2022-12-01 15:47:01.796 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:47:01.796 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:47:01.796 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:47:01.797 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaNumberApi - - - 200 1226 application/json;+charset=utf-8 135.5784ms
2022-12-01 15:47:25.040 -03:00 [DBG] Connection id "0HMMJPH8S9EF9" received FIN.
2022-12-01 15:47:25.046 -03:00 [DBG] Connection id "0HMMJPH8S9EF9" disconnecting.
2022-12-01 15:47:25.047 -03:00 [DBG] Connection id "0HMMJPH8S9EF9" sending FIN because: "The client closed the connection."
2022-12-01 15:47:25.048 -03:00 [DBG] Connection id "0HMMJPH8S9EF9" stopped.
2022-12-01 15:48:29.446 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:48:30.797 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:48:30.825 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:48:30.882 -03:00 [DBG] Created DbConnection. (55ms).
2022-12-01 15:48:30.895 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.368 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.377 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:48:32.383 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2022-12-01 15:48:32.385 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2022-12-01 15:48:32.392 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:48:32.424 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:48:32.428 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.438 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 15:48:32.443 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:48:32.443 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:48:32.443 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:48:32.443 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.444 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.445 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:48:32.468 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:48:32.468 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.468 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:48:32.503 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:48:32.504 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:48:32.504 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:48:32.504 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.504 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.504 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:48:32.508 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:48:32.513 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.514 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 15:48:32.514 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.514 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:48:32.561 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:48:32.785 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:48:32.817 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:48:32.817 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:48:32.817 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:48:32.817 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.817 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.817 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:48:32.819 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:48:32.822 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.822 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 15:48:32.822 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.822 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:48:32.825 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:48:32.828 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:48:32.830 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 15:48:32.904 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:48:32.956 -03:00 [DBG] Hosting starting
2022-12-01 15:48:32.974 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:48:32.978 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:48:32.982 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:48:32.990 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:48:32.991 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:48:32.992 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:48:32.995 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:48:32.996 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:48:32.997 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:48:32.999 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:48:32.999 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:48:33.122 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:48:33.149 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:48:33.149 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:48:33.149 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:48:33.149 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:48:33.149 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:48:33.149 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:48:33.149 -03:00 [INF] Hosting environment: Development
2022-12-01 15:48:33.149 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:48:33.150 -03:00 [DBG] Hosting started
2022-12-01 15:48:33.246 -03:00 [DBG] Connection id "0HMMJPIIQHCQV" accepted.
2022-12-01 15:48:33.246 -03:00 [DBG] Connection id "0HMMJPIIQHCR0" accepted.
2022-12-01 15:48:33.247 -03:00 [DBG] Connection id "0HMMJPIIQHCQV" started.
2022-12-01 15:48:33.247 -03:00 [DBG] Connection id "0HMMJPIIQHCR0" started.
2022-12-01 15:48:33.263 -03:00 [DBG] Connection id "0HMMJPIIQHCR0" received FIN.
2022-12-01 15:48:33.263 -03:00 [DBG] Connection id "0HMMJPIIQHCQV" received FIN.
2022-12-01 15:48:33.296 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:48:33.296 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:48:33.325 -03:00 [DBG] Connection id "0HMMJPIIQHCR0" stopped.
2022-12-01 15:48:33.325 -03:00 [DBG] Connection id "0HMMJPIIQHCQV" stopped.
2022-12-01 15:48:33.327 -03:00 [DBG] Connection id "0HMMJPIIQHCQV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:48:33.328 -03:00 [DBG] Connection id "0HMMJPIIQHCR0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:48:33.514 -03:00 [DBG] Connection id "0HMMJPIIQHCR1" accepted.
2022-12-01 15:48:33.514 -03:00 [DBG] Connection id "0HMMJPIIQHCR1" started.
2022-12-01 15:48:33.572 -03:00 [DBG] Connection 0HMMJPIIQHCR1 established using the following protocol: "Tls12"
2022-12-01 15:48:33.634 -03:00 [DBG] Connection id "0HMMJPIIQHCR2" accepted.
2022-12-01 15:48:33.634 -03:00 [DBG] Connection id "0HMMJPIIQHCR2" started.
2022-12-01 15:48:33.640 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:48:33.647 -03:00 [DBG] Connection 0HMMJPIIQHCR2 established using the following protocol: "Tls12"
2022-12-01 15:48:33.675 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:48:33.676 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:48:33.702 -03:00 [DBG] No candidates found for the request path '/api/villaAPI'
2022-12-01 15:48:33.702 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:48:33.702 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:48:33.702 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:48:33.732 -03:00 [DBG] The request path  does not match the path filter
2022-12-01 15:48:33.829 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:48:33.847 -03:00 [DBG] Connection id "0HMMJPIIQHCR2" completed keep alive response.
2022-12-01 15:48:33.851 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 404 0 - 174.0465ms
2022-12-01 15:48:34.025 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:49:46.025 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:49:47.109 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:49:47.132 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:49:47.188 -03:00 [DBG] Created DbConnection. (52ms).
2022-12-01 15:49:47.198 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.658 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.668 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:49:48.677 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 15:49:48.679 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-01 15:49:48.686 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:49:48.722 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:49:48.724 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.736 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-01 15:49:48.743 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:49:48.743 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:49:48.743 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:49:48.743 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.745 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.745 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:49:48.768 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:49:48.768 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.769 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:49:48.797 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:49:48.797 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:49:48.797 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:49:48.797 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.797 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.798 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:49:48.802 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:49:48.807 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.810 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-01 15:49:48.810 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:48.811 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:49:48.868 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:49:49.098 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:49:49.130 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:49:49.130 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:49:49.130 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:49:49.130 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:49.130 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:49.130 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:49:49.132 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:49:49.133 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:49.133 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 15:49:49.133 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:49.133 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:49:49.135 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:49:49.137 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:49:49.139 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:49:49.222 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:49:49.280 -03:00 [DBG] Hosting starting
2022-12-01 15:49:49.349 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:49:49.351 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:49:49.356 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:49:49.364 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:49:49.365 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:49:49.366 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:49:49.367 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:49:49.367 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:49:49.368 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:49:49.371 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:49:49.372 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:49:49.485 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:49:49.515 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:49:49.515 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:49:49.515 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:49:49.515 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:49:49.515 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:49:49.515 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:49:49.515 -03:00 [INF] Hosting environment: Development
2022-12-01 15:49:49.515 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:49:49.516 -03:00 [DBG] Hosting started
2022-12-01 15:49:49.982 -03:00 [DBG] Connection id "0HMMJPJ9MBJBQ" accepted.
2022-12-01 15:49:49.983 -03:00 [DBG] Connection id "0HMMJPJ9MBJBQ" started.
2022-12-01 15:49:49.996 -03:00 [DBG] Connection id "0HMMJPJ9MBJBR" accepted.
2022-12-01 15:49:49.996 -03:00 [DBG] Connection id "0HMMJPJ9MBJBS" accepted.
2022-12-01 15:49:49.996 -03:00 [DBG] Connection id "0HMMJPJ9MBJBR" started.
2022-12-01 15:49:49.996 -03:00 [DBG] Connection id "0HMMJPJ9MBJBS" started.
2022-12-01 15:49:50.021 -03:00 [DBG] Connection id "0HMMJPJ9MBJBS" received FIN.
2022-12-01 15:49:50.021 -03:00 [DBG] Connection id "0HMMJPJ9MBJBR" received FIN.
2022-12-01 15:49:50.031 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:49:50.031 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:49:50.040 -03:00 [DBG] Connection 0HMMJPJ9MBJBQ established using the following protocol: "Tls12"
2022-12-01 15:49:50.052 -03:00 [DBG] Connection id "0HMMJPJ9MBJBR" stopped.
2022-12-01 15:49:50.052 -03:00 [DBG] Connection id "0HMMJPJ9MBJBS" stopped.
2022-12-01 15:49:50.053 -03:00 [DBG] Connection id "0HMMJPJ9MBJBR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:49:50.053 -03:00 [DBG] Connection id "0HMMJPJ9MBJBS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:49:50.080 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:49:50.089 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:49:50.113 -03:00 [DBG] No candidates found for the request path '/api/villaAPI'
2022-12-01 15:49:50.113 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:49:50.134 -03:00 [DBG] The request path  does not match the path filter
2022-12-01 15:49:50.195 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:49:50.203 -03:00 [DBG] Connection id "0HMMJPJ9MBJBQ" completed keep alive response.
2022-12-01 15:49:50.206 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 404 0 - 129.0742ms
2022-12-01 15:50:54.640 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:50:55.605 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:50:55.625 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:50:55.669 -03:00 [DBG] Created DbConnection. (41ms).
2022-12-01 15:50:55.676 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.021 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.035 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:50:57.046 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2022-12-01 15:50:57.049 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2022-12-01 15:50:57.063 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:50:57.126 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:50:57.130 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.154 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (14ms).
2022-12-01 15:50:57.165 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:50:57.165 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:50:57.165 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:50:57.165 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.166 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.167 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:50:57.199 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:50:57.199 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.199 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:50:57.225 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:50:57.225 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:50:57.225 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:50:57.225 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.225 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.226 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:50:57.229 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:50:57.235 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.239 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-01 15:50:57.240 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.240 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:50:57.300 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:50:57.559 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:50:57.599 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:50:57.600 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:50:57.600 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:50:57.600 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.600 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.600 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:50:57.602 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:50:57.605 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.605 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 15:50:57.605 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.605 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:50:57.607 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:50:57.610 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:50:57.611 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:50:57.711 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:50:57.764 -03:00 [DBG] Hosting starting
2022-12-01 15:50:57.787 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:50:57.793 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:50:57.798 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:50:57.805 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:50:57.809 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:50:57.809 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:50:57.810 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:50:57.811 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:50:57.812 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:50:57.814 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:50:57.815 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:50:57.952 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:50:57.996 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:50:57.996 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:50:57.996 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:50:57.996 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:50:57.996 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:50:57.996 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:50:57.996 -03:00 [INF] Hosting environment: Development
2022-12-01 15:50:57.996 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:50:57.996 -03:00 [DBG] Hosting started
2022-12-01 15:50:58.016 -03:00 [DBG] Connection id "0HMMJPJTV5T50" accepted.
2022-12-01 15:50:58.017 -03:00 [DBG] Connection id "0HMMJPJTV5T50" started.
2022-12-01 15:50:58.026 -03:00 [DBG] Connection id "0HMMJPJTV5T50" received FIN.
2022-12-01 15:50:58.030 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:50:58.058 -03:00 [DBG] Connection id "0HMMJPJTV5T50" stopped.
2022-12-01 15:50:58.061 -03:00 [DBG] Connection id "0HMMJPJTV5T50" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:50:58.234 -03:00 [DBG] Connection id "0HMMJPJTV5T51" accepted.
2022-12-01 15:50:58.235 -03:00 [DBG] Connection id "0HMMJPJTV5T51" started.
2022-12-01 15:50:58.287 -03:00 [DBG] Connection 0HMMJPJTV5T51 established using the following protocol: "Tls12"
2022-12-01 15:50:58.348 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:50:58.382 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:50:58.401 -03:00 [DBG] Connection id "0HMMJPJTV5T52" accepted.
2022-12-01 15:50:58.401 -03:00 [DBG] Connection id "0HMMJPJTV5T52" started.
2022-12-01 15:50:58.416 -03:00 [DBG] Connection 0HMMJPJTV5T52 established using the following protocol: "Tls12"
2022-12-01 15:50:58.416 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:50:58.417 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:50:58.445 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:50:58.446 -03:00 [DBG] No candidates found for the request path '/api/villaAPI'
2022-12-01 15:50:58.446 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:50:58.448 -03:00 [DBG] The request path  does not match the path filter
2022-12-01 15:50:58.531 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:50:58.543 -03:00 [DBG] Connection id "0HMMJPJTV5T52" completed keep alive response.
2022-12-01 15:50:58.547 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 404 0 - 101.0531ms
2022-12-01 15:50:58.731 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:54:28.704 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:54:30.044 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:54:30.068 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:54:30.124 -03:00 [DBG] Created DbConnection. (51ms).
2022-12-01 15:54:30.134 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.606 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.619 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:54:31.632 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 15:54:31.636 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (22ms).
2022-12-01 15:54:31.650 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:54:31.699 -03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:54:31.702 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.715 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-01 15:54:31.719 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:54:31.719 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:54:31.719 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:54:31.719 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.720 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.721 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:54:31.743 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:54:31.743 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.744 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:54:31.770 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:54:31.770 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:54:31.770 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:54:31.770 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.770 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.771 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:54:31.775 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:54:31.783 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.787 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 7ms reading results.
2022-12-01 15:54:31.788 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:31.788 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:54:31.837 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:54:32.059 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:54:32.090 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:54:32.090 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:54:32.090 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:54:32.090 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:32.090 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:32.090 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:54:32.092 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:54:32.094 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:32.094 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 15:54:32.094 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:32.094 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:54:32.095 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:54:32.098 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:54:32.100 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 15:54:32.179 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:54:32.229 -03:00 [DBG] Hosting starting
2022-12-01 15:54:32.249 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:54:32.251 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:54:32.256 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:54:32.263 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:54:32.265 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:54:32.265 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:54:32.266 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:54:32.267 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:54:32.268 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:54:32.270 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:54:32.271 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:54:32.379 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:54:32.410 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:54:32.410 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:54:32.410 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:54:32.410 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:54:32.410 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:54:32.411 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:54:32.411 -03:00 [INF] Hosting environment: Development
2022-12-01 15:54:32.411 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:54:32.411 -03:00 [DBG] Hosting started
2022-12-01 15:54:32.513 -03:00 [DBG] Connection id "0HMMJPLTSP7LR" accepted.
2022-12-01 15:54:32.515 -03:00 [DBG] Connection id "0HMMJPLTSP7LS" received FIN.
2022-12-01 15:54:32.515 -03:00 [DBG] Connection id "0HMMJPLTSP7LR" started.
2022-12-01 15:54:32.516 -03:00 [DBG] Connection id "0HMMJPLTSP7LS" accepted.
2022-12-01 15:54:32.516 -03:00 [DBG] Connection id "0HMMJPLTSP7LS" started.
2022-12-01 15:54:32.524 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:54:32.552 -03:00 [DBG] Connection id "0HMMJPLTSP7LS" stopped.
2022-12-01 15:54:32.553 -03:00 [DBG] Connection id "0HMMJPLTSP7LS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:54:32.568 -03:00 [DBG] Connection 0HMMJPLTSP7LR established using the following protocol: "Tls12"
2022-12-01 15:54:32.614 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:54:32.629 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:54:32.663 -03:00 [DBG] No candidates found for the request path '/api/villaAPI'
2022-12-01 15:54:32.663 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:54:32.694 -03:00 [DBG] The request path  does not match the path filter
2022-12-01 15:54:32.785 -03:00 [DBG] Connection id "0HMMJPLTSP7LT" accepted.
2022-12-01 15:54:32.785 -03:00 [DBG] Connection id "0HMMJPLTSP7LT" started.
2022-12-01 15:54:32.805 -03:00 [DBG] Connection 0HMMJPLTSP7LT established using the following protocol: "Tls12"
2022-12-01 15:54:32.837 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:54:32.851 -03:00 [DBG] Connection id "0HMMJPLTSP7LR" completed keep alive response.
2022-12-01 15:54:32.853 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 404 0 - 244.4271ms
2022-12-01 15:54:32.861 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:54:32.884 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:54:32.885 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:55:18.997 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:55:19.841 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:55:19.872 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:55:19.986 -03:00 [DBG] Created DbConnection. (106ms).
2022-12-01 15:55:19.999 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.604 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.613 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:55:21.621 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2022-12-01 15:55:21.623 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2022-12-01 15:55:21.632 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:55:21.670 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:55:21.672 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.685 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (8ms).
2022-12-01 15:55:21.690 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:55:21.690 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:55:21.690 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:55:21.690 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.691 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.692 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:55:21.721 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:55:21.721 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.722 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:55:21.752 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:55:21.752 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:55:21.752 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:55:21.752 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.752 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.753 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:55:21.756 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:55:21.760 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.763 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 4ms reading results.
2022-12-01 15:55:21.763 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:21.763 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:55:21.822 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:55:22.086 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:55:22.122 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:55:22.122 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:55:22.122 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:55:22.122 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:22.122 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:22.122 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:55:22.125 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:55:22.131 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:22.132 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 6ms reading results.
2022-12-01 15:55:22.132 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:22.132 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:55:22.134 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:55:22.138 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:22.140 -03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2022-12-01 15:55:22.237 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:55:22.310 -03:00 [DBG] Hosting starting
2022-12-01 15:55:22.335 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:55:22.337 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:55:22.346 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:55:22.356 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:55:22.358 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:55:22.359 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:55:22.361 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:55:22.362 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:55:22.364 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:55:22.366 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:55:22.367 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:55:22.487 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:55:22.514 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:55:22.514 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:55:22.514 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:55:22.514 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:55:22.514 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:55:22.514 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:55:22.514 -03:00 [INF] Hosting environment: Development
2022-12-01 15:55:22.514 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:55:22.514 -03:00 [DBG] Hosting started
2022-12-01 15:55:22.712 -03:00 [DBG] Connection id "0HMMJPMCRGTTH" accepted.
2022-12-01 15:55:22.713 -03:00 [DBG] Connection id "0HMMJPMCRGTTH" started.
2022-12-01 15:55:22.757 -03:00 [DBG] Connection 0HMMJPMCRGTTH established using the following protocol: "Tls12"
2022-12-01 15:55:22.796 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:55:22.807 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:55:22.836 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:55:22.840 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:55:22.858 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:55:22.881 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:55:22.942 -03:00 [DBG] Connection id "0HMMJPMCRGTTI" accepted.
2022-12-01 15:55:22.942 -03:00 [DBG] Connection id "0HMMJPMCRGTTI" started.
2022-12-01 15:55:22.944 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:55:22.946 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:55:22.962 -03:00 [DBG] Connection id "0HMMJPMCRGTTI" received FIN.
2022-12-01 15:55:22.971 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:55:22.971 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:55:22.986 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:55:22.986 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:55:22.986 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:55:22.986 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:55:22.986 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:55:22.986 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:55:22.994 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:55:22.999 -03:00 [DBG] Connection id "0HMMJPMCRGTTI" stopped.
2022-12-01 15:55:23.000 -03:00 [DBG] Connection id "0HMMJPMCRGTTI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:55:23.080 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:55:23.081 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:55:23.094 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:55:23.128 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:55:23.143 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:55:23.143 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:55:23.144 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:55:23.144 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-12-01 15:55:23.144 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2022-12-01 15:55:23.150 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:23.154 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:23.154 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:55:23.179 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:55:23.205 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:23.205 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 25ms reading results.
2022-12-01 15:55:23.209 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:23.210 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (1ms).
2022-12-01 15:55:23.236 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:55:23.239 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:55:23.240 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:55:23.240 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:55:23.412 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 420.1663ms
2022-12-01 15:55:23.413 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:55:23.418 -03:00 [DBG] Connection id "0HMMJPMCRGTTH" completed keep alive response.
2022-12-01 15:55:23.422 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:55:23.430 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:55:23.431 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:55:23.432 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 639.2467ms
2022-12-01 15:55:23.538 -03:00 [DBG] Connection id "0HMMJPMCRGTTJ" accepted.
2022-12-01 15:55:23.538 -03:00 [DBG] Connection id "0HMMJPMCRGTTJ" started.
2022-12-01 15:55:23.552 -03:00 [DBG] Connection 0HMMJPMCRGTTJ established using the following protocol: "Tls12"
2022-12-01 15:55:23.589 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:55:23.612 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:55:23.612 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:55:23.812 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:55:23.956 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:55:23.959 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:55:23.971 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:55:23.972 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 382.3113ms
2022-12-01 15:55:23.975 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 19.7330ms
2022-12-01 15:55:23.990 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 19.7655ms
2022-12-01 15:55:24.139 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:55:24.139 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:55:24.139 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:55:24.378 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 239.7303ms
2022-12-01 15:56:35.685 -03:00 [DBG] Connection id "0HMMJPMCRGTTH" received FIN.
2022-12-01 15:56:35.698 -03:00 [DBG] Connection id "0HMMJPMCRGTTH" disconnecting.
2022-12-01 15:56:35.699 -03:00 [DBG] Connection id "0HMMJPMCRGTTH" sending FIN because: "The client closed the connection."
2022-12-01 15:56:35.700 -03:00 [DBG] Connection id "0HMMJPMCRGTTH" stopped.
2022-12-01 15:57:55.185 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:57:56.290 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:57:56.326 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:57:56.403 -03:00 [DBG] Created DbConnection. (69ms).
2022-12-01 15:57:56.424 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:57.835 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:57.848 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:57:57.858 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 15:57:57.864 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2022-12-01 15:57:57.874 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:57:57.924 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:57:57.928 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:57.942 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (11ms).
2022-12-01 15:57:57.948 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:57:57.948 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:57:57.948 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:57:57.948 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:57.950 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:57.951 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:57:57.974 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:57:57.974 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:57.974 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:57:58.002 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:57:58.003 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:57:58.003 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:57:58.003 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.003 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.003 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:57:58.008 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:57:58.014 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.016 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 5ms reading results.
2022-12-01 15:57:58.017 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.017 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:57:58.090 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:57:58.397 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:57:58.437 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:57:58.437 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:57:58.437 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:57:58.437 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.437 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.437 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:57:58.439 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:57:58.441 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.441 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 15:57:58.441 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.441 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:57:58.442 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:57:58.448 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:58.451 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2022-12-01 15:57:58.597 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:57:58.656 -03:00 [DBG] Hosting starting
2022-12-01 15:57:58.673 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:57:58.676 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:57:58.683 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:57:58.690 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:57:58.691 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:57:58.692 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:57:58.693 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:57:58.696 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:57:58.698 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:57:58.700 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:57:58.701 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:57:58.825 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:57:58.856 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:57:58.856 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:57:58.856 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:57:58.856 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:57:58.856 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:57:58.857 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:57:58.857 -03:00 [INF] Hosting environment: Development
2022-12-01 15:57:58.857 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:57:58.857 -03:00 [DBG] Hosting started
2022-12-01 15:57:59.009 -03:00 [DBG] Connection id "0HMMJPNRE30DM" accepted.
2022-12-01 15:57:59.009 -03:00 [DBG] Connection id "0HMMJPNRE30DN" accepted.
2022-12-01 15:57:59.011 -03:00 [DBG] Connection id "0HMMJPNRE30DM" started.
2022-12-01 15:57:59.011 -03:00 [DBG] Connection id "0HMMJPNRE30DN" started.
2022-12-01 15:57:59.032 -03:00 [DBG] Connection id "0HMMJPNRE30DM" received FIN.
2022-12-01 15:57:59.032 -03:00 [DBG] Connection id "0HMMJPNRE30DN" received FIN.
2022-12-01 15:57:59.050 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:57:59.050 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:57:59.086 -03:00 [DBG] Connection id "0HMMJPNRE30DN" stopped.
2022-12-01 15:57:59.086 -03:00 [DBG] Connection id "0HMMJPNRE30DM" stopped.
2022-12-01 15:57:59.088 -03:00 [DBG] Connection id "0HMMJPNRE30DM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:57:59.088 -03:00 [DBG] Connection id "0HMMJPNRE30DN" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:57:59.270 -03:00 [DBG] Connection id "0HMMJPNRE30DO" accepted.
2022-12-01 15:57:59.271 -03:00 [DBG] Connection id "0HMMJPNRE30DO" started.
2022-12-01 15:57:59.309 -03:00 [DBG] Connection 0HMMJPNRE30DO established using the following protocol: "Tls12"
2022-12-01 15:57:59.322 -03:00 [DBG] Connection id "0HMMJPNRE30DP" accepted.
2022-12-01 15:57:59.323 -03:00 [DBG] Connection id "0HMMJPNRE30DP" started.
2022-12-01 15:57:59.336 -03:00 [DBG] Connection 0HMMJPNRE30DP established using the following protocol: "Tls12"
2022-12-01 15:57:59.374 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:57:59.374 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:57:59.389 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:57:59.419 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:57:59.419 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:57:59.422 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:57:59.426 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:57:59.443 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:57:59.450 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:57:59.550 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:57:59.552 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:57:59.572 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:57:59.572 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:57:59.572 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:57:59.572 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:57:59.573 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:57:59.573 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:57:59.573 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:57:59.575 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:57:59.695 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:57:59.699 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:57:59.709 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:57:59.709 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:57:59.786 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:57:59.808 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:57:59.808 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:57:59.808 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:57:59.808 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:57:59.808 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:57:59.816 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:59.820 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:59.821 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:57:59.847 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:57:59.875 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:59.875 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 28ms reading results.
2022-12-01 15:57:59.881 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:57:59.882 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-01 15:57:59.907 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:57:59.911 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:57:59.913 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:57:59.913 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:57:59.993 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:58:00.004 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:58:00.004 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:58:00.004 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 630.1309ms
2022-12-01 15:58:00.031 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 26.7644ms
2022-12-01 15:58:00.090 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 85.9047ms
2022-12-01 15:58:00.155 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:58:00.155 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:58:00.155 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:58:00.160 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 583.6011ms
2022-12-01 15:58:00.162 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:58:00.166 -03:00 [DBG] Connection id "0HMMJPNRE30DP" completed keep alive response.
2022-12-01 15:58:00.169 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:58:00.176 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:00.177 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:58:00.178 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 805.9610ms
2022-12-01 15:58:00.381 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.3240ms
2022-12-01 15:58:09.012 -03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38
2022-12-01 15:58:09.016 -03:00 [DBG] No candidates found for the request path '/api/UserAuth/login'
2022-12-01 15:58:09.016 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:58:09.016 -03:00 [DBG] POST requests are not supported
2022-12-01 15:58:09.016 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:58:09.016 -03:00 [DBG] Connection id "0HMMJPNRE30DP" completed keep alive response.
2022-12-01 15:58:09.017 -03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7001/api/UserAuth/login application/json;+charset=utf-8 38 - 404 0 - 4.6281ms
2022-12-01 15:58:09.017 -03:00 [DBG] Connection id "0HMMJPNRE30DP", Request id "0HMMJPNRE30DP:00000003": started reading request body.
2022-12-01 15:58:09.017 -03:00 [DBG] Connection id "0HMMJPNRE30DP", Request id "0HMMJPNRE30DP:00000003": done reading request body.
2022-12-01 15:58:40.538 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:58:41.529 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:58:41.551 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:58:41.604 -03:00 [DBG] Created DbConnection. (50ms).
2022-12-01 15:58:41.613 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:42.993 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.002 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:58:43.009 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 15:58:43.012 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2022-12-01 15:58:43.020 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:58:43.074 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:58:43.080 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.101 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (11ms).
2022-12-01 15:58:43.117 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:58:43.117 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:58:43.117 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:58:43.117 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.120 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.122 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:58:43.167 -03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:58:43.167 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.168 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:58:43.210 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:58:43.210 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:58:43.210 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:58:43.210 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.210 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.213 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:58:43.218 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:58:43.222 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.225 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 15:58:43.226 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.226 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:58:43.297 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:58:43.568 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:58:43.599 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:58:43.600 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:58:43.600 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:58:43.600 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.600 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.600 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:58:43.602 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:58:43.605 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.605 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 15:58:43.605 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.605 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:58:43.607 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:58:43.610 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:43.612 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:58:43.720 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:58:43.801 -03:00 [DBG] Hosting starting
2022-12-01 15:58:43.831 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:58:43.835 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:58:43.848 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:58:43.864 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:58:43.868 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:58:43.869 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:58:43.870 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:58:43.871 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:58:43.873 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:58:43.879 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:58:43.880 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:58:43.988 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:58:44.017 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:58:44.017 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:58:44.017 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:58:44.017 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:58:44.017 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:58:44.017 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:58:44.017 -03:00 [INF] Hosting environment: Development
2022-12-01 15:58:44.017 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:58:44.017 -03:00 [DBG] Hosting started
2022-12-01 15:58:44.356 -03:00 [DBG] Connection id "0HMMJPO8UHQ3N" accepted.
2022-12-01 15:58:44.357 -03:00 [DBG] Connection id "0HMMJPO8UHQ3N" started.
2022-12-01 15:58:44.401 -03:00 [DBG] Connection 0HMMJPO8UHQ3N established using the following protocol: "Tls12"
2022-12-01 15:58:44.436 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaAPI - -
2022-12-01 15:58:44.449 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:58:44.474 -03:00 [DBG] 1 candidate(s) found for the request path '/api/villaAPI'
2022-12-01 15:58:44.479 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/VillaApi' is valid for the request path '/api/villaAPI'
2022-12-01 15:58:44.491 -03:00 [DBG] Connection id "0HMMJPO8UHQ3O" accepted.
2022-12-01 15:58:44.491 -03:00 [DBG] Connection id "0HMMJPO8UHQ3P" accepted.
2022-12-01 15:58:44.492 -03:00 [DBG] Connection id "0HMMJPO8UHQ3P" started.
2022-12-01 15:58:44.492 -03:00 [DBG] Connection id "0HMMJPO8UHQ3O" started.
2022-12-01 15:58:44.494 -03:00 [DBG] Connection id "0HMMJPO8UHQ3O" received FIN.
2022-12-01 15:58:44.494 -03:00 [DBG] Connection id "0HMMJPO8UHQ3P" received FIN.
2022-12-01 15:58:44.512 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:58:44.515 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:58:44.512 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:58:44.533 -03:00 [DBG] Connection id "0HMMJPO8UHQ3O" stopped.
2022-12-01 15:58:44.533 -03:00 [DBG] Connection id "0HMMJPO8UHQ3P" stopped.
2022-12-01 15:58:44.533 -03:00 [DBG] Connection id "0HMMJPO8UHQ3P" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:58:44.533 -03:00 [DBG] Connection id "0HMMJPO8UHQ3O" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:58:44.547 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:58:44.615 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:58:44.617 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:58:44.643 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 15:58:44.645 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:58:44.645 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:58:44.645 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:58:44.645 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:58:44.645 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:58:44.646 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:58:44.651 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:58:44.766 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 15:58:44.768 -03:00 [INF] Retornando todas as vilas.
2022-12-01 15:58:44.786 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 15:58:44.850 -03:00 [DBG] Connection id "0HMMJPO8UHQ3Q" accepted.
2022-12-01 15:58:44.850 -03:00 [DBG] Connection id "0HMMJPO8UHQ3Q" started.
2022-12-01 15:58:44.856 -03:00 [DBG] Connection 0HMMJPO8UHQ3Q established using the following protocol: "Tls12"
2022-12-01 15:58:44.873 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 15:58:44.895 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:58:44.897 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:58:44.897 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:58:44.897 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:58:44.898 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:58:44.898 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:58:44.904 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:44.909 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:44.911 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:58:44.913 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:58:44.914 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:58:44.939 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 15:58:44.970 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:44.970 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 31ms reading results.
2022-12-01 15:58:44.974 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:44.975 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:58:45.006 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 15:58:45.010 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2022-12-01 15:58:45.012 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 15:58:45.013 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 15:58:45.130 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:58:45.199 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 546.4885ms
2022-12-01 15:58:45.200 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 15:58:45.205 -03:00 [DBG] Connection id "0HMMJPO8UHQ3N" completed keep alive response.
2022-12-01 15:58:45.212 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:58:45.219 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:58:45.220 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 15:58:45.220 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaAPI - - - 200 1818 application/json;+charset=utf-8 786.6064ms
2022-12-01 15:58:45.275 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:58:45.283 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:58:45.283 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:58:45.285 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 9.9700ms
2022-12-01 15:58:45.285 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 390.3626ms
2022-12-01 15:58:45.324 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.1113ms
2022-12-01 15:58:45.420 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:58:45.420 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:58:45.420 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:58:45.627 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 206.2219ms
2022-12-01 15:58:52.334 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - -
2022-12-01 15:58:52.334 -03:00 [DBG] No candidates found for the request path '/api/villaNumberApi'
2022-12-01 15:58:52.335 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:58:52.335 -03:00 [DBG] The request path  does not match the path filter
2022-12-01 15:58:52.336 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:58:52.337 -03:00 [DBG] Connection id "0HMMJPO8UHQ3N" completed keep alive response.
2022-12-01 15:58:52.337 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7001/api/villaNumberApi - - - 404 0 - 2.8294ms
2022-12-01 15:59:40.119 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 15:59:41.000 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:59:41.020 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:59:41.061 -03:00 [DBG] Created DbConnection. (39ms).
2022-12-01 15:59:41.067 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.351 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.358 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 15:59:42.364 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2022-12-01 15:59:42.367 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 15:59:42.373 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:59:42.399 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 15:59:42.402 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.412 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (6ms).
2022-12-01 15:59:42.417 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 15:59:42.417 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:59:42.417 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 15:59:42.417 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.418 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.419 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:59:42.438 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 15:59:42.438 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.439 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:59:42.458 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:59:42.458 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:59:42.458 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:59:42.458 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.458 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.458 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:59:42.461 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 15:59:42.465 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.466 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 15:59:42.466 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.466 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:59:42.509 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 15:59:42.695 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 15:59:42.726 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:59:42.726 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:59:42.726 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:59:42.726 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.726 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.726 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:59:42.727 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 15:59:42.729 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.729 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 1ms reading results.
2022-12-01 15:59:42.729 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.729 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 15:59:42.730 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 15:59:42.732 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:42.734 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 15:59:42.794 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 15:59:42.833 -03:00 [DBG] Hosting starting
2022-12-01 15:59:42.849 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 15:59:42.851 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 15:59:42.855 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 15:59:42.861 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 15:59:42.863 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:59:42.863 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 15:59:42.864 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 15:59:42.864 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 15:59:42.866 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 15:59:42.867 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 15:59:42.868 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 15:59:42.951 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 15:59:42.971 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 15:59:42.971 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 15:59:42.971 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 15:59:42.971 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 15:59:42.971 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 15:59:42.971 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 15:59:42.971 -03:00 [INF] Hosting environment: Development
2022-12-01 15:59:42.971 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 15:59:42.971 -03:00 [DBG] Hosting started
2022-12-01 15:59:43.323 -03:00 [DBG] Connection id "0HMMJPOQGTM2D" received FIN.
2022-12-01 15:59:43.327 -03:00 [DBG] Connection id "0HMMJPOQGTM2D" accepted.
2022-12-01 15:59:43.328 -03:00 [DBG] Connection id "0HMMJPOQGTM2D" started.
2022-12-01 15:59:43.337 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 15:59:43.359 -03:00 [DBG] Connection id "0HMMJPOQGTM2D" stopped.
2022-12-01 15:59:43.362 -03:00 [DBG] Connection id "0HMMJPOQGTM2D" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 15:59:43.582 -03:00 [DBG] Connection id "0HMMJPOQGTM2E" accepted.
2022-12-01 15:59:43.584 -03:00 [DBG] Connection id "0HMMJPOQGTM2E" started.
2022-12-01 15:59:43.622 -03:00 [DBG] Connection 0HMMJPOQGTM2E established using the following protocol: "Tls12"
2022-12-01 15:59:43.666 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 15:59:43.694 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 15:59:43.720 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 15:59:43.720 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:59:43.912 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 15:59:44.042 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 15:59:44.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 15:59:44.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 15:59:44.052 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 389.7610ms
2022-12-01 15:59:44.069 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 18.5558ms
2022-12-01 15:59:44.099 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.3001ms
2022-12-01 15:59:44.173 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 15:59:44.173 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 15:59:44.173 -03:00 [DBG] Request did not match any endpoints
2022-12-01 15:59:44.397 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.0143ms
2022-12-01 15:59:59.279 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47
2022-12-01 15:59:59.289 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/UserAuth/login'
2022-12-01 15:59:59.300 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/UserAuth/login' is valid for the request path '/api/v1/UserAuth/login'
2022-12-01 15:59:59.306 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:59:59.307 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 15:59:59.391 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2022-12-01 15:59:59.394 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 15:59:59.431 -03:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelComercy_WebAPI.Model.Dto.LoginRequestDTO) on controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI).
2022-12-01 15:59:59.433 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 15:59:59.434 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 15:59:59.434 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 15:59:59.434 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 15:59:59.434 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 15:59:59.435 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:59:59.436 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.UserController (HotelComercy_WebAPI)
2022-12-01 15:59:59.454 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:59:59.458 -03:00 [DBG] Attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' using the name '' in request data ...
2022-12-01 15:59:59.459 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 15:59:59.459 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2022-12-01 15:59:59.480 -03:00 [DBG] Connection id "0HMMJPOQGTM2E", Request id "0HMMJPOQGTM2E:00000009": started reading request body.
2022-12-01 15:59:59.481 -03:00 [DBG] Connection id "0HMMJPOQGTM2E", Request id "0HMMJPOQGTM2E:00000009": done reading request body.
2022-12-01 15:59:59.654 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:59:59.654 -03:00 [DBG] Done attempting to bind parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:59:59.654 -03:00 [DBG] Attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO' ...
2022-12-01 15:59:59.660 -03:00 [DBG] Done attempting to validate the bound parameter 'loginRequestDTO' of type 'HotelComercy_WebAPI.Model.Dto.LoginRequestDTO'.
2022-12-01 15:59:59.690 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 15:59:59.704 -03:00 [DBG] Compiling query expression: 
'DbSet<LocalUser>()
    .FirstOrDefault(x => x.UserName.ToLower() == __ToLower_0 && x.Password == __loginRequestDTO_Password_1)'
2022-12-01 15:59:59.911 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LocalUser>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LocalUser.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: LocalUser.Name (string) Required, 1], [Property: LocalUser.Password (string) Required, 2], [Property: LocalUser.Role (string) Required, 3], [Property: LocalUser.UserName (string) Required, 4] }
        SELECT TOP(1) l.Id, l.Name, l.Password, l.Role, l.UserName
        FROM LocalUsers AS l
        WHERE (LOWER(l.UserName) == @__ToLower_0) && (l.Password == @__loginRequestDTO_Password_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LocalUser>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2022-12-01 15:59:59.937 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 15:59:59.937 -03:00 [DBG] Creating DbConnection.
2022-12-01 15:59:59.938 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 15:59:59.938 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 15:59:59.942 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2022-12-01 15:59:59.942 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:59.942 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 15:59:59.950 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 16:00:00.017 -03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__ToLower_0='?' (Size = 4000), @__loginRequestDTO_Password_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Name], [l].[Password], [l].[Role], [l].[UserName]
FROM [LocalUsers] AS [l]
WHERE LOWER([l].[UserName]) = @__ToLower_0 AND [l].[Password] = @__loginRequestDTO_Password_1
2022-12-01 16:00:00.091 -03:00 [DBG] Context 'ApiVillaContext' started tracking 'LocalUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-12-01 16:00:00.124 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:00.126 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 108ms reading results.
2022-12-01 16:00:00.126 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:00.126 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 16:00:00.307 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 16:00:00.309 -03:00 [DBG] No information found on request to perform content negotiation.
2022-12-01 16:00:00.309 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 16:00:00.309 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 16:00:00.310 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 16:00:00.310 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 16:00:00.395 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI) in 956.9752ms
2022-12-01 16:00:00.395 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.UserController.Login (HotelComercy_WebAPI)'
2022-12-01 16:00:00.405 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 16:00:00.413 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:00.415 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 16:00:00.415 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7001/api/v1/UserAuth/login application/json-patch+json 47 - 200 353 application/json;+charset=utf-8 1136.2644ms
2022-12-01 16:00:17.202 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/api/v1/VillaApi - -
2022-12-01 16:00:17.203 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/VillaApi'
2022-12-01 16:00:17.203 -03:00 [DBG] Endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)' with route pattern 'api/v{version:apiVersion}/VillaApi' is valid for the request path '/api/v1/VillaApi'
2022-12-01 16:00:17.203 -03:00 [DBG] Request matched endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 16:00:17.203 -03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-12-01 16:00:17.307 -03:00 [DBG] Successfully validated the token.
2022-12-01 16:00:17.308 -03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2022-12-01 16:00:17.308 -03:00 [INF] Executing endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 16:00:17.311 -03:00 [INF] Route matched with {action = "GetVillas", controller = "VillaApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[HotelComercy_WebAPI.Model.ApiResponse]] GetVillas() on controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI).
2022-12-01 16:00:17.311 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-12-01 16:00:17.311 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-12-01 16:00:17.311 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-12-01 16:00:17.311 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-12-01 16:00:17.311 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-12-01 16:00:17.311 -03:00 [DBG] Executing controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 16:00:17.382 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 16:00:17.517 -03:00 [DBG] Executed controller factory for controller HotelComercy_WebAPI.Controllers.VillaApiController (HotelComercy_WebAPI)
2022-12-01 16:00:17.519 -03:00 [INF] Retornando todas as vilas.
2022-12-01 16:00:17.533 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .AsNoTracking()'
2022-12-01 16:00:17.540 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Villa>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Villa.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Villa.Amenity (string) Required, 1], [Property: Villa.CreatedDate (DateTime) Required, 2], [Property: Villa.Details (string) Required, 3], [Property: Villa.ImageUrl (string) Required, 4], [Property: Villa.Name (string) Required MaxLength(30), 5], [Property: Villa.Occupancy (int) Required, 6], [Property: Villa.Rate (double) Required, 7], [Property: Villa.Sqtf (int) Required, 8], [Property: Villa.UpdatedDate (DateTime) Required, 9] }
        SELECT v.Id, v.Amenity, v.CreatedDate, v.Details, v.ImageUrl, v.Name, v.Occupancy, v.Rate, v.Sqtf, v.UpdatedDate
        FROM Villas AS v), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Villa>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)'
2022-12-01 16:00:17.567 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 16:00:17.567 -03:00 [DBG] Creating DbConnection.
2022-12-01 16:00:17.567 -03:00 [DBG] Created DbConnection. (0ms).
2022-12-01 16:00:17.567 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 16:00:17.567 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 16:00:17.574 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:17.580 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:17.584 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 16:00:17.623 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Amenity], [v].[CreatedDate], [v].[Details], [v].[ImageUrl], [v].[Name], [v].[Occupancy], [v].[Rate], [v].[Sqtf], [v].[UpdatedDate]
FROM [Villas] AS [v]
2022-12-01 16:00:17.657 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:17.657 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 34ms reading results.
2022-12-01 16:00:17.667 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:17.667 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (2ms).
2022-12-01 16:00:17.718 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2022-12-01 16:00:17.721 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2022-12-01 16:00:17.722 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2022-12-01 16:00:17.722 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-12-01 16:00:17.722 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-12-01 16:00:17.722 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-12-01 16:00:17.722 -03:00 [INF] Executing OkObjectResult, writing value of type 'HotelComercy_WebAPI.Model.ApiResponse'.
2022-12-01 16:00:17.734 -03:00 [INF] Executed action HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI) in 422.3751ms
2022-12-01 16:00:17.735 -03:00 [INF] Executed endpoint 'HotelComercy_WebAPI.Controllers.VillaApiController.GetVillas (HotelComercy_WebAPI)'
2022-12-01 16:00:17.737 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 16:00:17.737 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:00:17.737 -03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2022-12-01 16:00:17.737 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/api/v1/VillaApi - - - 200 1818 application/json;+charset=utf-8 535.3793ms
2022-12-01 16:02:30.109 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-12-01 16:02:31.182 -03:00 [DBG] Entity Framework Core 7.0.0 initialized 'ApiVillaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.0' with options: None
2022-12-01 16:02:31.205 -03:00 [DBG] Creating DbConnection.
2022-12-01 16:02:31.282 -03:00 [DBG] Created DbConnection. (70ms).
2022-12-01 16:02:31.293 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.575 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.583 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2022-12-01 16:02:32.589 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2022-12-01 16:02:32.591 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2022-12-01 16:02:32.597 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 16:02:32.624 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-12-01 16:02:32.627 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.638 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (7ms).
2022-12-01 16:02:32.642 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2022-12-01 16:02:32.642 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 16:02:32.642 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2022-12-01 16:02:32.642 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.643 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.643 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 16:02:32.662 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-12-01 16:02:32.662 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.662 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 16:02:32.682 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 16:02:32.682 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 16:02:32.682 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 16:02:32.682 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.682 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.683 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 16:02:32.687 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-12-01 16:02:32.690 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.691 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 3ms reading results.
2022-12-01 16:02:32.692 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.692 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 16:02:32.737 -03:00 [DBG] Compiling query expression: 
'DbSet<Villa>()
    .Any()'
2022-12-01 16:02:32.933 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Villas AS v)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    HotelComercy_WebAPI.Data.ApiVillaContext, 
    False, 
    False, 
    True
)
    .Single()'
2022-12-01 16:02:32.962 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-12-01 16:02:32.962 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-12-01 16:02:32.962 -03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2022-12-01 16:02:32.962 -03:00 [DBG] Opening connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.962 -03:00 [DBG] Opened connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.962 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 16:02:32.965 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Villas] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-12-01 16:02:32.967 -03:00 [DBG] Closing data reader to 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.967 -03:00 [DBG] A data reader for 'ApiVilla' on server 'MAGNATI-10857-F' is being disposed after spending 2ms reading results.
2022-12-01 16:02:32.967 -03:00 [DBG] Closing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.967 -03:00 [DBG] Closed connection to database 'ApiVilla' on server 'MAGNATI-10857-F' (0ms).
2022-12-01 16:02:32.969 -03:00 [DBG] 'ApiVillaContext' disposed.
2022-12-01 16:02:32.971 -03:00 [DBG] Disposing connection to database 'ApiVilla' on server 'MAGNATI-10857-F'.
2022-12-01 16:02:32.972 -03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2022-12-01 16:02:33.041 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-12-01 16:02:33.099 -03:00 [DBG] Hosting starting
2022-12-01 16:02:33.114 -03:00 [INF] User profile is available. Using 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-12-01 16:02:33.116 -03:00 [DBG] Reading data from file 'C:\Users\lucasfernando_frwk\AppData\Local\ASP.NET\DataProtection-Keys\key-988a5ecf-d18a-4219-a633-2aa6cabd7c0d.xml'.
2022-12-01 16:02:33.121 -03:00 [DBG] Found key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d}.
2022-12-01 16:02:33.128 -03:00 [DBG] Considering key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} with expiration date 2023-01-23 14:31:05Z as default key.
2022-12-01 16:02:33.129 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 16:02:33.130 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2022-12-01 16:02:33.131 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2022-12-01 16:02:33.133 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2022-12-01 16:02:33.134 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2022-12-01 16:02:33.137 -03:00 [DBG] Using key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} as the default key.
2022-12-01 16:02:33.138 -03:00 [DBG] Key ring with default key {988a5ecf-d18a-4219-a633-2aa6cabd7c0d} was loaded during application startup.
2022-12-01 16:02:33.239 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 0A7A7EC0AC28A36C78BD3723560A359499E447D4)
2022-12-01 16:02:33.265 -03:00 [INF] Now listening on: https://localhost:7001
2022-12-01 16:02:33.265 -03:00 [INF] Now listening on: http://localhost:5178
2022-12-01 16:02:33.265 -03:00 [DBG] Loaded hosting startup assembly HotelComercy_WebAPI
2022-12-01 16:02:33.265 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-12-01 16:02:33.265 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-12-01 16:02:33.266 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-12-01 16:02:33.266 -03:00 [INF] Hosting environment: Development
2022-12-01 16:02:33.266 -03:00 [INF] Content root path: C:\Users\lucasfernando_frwk\Documents\API Village\HotelComercy\HotelComercy_WebAPI\
2022-12-01 16:02:33.266 -03:00 [DBG] Hosting started
2022-12-01 16:02:33.689 -03:00 [DBG] Connection id "0HMMJPQD9KMI8" accepted.
2022-12-01 16:02:33.689 -03:00 [DBG] Connection id "0HMMJPQD9KMI9" accepted.
2022-12-01 16:02:33.690 -03:00 [DBG] Connection id "0HMMJPQD9KMI9" started.
2022-12-01 16:02:33.690 -03:00 [DBG] Connection id "0HMMJPQD9KMI8" started.
2022-12-01 16:02:33.695 -03:00 [DBG] Connection id "0HMMJPQD9KMI9" received FIN.
2022-12-01 16:02:33.695 -03:00 [DBG] Connection id "0HMMJPQD9KMI8" received FIN.
2022-12-01 16:02:33.706 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 16:02:33.706 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-12-01 16:02:33.722 -03:00 [DBG] Connection id "0HMMJPQD9KMI8" stopped.
2022-12-01 16:02:33.722 -03:00 [DBG] Connection id "0HMMJPQD9KMI9" stopped.
2022-12-01 16:02:33.724 -03:00 [DBG] Connection id "0HMMJPQD9KMI9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 16:02:33.724 -03:00 [DBG] Connection id "0HMMJPQD9KMI8" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-12-01 16:02:34.360 -03:00 [DBG] Connection id "0HMMJPQD9KMIA" accepted.
2022-12-01 16:02:34.360 -03:00 [DBG] Connection id "0HMMJPQD9KMIA" started.
2022-12-01 16:02:34.419 -03:00 [DBG] Connection 0HMMJPQD9KMIA established using the following protocol: "Tls12"
2022-12-01 16:02:34.467 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/index.html - -
2022-12-01 16:02:34.500 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-12-01 16:02:34.522 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-12-01 16:02:34.522 -03:00 [DBG] Request did not match any endpoints
2022-12-01 16:02:34.718 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-12-01 16:02:34.846 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-12-01 16:02:34.857 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/index.html - - - 200 - text/html;charset=utf-8 394.7633ms
2022-12-01 16:02:34.871 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - -
2022-12-01 16:02:34.871 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/_vs/browserLink - -
2022-12-01 16:02:34.890 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_framework/aspnetcore-browser-refresh.js - - - 200 12008 application/javascript;+charset=utf-8 19.6147ms
2022-12-01 16:02:34.904 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.7911ms
2022-12-01 16:02:34.984 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - -
2022-12-01 16:02:34.985 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-12-01 16:02:34.985 -03:00 [DBG] Request did not match any endpoints
2022-12-01 16:02:35.208 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 223.3061ms
